{"version":3,"sources":["store/app/reducer.js","store/init.js","store/index.js","store/actions_type.js","store/app/actions.js","config.js","store/app/initial.js","components/NextButton.js","steps/Step0.js","steps/Step1.js","components/Form.js","steps/Step2.js","components/Hello.js","steps/Step3.js","utils.js","rest.js","components/TakenBy.js","components/AvailableBooks.js","components/VerseLocation.js","components/Modal.js","components/Book.js","components/OtherBooksModal.js","components/Loader.js","components/LoadMore.js","components/VerseDisplay.js","searches/FirstAndLastLetter.js","searches/FreeSearch.js","searches/VerseYourName.js","searches/Gematria.js","searches/AmountSearch.js","searches/RandomSearch.js","components/VersesRange.js","searches/ByDate.js","searches/Aliya.js","steps/Step4.js","steps/Step5.js","steps/Step6.js","payment.script.js","steps/Step7.js","steps/Step8.js","pages/Home.js","pages/Login.js","pages/Management.js","pages/NotFound.js","components/Cart.js","App.js","serviceWorker.js","index.js"],"names":["APP","require","default","initialState","rootReducer","combineReducers","app","state","arguments","length","undefined","action","newState","_objectSpread","type","SET_LOGIN","token","data","UPDATE_DONATE","donate","LOGOUT","SET_MOBILE_VIEW","mobileView","UPDATE_MODAL","modal","RESET_MODAL","UPDATE_FOOTER","footer","SET_SELECTED_VERSES","selectedVerses","ADD_TO_CART","cart","CLEAR_CART","SET_BLESS_FOR","blessFor","SET_SELECTED_BOOK","selectedBook","SET_PAYMENT","payment","CLEAR_ALL","configureStore","createStore","applyMiddleware","thunk","index","keyMirror","SET_TOKEN","init","dispatch","getState","login_info","window","sessionStorage","getItem","LOCAL_STORAGE","LOGIN_INFO","JSON","parse","err","location","hostname","donate_info","DONATE_INFO","book_info","BOOK_INFO","verses_info","VERSES_INFO","cart_info","CART_INFO","setMobileView","isMobile","login","Promise","resolve","reject","setItem","stringify","updateDonate","resetAppData","removeItem","logout","updateModal","update","resetModal","console","log","updateFooter","setSelectedVerses","addToCart","all","concat","_toConsumableArray","removeFromCart","id","findIndex","v","_id","splice","clearCart","setBlessFor","setSelectedBook","setPayment","clearAll","TOKEN","USERNAME","getLoginForm","cloneDeep","user","value","title","settings","password","getDonateForm","name","required","lastName","phone","pattern","address","rows","email","BooksCategoriesKeys","BooksCategoriesValues","_BooksCategoriesValue","_defineProperty","getBookForm","form","description","writer_notes","tel","weight","category","options","key","getFreeSearchForm","search","placeholder","getEnterYourNameForm","freeSearchFormWithButtons","tmp","radioValue","multiple","selected","getAmountForm","min","getByDateForm","date","uploadImage","image_url","SearchTypes","freeSearch","firstAndLastLetter","aliya","gematria","verseYourName","byDate","amount","random","getSearchTypes","BooksMap","1","2","3","4","5","InitialState","styles","nextButtonStyle","marginTop","marginBottom","NextButton","_ref","disabled","text","clicked","React","createElement","Fragment","Button","style","onClick","Step0","nextStep","actions","className","Step1","MyForm","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","FIELDS","fields","FIELDS_MIRROR","Object","keys","forEach","formErrors","validation","_createClass","_this2","this","triggerSubmitOnCreate","setTimeout","validateForm","updateOnChanges","fieldName","fieldValidationErrors","valid","match","setState","_this$props$reff","formInvalid","reff","current","refs","formRef","checkValidity","_this3","field","_this3$FIELDS$key","_this3$FIELDS$key$set","Form","Group","ref","controlId","Label","Control","assign","as","onChange","event","handleUserSelect","map","item","_this3$FIELDS$key2","_this3$FIELDS$key2$se","toggleDate","handleDateInput","_this3$FIELDS$key3","_this3$FIELDS$key3$se","defaultValue","handleUserInput","_this3$FIELDS$key4","_this3$FIELDS$key4$se","Check","label","handleCheckboxInput","_this3$FIELDS$key6","_this3$FIELDS$key6$se","_this3$FIELDS$key5","radio","idx","handleRadioInput","inline","variant","checked","preview","width","height","src","File","handleFileInput","bind","custom","_this3$FIELDS$key7","_this3$FIELDS$key7$se","subTitle","Text","onBlur","push","e","_this4","target","validateField","_this5","_this6","input","reader","FileReader","onload","document","getElementById","result","readAsDataURL","_this7","files","readURL","_this8","selectedIndex","parent","children","everyChangeUpdate","callback","$","trigger","_this9","attr","moment","format","preventDefault","formOptions","onSubmit","handleSubmit","getFormFields","loading","Spinner","animation","submitText","Component","connect","creators","app_actions","bindActionCreators","Step2","_useState","useState","_useState2","_slicedToArray","formData","setFormData","donateForm","inputEl1","useRef","k","contribution","toSave","reportValidity","Hello","contributionName","contributionLastName","Step3","jumpToNextStep","searchType","val","gematriya","isASCII","isBrowser","str","test","countWeight","count","i","charAt","gematriyaNumbers","num","geresh","punctuate","hebMap","SPACE","booksMap","booksMapHeb","_regeneratorRuntime","exports","Op","prototype","hasOwn","hasOwnProperty","defineProperty","obj","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","record","__await","then","unwrapped","error","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","return","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","constructor","mark","setPrototypeOf","__proto__","awrap","async","iter","object","reverse","pop","skipTempReset","prev","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","store","DOMAIN","loadFingerPrint","_loadFingerPrint","apply","_asyncToGenerator","_callee2","_context2","FingerprintJS","load","fp","get","visitorId","headers","responseMiddleware","response","logoutMiddleware","status","catchMiddleware","REST","fakeLogin","axios","post","getAllBooks","json","getBooksByCategory","getManagementBooks","addBook","updateBook","bookId","put","deleteBook","delete","restoreBook","removeBookPermanently","source","params","findInOtherBooks","updateBuyingVerses","checkAvailability","_checkAvailability","_callee","versesIds","ranges","vId","_context","t0","_x","_x2","_x3","_x4","downloadXlsx","responseType","getParashaByDate","endOf","cors","getSelectedVersesPriceAndAmount","verses","filter","range","book","code","checkIFPaymentIsDone","checkout","TakenBy","bless","join","AvailableBooks","availableBooks","VerseLocation","chapter","verse","MyModal","show","componentWillHandleProps","nextProps","nextContext","isFirstTime","handleShow","handleClose","onClose","Modal","size","aria-labelledby","centered","Boolean","onHide","Header","closeButton","Title","Body","body","hideFooter","Footer","buttons","btn","class","Book","versesAmount","isManagement","image","href","borderRadius","gray","color","fontSize","OtherBooksModal","textWithout","originalVerse","setLoading","_useState3","_useState4","results","setResults","_useState5","_useState6","setShow","_useState7","_useState8","_useState9","_useState10","samePlace","setSamePlace","useEffect","rest","verseInSamePlace","d","stopPropagation","nativeEvent","stopImmediatePropagation","chooseSpecificPlace","res","Date","now","toString","updateSelected","bookInfo","Loader","margin","LoadMore","VerseDisplay","showLength","taken","list","listStyleType","FirstAndLastLetter","skip","setSkip","setVerses","searchLoading","setSearchLoading","setSearch","_useState11","_useState12","chosenVerses","setChosenVerses","_useState13","_useState14","replaceVerse","setReplaceVerse","_useState15","_useState16","setError","_useState17","_useState18","hasMoreAnswers","setHasMoreAnswers","freeSearchForm","timeoutRef","fetchVerses","trim","hasMore","searchInOtherBooks","clearTimeout","prevVerses","selectedVerse","original","FreeSearch","VerseYourName","Gematria","gematri","setGematri","_useState19","_useState20","_useState21","_useState22","setRadioValue","freeSearchFormWithButtonsForm","_step","_iterator","_createForOfIteratorHelper","split","s","n","f","gematriyaLetters","valIndex","querySelectorAll","currentTarget","find","getVersesView","AmountSearch","amountForm","Number","getNewComplex","ButtonGroup","ToggleButton","RandomSearch","reachedToBottom","VersesRange","withBook","transformed","ByDate","parasha","setParasha","byDateForm","items","leyning","vi","includes","bookName","transformAliya","start","end","pos","posA","posB","date13","HDate","add","greg","Tora","Aliya","selectedAliyaBook","setSelectedAliyaBook","setAliya","onBookSelected","b","bi","aliyot","onParashaSelected","Step4","setSearchType","versesSelected","setVersesSelected","setAmount","URLSearchParams","getTotalAmount","canContinue","can","price","getSelectedSearchType","Step5","toUpdate","setToUpdate","getBlessElem","_val$bless","t","FontAwesomeIcon","confirm","icon","ICONS","_v$bless","selectedIds","success","_v$bless2","alert","history","back","Step6","books","setBooks","finally","PostNedarim","Data","contentWindow","postMessage","ReadPostMessage","Name","parseInt","Value","display","Status","innerHTML","Message","onerror","msg","url","line","col","domain","Step7","uniqueId","uuidv4","getAmount","addEventListener","attachEvent","checkPaymentStatus","gtag","payed","message","frameBorder","process","Step8","Home","currStep","step","pathname","renderSteps","Login","toS","replace","submit","forgetPass","hidePolicy","Management","showBookModal","showBookModalLoading","getBooks","bookForm","bookFormCallback","toggleBookModal","showUploadImageModal","uploadImageModalLoading","toSend","FormData","append","toggleUploadImageModal","_this10","URL","createObjectURL","Blob","link","setAttribute","appendChild","click","_this11","deleted","updateBookAction","uploadImageAction","ActionButton","tooltip","addBookAction","rotate","Register","Cart","updatePrice","subscribe","PrivateRoute","component","_objectWithoutProperties","_excluded","Route","render","computedMatch","Redirect","to","pushState","replaceState","dispatchEvent","Event","App","_React$Component","showModal","collapsed","onDimensionsChanged","innerWidth","innerHeight","addClass","removeClass","closeNavbar","eventKey","browserRef","toggleNavbar","go","_openCart","Navbar","sticky","bg","expand","expanded","Brand","onClickTopBar","Toggle","aria-controls","Collapse","Nav","defaultActiveKey","onSelect","handleSelect","openCart","Badge","BrowserRouter","Switch","exact","path","NotFound","ReactDOM","Provider","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.740de766.chunk.js","sourcesContent":["const {APP} = require(\"../actions_type\").default;\nconst initialState = require('./initial').default;\n\nexport default function appReducer(state = initialState, action) {\n    let newState = {...state}\n    switch (action.type) {\n        case APP.SET_LOGIN: {\n            newState.token = action.data.token;\n            break;\n        }\n\n        case APP.UPDATE_DONATE: {\n            newState.donate = action.data;\n            break;\n        }\n\n        case APP.LOGOUT: {\n            newState.token = '';\n            break;\n        }\n\n        case APP.SET_MOBILE_VIEW: {\n            newState.mobileView = action.data.mobileView;\n            break;\n        }\n\n        case APP.UPDATE_MODAL: {\n            newState.modal = action.data;\n            break;\n        }\n\n        case APP.RESET_MODAL: {\n            newState.modal = null;\n            break;\n        }\n\n        case APP.UPDATE_FOOTER: {\n            newState.footer = action.data;\n            break;\n        }\n\n        case APP.SET_SELECTED_VERSES: {\n            newState.selectedVerses = action.data;\n            break;\n        }\n\n        case APP.ADD_TO_CART: {\n            newState.cart = action.data;\n            break;\n        }\n        case APP.CLEAR_CART: {\n            newState.cart = [];\n            break;\n        }\n\n        case APP.SET_BLESS_FOR: {\n            newState.blessFor = action.data;\n            break;\n        }\n        case APP.SET_SELECTED_BOOK: {\n            newState.selectedBook = action.data;\n            break;\n        }\n\n        case APP.SET_PAYMENT: {\n            newState.payment = action.data;\n            break;\n        }\n\n        case APP.CLEAR_ALL: {\n            newState = {...initialState};\n            break;\n        }\n\n        default:\n            return newState;\n    }\n\n    return newState\n}\n","import { combineReducers } from 'redux';\nimport app from './app/reducer';\n\nconst rootReducer = combineReducers({\n    app,\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './init';\n\nexport function configureStore() {\n    return createStore(rootReducer,applyMiddleware(thunk));\n}\n\nconst index = configureStore();\nexport default index;\n","import keyMirror from 'key-mirror';\n\nexport default {\n  APP : keyMirror({\n    SET_MOBILE_VIEW: null,\n    SET_LOGIN:null,\n    SET_TOKEN:null,\n    LOGOUT:null,\n    UPDATE_MODAL:null,\n    RESET_MODAL:null,\n    UPDATE_FOOTER:null,\n    UPDATE_DONATE:null,\n    SET_SELECTED_VERSES:null,\n    SET_BLESS_FOR:null,\n    SET_SELECTED_BOOK:null,\n    SET_PAYMENT:null,\n    CLEAR_ALL:null,\n    ADD_TO_CART:null,\n    CLEAR_CART:null,\n  }),\n}\n","import {LOCAL_STORAGE} from '../../config';\n\nconst {APP} = require(\"../actions_type\").default;\n\nexport function init() {\n    return (dispatch, getState) => {\n        let login_info = window.sessionStorage.getItem(LOCAL_STORAGE.LOGIN_INFO);\n        if (login_info) {\n            try {\n                login_info = JSON.parse(login_info);\n                dispatch({\n                    type: APP.SET_LOGIN,\n                    data: login_info\n                })\n            } catch (err) {\n            }\n        } else {\n            if (window.location.hostname === 'localhost') {\n                // dispatch({\n                //   type: APP.SET_LOGIN,\n                //   data: login_info || {token: \"123\", username: 'avi'}\n                // })\n            }\n        }\n        let donate_info = window.sessionStorage.getItem(LOCAL_STORAGE.DONATE_INFO);\n        if (donate_info) {\n            try {\n                donate_info = JSON.parse(donate_info);\n                dispatch({\n                    type: APP.UPDATE_DONATE,\n                    data: donate_info\n                })\n            } catch (err) {\n            }\n        }\n        let book_info = window.sessionStorage.getItem(LOCAL_STORAGE.BOOK_INFO);\n        if (book_info) {\n            try {\n                book_info = JSON.parse(book_info);\n                dispatch({\n                    type: APP.SET_SELECTED_BOOK,\n                    data: book_info\n                })\n            } catch (err) {\n            }\n        }\n        let verses_info = window.sessionStorage.getItem(LOCAL_STORAGE.VERSES_INFO);\n        if (verses_info) {\n            try {\n                verses_info = JSON.parse(verses_info);\n                dispatch({\n                    type: APP.SET_SELECTED_VERSES,\n                    data: verses_info\n                })\n            } catch (err) {\n            }\n        }\n        let cart_info = window.sessionStorage.getItem(LOCAL_STORAGE.CART_INFO);\n        if (cart_info) {\n            try {\n                cart_info = JSON.parse(cart_info);\n                dispatch({\n                    type: APP.ADD_TO_CART,\n                    data: cart_info\n                })\n            } catch (err) {\n            }\n        }\n    }\n}\n\nexport function setMobileView(isMobile) {\n    return (dispatch, getState) => {\n        dispatch({\n            type: APP.SET_MOBILE_VIEW,\n            data: {mobileView: isMobile}\n        })\n    }\n}\n\nexport function login(data) {\n    return (dispatch, getState) => {\n        return new Promise((resolve, reject) => {\n            window.sessionStorage.setItem(LOCAL_STORAGE.LOGIN_INFO, JSON.stringify(data));\n            dispatch({\n                type: APP.SET_LOGIN,\n                data: data\n            })\n            resolve();\n        })\n    }\n}\n\nexport function updateDonate(data) {\n    return (dispatch, getState) => {\n        window.sessionStorage.setItem(LOCAL_STORAGE.DONATE_INFO, JSON.stringify(data));\n        dispatch({\n            type: APP.UPDATE_DONATE,\n            data: data\n        })\n    }\n}\n\nexport function resetAppData() {\n    return (dispatch, getState) => {\n        window.sessionStorage.removeItem(LOCAL_STORAGE.DONATE_INFO);\n        window.sessionStorage.removeItem(LOCAL_STORAGE.BOOK_INFO);\n        window.sessionStorage.removeItem(LOCAL_STORAGE.VERSES_INFO);\n        window.sessionStorage.removeItem(LOCAL_STORAGE.CART_INFO);\n        dispatch({\n            type: APP.CLEAR_ALL,\n            data: {},\n        });\n    }\n}\n\nexport function logout() {\n    return (dispatch, getState) => {\n        window.sessionStorage.removeItem(LOCAL_STORAGE.LOGIN_INFO);\n        dispatch({\n            type: APP.LOGOUT,\n            data: null\n        })\n    }\n}\n\n\nexport function updateModal(data) {\n    return (dispatch, getState) => {\n        if (data.update) {\n            const modal = getState().app.modal;\n            data = {...modal, ...data};\n        }\n        dispatch({\n            type: APP.UPDATE_MODAL,\n            data: data\n        })\n    }\n}\n\n\nexport function resetModal() {\n    return (dispatch, getState) => {\n        console.log('reset modal');\n        dispatch({\n            type: APP.RESET_MODAL,\n            data: null\n        })\n    }\n}\n\n\nexport function updateFooter(data) {\n  return (dispatch, getState) => {\n    dispatch({\n      type: APP.UPDATE_FOOTER,\n      data: data\n    })\n  }\n}\n\n\nexport function setSelectedVerses(data) {\n    return (dispatch, getState) => {\n        window.sessionStorage.setItem(LOCAL_STORAGE.VERSES_INFO, JSON.stringify(data));\n        dispatch({\n            type: APP.SET_SELECTED_VERSES,\n            data: data\n        })\n    }\n}\n\nexport function addToCart(data) {\n    return (dispatch, getState) => {\n        const cart = getState().app.cart;\n        const all = [...cart, ...data];\n        window.sessionStorage.setItem(LOCAL_STORAGE.CART_INFO, JSON.stringify(all));\n        dispatch({\n            type: APP.ADD_TO_CART,\n            data: all\n        })\n    }\n}\n\nexport function removeFromCart(id) {\n    return (dispatch, getState) => {\n        const cart = getState().app.cart;\n        const index = cart.findIndex(v => v._id === id);\n        if (index !== -1) {\n            cart.splice(index, 1);\n        }\n        const all = [...cart];\n        window.sessionStorage.setItem(LOCAL_STORAGE.CART_INFO, JSON.stringify(all));\n        dispatch({\n            type: APP.ADD_TO_CART,\n            data: all\n        })\n    }\n}\n\nexport function clearCart() {\n    return (dispatch, getState) => {\n        window.sessionStorage.removeItem(LOCAL_STORAGE.CART_INFO);\n        dispatch({\n            type: APP.CLEAR_CART,\n            data: []\n        })\n    }\n}\n\n\nexport function setBlessFor(data) {\n    return (dispatch, getState) => {\n        dispatch({\n            type: APP.SET_BLESS_FOR,\n            data: data\n        })\n    }\n}\n\nexport function setSelectedBook(data) {\n    return (dispatch, getState) => {\n        window.sessionStorage.setItem(LOCAL_STORAGE.BOOK_INFO, JSON.stringify(data));\n        dispatch({\n            type: APP.SET_SELECTED_BOOK,\n            data: data\n        })\n    }\n}\n\nexport function setPayment(data) {\n    return (dispatch, getState) => {\n        dispatch({\n            type: APP.SET_PAYMENT,\n            data: data\n        })\n    }\n}\n\nexport function clearAll(data) {\n    return (dispatch, getState) => {\n        dispatch({\n            type: APP.CLEAR_ALL,\n            data: data\n        })\n    }\n}\n","import cloneDeep from 'lodash/cloneDeep';\nimport keyMirror from 'key-mirror';\nimport moment from 'moment';\nimport * as ICONS from '@fortawesome/free-solid-svg-icons';\n\nexport const LOCAL_STORAGE = keyMirror({\n    VERSES_INFO: null,\n    BOOK_INFO: null,\n    DONATE_INFO: null,\n    LOGIN_INFO: null,\n    TOKEN: null,\n    USERNAME: null,\n    CART_INFO: null,\n})\n\nexport const getLoginForm = () => {\n    let form = {\n        user: {\n            value: '',\n            title: 'שם משתמש',\n            settings: {},\n            type: 'text',\n        },\n        password: {\n            value: '',\n            title: 'סיסמא',\n            type: 'password',\n        },\n    }\n    return cloneDeep(form);\n};\n\nexport const getDonateForm = () => {\n    let form = {\n        name: {\n            value: '',\n            title: 'שם פרטי',\n            type: 'text',\n            settings: {required: true},\n        },\n        lastName: {\n            value: '',\n            title: 'שם משפחה',\n            type: 'text',\n            settings: {},\n        },\n        phone: {\n            value: '',\n            title: 'טלפון',\n            settings: {pattern: '[0-9]*', required: true},\n            type: 'tel',\n        },\n        address: {\n            value: '',\n            settings: {rows: 3},\n            title: 'כתובת',\n            type: 'textarea',\n        },\n        email: {\n            value: '',\n            title: 'אימייל',\n            type: 'email',\n            settings: {},\n        }\n    }\n    return cloneDeep(form);\n};\n\nexport const getContributionForm = () => {\n    let form = {\n        contributionName: {\n            value: '',\n            title: 'שם פרטי',\n            type: 'text',\n            settings: {required: true},\n        },\n        contributionLastName: {\n            value: '',\n            title: 'שם משפחה',\n            type: 'text',\n            settings: {},\n        },\n        contributionMessage: {\n            value: '',\n            settings: {rows: 3},\n            title: 'כתובת',\n            type: 'textarea',\n        },\n        contributionEmail: {\n            value: '',\n            title: 'אימייל',\n            type: 'email',\n            settings: {},\n        },\n    }\n    return cloneDeep(form);\n};\n\nexport const BooksCategoriesKeys = {\n    'synagogues': 'synagogues',\n    'tombsOfTheRighteous': 'tombsOfTheRighteous',\n    'hospitals': 'hospitals',\n    'IDF': 'IDF',\n    'other': 'other',\n}\n\nexport const BooksCategoriesValues = {\n    [BooksCategoriesKeys.synagogues]: 'בתי כנסיות',\n    [BooksCategoriesKeys.tombsOfTheRighteous]: 'קברות צדיקים',\n    [BooksCategoriesKeys.hospitals]: 'בתי חולים',\n    [BooksCategoriesKeys.IDF]: 'בסיסי צה״ל',\n    [BooksCategoriesKeys.other]: 'שונות',\n}\n\nexport const getBookForm = () => {\n    let form = {\n        address: {\n            value: '',\n            title: 'כתובת',\n            type: 'textarea',\n            settings: {required: true},\n        },\n        description: {\n            value: '',\n            title: 'תיאור כללי של המקום',\n            type: 'textarea',\n            settings: {required: true},\n        },\n        writer_notes: {\n            value: '',\n            settings: {rows: 3},\n            title: 'הקדשה של מפרסם הספר',\n            type: 'textarea',\n        },\n        tel: {\n            value: '',\n            title: 'טלפון',\n            settings: {pattern: '[0-9]*'},\n            type: 'tel',\n        },\n        weight: {\n            value: '',\n            title: 'משקל',\n            type: 'tel',\n            settings: {pattern: '[0-9]*'},\n        },\n        category: {\n            value: '',\n            title: ' קטגוריה',\n            type: 'select',\n            settings: {},\n            options: [\n                {key: '', value: 'בחר קטגוריה'},\n                {key: BooksCategoriesKeys.synagogues, value: BooksCategoriesValues[BooksCategoriesKeys.synagogues]},\n                {key: BooksCategoriesKeys.tombsOfTheRighteous, value: BooksCategoriesValues[BooksCategoriesKeys.tombsOfTheRighteous]},\n                {key: BooksCategoriesKeys.hospitals, value: BooksCategoriesValues[BooksCategoriesKeys.hospitals]},\n                {key: BooksCategoriesKeys.IDF, value: BooksCategoriesValues[BooksCategoriesKeys.IDF]},\n                {key: BooksCategoriesKeys.other, value: BooksCategoriesValues[BooksCategoriesKeys.other]},\n            ]\n        },\n    }\n    return cloneDeep(form);\n};\nexport const getFreeSearchForm = () => {\n    let form = {\n        search: {\n            value: '',\n            title: 'חיפוש חופשי',\n            placeholder: 'חיפוש חופשי',\n            type: 'search',\n            settings: {required: true}\n        },\n    }\n    return cloneDeep(form);\n};\nexport const getEnterYourNameForm = () => {\n    let form = {\n        search: {\n            value: '',\n            title: 'שם:',\n            placeholder: 'הזינו את שמכם..',\n            type: 'search',\n            settings: {required: true}\n        },\n    }\n    return cloneDeep(form);\n};\nexport const freeSearchFormWithButtons = () => {\n    const tmp = getEnterYourNameForm();\n    let form = {\n        ...tmp,\n        // todo: adding complex buttons here\n        radioValue: {\n            type: 'radio',\n            value: '',\n            title: '',\n            settings: {multiple: false},\n            selected: '3',\n            options: [\n                { value: 'צירוף 1', key: '1' },\n                { value: '2 צירופים', key: '2' },\n                { value: '3 צירופים', key: '3' },\n                { value: '4 צירופים', key: '4' },\n                { value: '5 צירופים', key: '5' },\n            ]\n        }\n    }\n    return cloneDeep(form);\n};\nexport const getAmountForm = () => {\n    let form = {\n        search: {\n            value: '100',\n            title: 'חפש לפי סכום',\n            placeholder: 'חפש לפי סכום',\n            type: 'number',\n            settings: {min: 0, required: true}\n        },\n    }\n    return cloneDeep(form);\n};\nexport const getByDateForm = () => {\n    let form = {\n        date: {\n            title: 'חפש לפי תאריך לידה',\n            placeholder: 'תאריך לידה',\n            type: 'date',\n            settings: {'data-date-format': \"DD/MM/YYYY\", required: true}\n        },\n    }\n    return cloneDeep(form);\n};\n\nexport const uploadImage = () => {\n    let form = {\n        image_url: {\n            value: '',\n            title: 'העלאת תמונה',\n            type: 'file',\n            settings: {},\n        },\n    }\n    return cloneDeep(form);\n};\n\nexport const SearchTypes = {\n    freeSearch: 'freeSearch',\n    firstAndLastLetter: 'firstAndLastLetter',\n    aliya: 'aliya',\n    gematria: 'gematria',\n    verseYourName: 'verseYourName',\n    byDate: 'byDate',\n    amount: 'amount',\n    random: 'random',\n};\n\nexport const getSearchTypes = () => cloneDeep([\n    {id: SearchTypes.freeSearch, name: 'חיפוש חופשי'},\n    {id: SearchTypes.firstAndLastLetter, name: 'אות ראשונה ואות אחרונה בספר תורה'},\n    {id: SearchTypes.aliya, name: 'עליה'},\n    {id: SearchTypes.gematria, name: 'גימטריה של שמך'},\n    {id: SearchTypes.verseYourName, name: 'פסוק עם שמך'},\n    {id: SearchTypes.byDate, name: 'פרשת עליה לתורה (חיפוש לפי תאריך)'},\n    {id: SearchTypes.amount, name: 'סכום'},\n    {id: SearchTypes.random, name: 'רנדומלי'},\n]);\n\nexport const BooksMap = {\n    1: 'בראשית',\n    2: 'שמות',\n    3: 'ויקרא',\n    4: 'במדבר',\n    5: 'דברים',\n}\n","const InitialState = {\n    token: '',\n    mobileView: false,\n    modal: null,\n    // toSave\n    donate: {\n        name: '',\n    },\n    selectedVerses: [],\n    blessFor: [],\n    selectedBook: {\n        _id: '',\n    },\n    payment: null,\n    cart: [],\n};\n\nexport default InitialState;\n","import React, {Component, useState} from \"react\";\nimport {Button,} from 'react-bootstrap';\n\nconst NextButton = ({disabled, text, clicked}) => {\n    return (\n        <React.Fragment>\n            {<Button disabled={disabled} style={styles.nextButtonStyle} onClick={clicked}>\n                {text}\n            </Button>}\n        </React.Fragment>\n    );\n}\n\nconst styles = {\n    nextButtonStyle: {\n        marginTop: '20px',\n        marginBottom: '20px',\n    }\n};\nexport default NextButton;\n","import React, {Component, useEffect} from \"react\";\nimport NextButton from \"../components/NextButton\";\n\nexport const Step0 = ({nextStep, actions}) => {\n    return (\n        <div className='step0 d-flex flex-column flex-100 padd10 justify-content-center align-content-center align-items-center  text-center height-inherit'>\n            <h1 className=\"paddBottom10px\">\n                 מעלות כתיבת\n            </h1>\n            <h1 className=\"paddBottom10px\">\n                אות בספר תורה\n            </h1>\n            <p className=\"paddBottom10px\">\n                ב\"י בדעת הטור: גם בזמן הזה יש מצווה דאורייתא בכתיבת ספר תורה... (יו\"ד ער ד\"ה וכתב)\n            </p>\n            <p className=\"paddBottom10px\">\n                ...לעת עתה מצוה הבאה לידך אל תחמיצנה ועדיף להזדרז במצוה זו להשתתף עם אחרים לרכוש הס\"ת המהודר,\n                ולא להמתין עד שיהיה בידו את כל הסכום הדרוש עבור ס\"ת מהודר שיוכל לקנותו לבדו כי לא ידע אדם מה ילד\n                יום...\n            </p>\n            <p className=\"paddBottom10px\">\n                ( שו\"ת עטרת פז חלק א כרך ב - יורה דעה סימן יב)\n            </p>\n\n            <div className=\"width100\">\n                <NextButton clicked={nextStep} text={'לחץ למצווה'}/>\n            </div>\n        </div>\n    )\n};\n","import React, {Component} from \"react\";\nimport NextButton from \"../components/NextButton\";\n\nexport const Step1 = ({nextStep}) => {\n    return (\n        <div className='step1 d-flex flex-column flex-100 padd10 justify-content-center align-content-center align-items-center  text-center height-inherit'>\n            <h3 className=\"paddBottom10px\">\n                אשרייך שזכית!\n            </h3>\n            <h3 className=\"paddBottom10px\">\n                בקיום המצווה האחרונה מבין תרי”ג מצוות התורה כמו שנאמר\n                <br/>\n                “ועתה כתבו לכם את השירה הזאת”\n                <br/>\n                (דברים ל”א, י”ט)\n            </h3>\n            <p className=\"text-right paddBottom10px\">\n                צדיק, חשוב לקרוא לפני:\n            </p>\n            <ol className=\"text-right paddBottom10px\">\n                <li>\n                    כל אות עולה שקל אחד אומנם צריך לרכוש פסוק\n                </li>\n                <li>\n                    הפסוק יהיה שלך בלבד ותוכל לרכוש כמה פסוקים שתרצה\n                </li>\n                <li>\n                    יש כמה אופציות לרכישת פסוקים וכל פסוק אפשר לייחד אותו להצלחה, פרנסה, לעילוי נשמת, לרפואה שלימה,\n                    לזיווג הגון ולכל הישועות\n                </li>\n                <li>\n                    תוכל להכניס את הפסוק לאיזה ספר תורה שתרצה בהתאם לאפשרויות שינתנו לך\n                </li>\n            </ol>\n            <p className=\"paddBottom10px\">\n                בלחיצה המשך אני מתנה בזה שאני שותף עם כל המשתתפים בספר תורה זו\n            </p>\n\n            <div className=\"width100\">\n                <NextButton clicked={nextStep} text={'לחץ למצווה'}/>\n            </div>\n        </div>\n    )\n};\n","import React, { Component } from \"react\";\nimport \"../css/Form.css\";\nimport {FormErrors} from './FormErrors';\nimport { Form,Button,Spinner} from 'react-bootstrap';\nimport cloneDeep from 'lodash/cloneDeep';\nimport * as app_actions from \"../store/app/actions\";\nimport {connect} from \"react-redux\";\nimport {bindActionCreators} from 'redux';\nimport moment from \"moment\";\nimport $ from 'jquery';\nimport ToggleButton from \"react-bootstrap/ToggleButton\";\n\nconst actions = [\n    app_actions,\n]\n\nclass MyForm extends Component {\n    constructor (props) {\n        super(props);\n        this.FIELDS = this.props.fields;\n        this.FIELDS_MIRROR = {};\n        Object.keys(this.FIELDS).forEach(v=>{this.FIELDS_MIRROR[v]=v});\n        this.state = {\n            fields:cloneDeep(this.FIELDS),\n            formErrors: {},\n            validation: {},\n        }\n    }\n\n    componentDidMount() {\n        if (this.props.triggerSubmitOnCreate) {\n            setTimeout(() => {\n                this.validateForm();\n                this.updateOnChanges();\n            }, 1000 * 3)\n        }\n    }\n\n    validateField(fieldName, value) {\n        let fieldValidationErrors = this.state.formErrors;\n        let validation = this.state.validation;\n        let KEYS = this.FIELDS_MIRROR;\n        switch(fieldName) {\n            case KEYS.email:\n                let valid = value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\n                fieldValidationErrors[fieldName] = valid ? '' : 'אימייל לא תקין';\n                validation[fieldName] = !!valid;\n                break;\n            default: {\n                let valid = value;\n                validation[fieldName] = !!valid;\n                break;\n            }\n        }\n        this.setState({\n            formErrors: fieldValidationErrors,\n            validation: validation\n        }, this.validateForm);\n    }\n\n    validateForm() {\n        this.setState({formInvalid: !(this.props.reff?.current || this.refs.formRef)?.checkValidity()});\n    }\n\n    getFormFields() {\n        let fields = [];\n        Object.keys(this.FIELDS).forEach((key)=>{\n            let field = '';\n            const selected = this.FIELDS[key].value || null;\n            switch (this.FIELDS[key].type) {\n                case 'select':{\n                    field = <Form.Group ref={`parent_${key}`} key={key} controlId={key} className={'form-group'}>\n                            <Form.Label>{this.FIELDS[key].title} {this.FIELDS[key]?.settings?.required && '*'}</Form.Label>\n                            <Form.Control ref={`${key}`} as=\"select\" onChange={(event) => this.handleUserSelect(event)}\n                                          {...this.FIELDS[key].settings || {}}  name={key} >\n                                {this.FIELDS[key].options.map((item)=>{\n                                    return <option selected={selected==item.key} key={item.key} >{item.value}</option>\n                                })}\n                            </Form.Control>\n                    </Form.Group>;\n                    break;\n                }\n                case 'date':{\n                    field = <Form.Group ref={`parent_${key}`} key={key} controlId={key}>\n                        <Form.Label>{this.FIELDS[key].title} {this.FIELDS[key]?.settings?.required && '*'}</Form.Label>\n                        <Form.Control ref={`${key}`} type={this.FIELDS[key].type} placeholder={this.FIELDS[key].placeholder || ''}\n                                      {...this.FIELDS[key].settings || {}}\n                                      name={key} onClick={(event) => this.toggleDate(event)}\n                                      onChange={(event) => this.handleDateInput(event)}/>\n                    </Form.Group>\n                    break;\n                }\n                case 'textarea':{\n                    field = <Form.Group ref={`parent_${key}`} key={key} controlId={key}>\n                        <Form.Label>{this.FIELDS[key].title} {this.FIELDS[key]?.settings?.required && '*'}</Form.Label>\n                        <Form.Control ref={`${key}`} as={this.FIELDS[key].type} placeholder={this.FIELDS[key].placeholder || ''}\n                                      {...this.FIELDS[key].settings || {}} defaultValue={selected}\n                                      name={key} onChange={(event) => this.handleUserInput(event)}/>\n                    </Form.Group>\n                    break;\n                }\n                case 'checkbox':{\n                    field = <Form.Group ref={`parent_${key}`} key={key} controlId={key}>\n                        <Form.Check ref={`${key}`} label={this.FIELDS[key].title + (this.FIELDS[key]?.settings?.required && '*' || '')} type={this.FIELDS[key].type} placeholder={this.FIELDS[key].placeholder || ''}\n                                    {...this.FIELDS[key].settings || {}} defaultValue={selected}\n                                    name={key} onChange={(event) => this.handleCheckboxInput(event)}/>\n                    </Form.Group>\n                    break;\n                }\n                case 'radio':{\n                    if (!this.state.fields[key].value) {\n                        this.state.fields[key].value = this.FIELDS[key]?.selected;\n                    }\n                    field = <Form.Group ref={`parent_${key}`} key={key} controlId={key}>\n                        <Form.Label>{this.FIELDS[key].title} {this.FIELDS[key]?.settings?.required && '*'}</Form.Label>\n                            {this.FIELDS[key].options.map((radio, idx)=>{\n                                return <Form.Check\n                                    onChange={(event) => this.handleRadioInput(event)}\n                                    inline\n                                    key={idx}\n                                    id={`radio-${key}-${idx}`}\n                                    type=\"radio\"\n                                    variant={'outline-info'}\n                                    name={key}\n                                    value={radio.key}\n                                    checked={this.state.fields[key].value === radio.key}\n                                    label={radio.value}\n                                />\n                            })}\n                    </Form.Group>\n                    break;\n                }\n                case 'file':{\n                    field = <Form.Group ref={`parent_${key}`} key={key} controlId={key}>\n                        <Form.Label>{this.FIELDS[key].title}</Form.Label>\n                        {this.props.preview && this.FIELDS[key].value && <div>\n                            <img className='marginBottom30px' width={150} height='auto' id={key} src={this.FIELDS[key].value}/>\n                        </div>}\n                        <Form.File type=\"file\" id={key} label={this.FIELDS[key].title}\n                            onChange={this.handleFileInput.bind(this)}\n                            custom\n                        />\n                    </Form.Group>\n                    break;\n                }\n                default: {\n                    // className={this.state.validation[key]===false && 'invalidInputBorder'}\n                    field = <Form.Group ref={`parent_${key}`} key={key} controlId={key}>\n                        <Form.Label>\n                            {this.FIELDS[key].title}&nbsp;\n                            {this.FIELDS[key].subTitle && <Form.Text>{this.FIELDS[key].subTitle}</Form.Text>}\n                            {this.FIELDS[key]?.settings?.required && '*'}\n                        </Form.Label>\n                        <Form.Control ref={`${key}`} type={this.FIELDS[key].type} placeholder={this.FIELDS[key].placeholder || ''}\n                                      {...this.FIELDS[key].settings || {}} defaultValue={selected}\n                                      name={key} onBlur={(event) => this.handleUserInput(event)}\n                                      onChange={(event) => this.handleUserInput(event)}/>\n                        <p className={'invalidInput'}>{this.state.formErrors[key]}</p>\n                    </Form.Group>;\n                }\n            }\n            fields.push(field);\n        })\n\n        return fields;\n    }\n\n    handleUserInput (e) {\n        const name = e.target.name;\n        const value = e.target.value;\n        let fields = this.state.fields;\n        fields[name].value = value;\n        this.setState({fields},() => { this.validateField(name, value) });\n        this.updateOnChanges();\n    }\n\n    handleCheckboxInput (e) {\n        const name = e.target.name;\n        const value = e.target.checked;\n        let fields = this.state.fields;\n        fields[name].value = value;\n        this.setState({fields},() => { this.validateField(name, value) });\n        this.updateOnChanges();\n    }\n\n    handleRadioInput (e) {\n        const name = e.target.name;\n        const value = e.target.value;\n        let fields = this.state.fields;\n        fields[name].value = value;\n        this.setState({fields},() => { this.validateField(name, value) });\n        this.updateOnChanges();\n    }\n\n    readURL(key, input) {\n        try {\n            if (input && input[0]) {\n                var reader = new FileReader();\n\n                reader.onload = function (e) {\n                    document.getElementById(key).src = e.target.result;\n                };\n                reader.readAsDataURL(input[0]);\n            }\n        } catch (e) {\n\n        }\n    }\n\n    handleFileInput (e) {\n        const name = e.target.id;\n        const value = e.target.files;\n        let fields = this.state.fields;\n        fields[name].value = value;\n        this.setState({fields},() => { this.validateField(name, value) });\n        this.readURL(e.target.id, value);\n        this.updateOnChanges();\n    }\n\n    handleUserSelect (e) {\n        const name = e.target.name;\n        const value = this.FIELDS[name].options[e.target.selectedIndex].key; //e.target.value;\n        let fields = this.state.fields;\n        fields[name].value = value;\n        this.setState({fields},() => { this.validateField(name, value) });\n        this.updateOnChanges();\n    }\n\n    childHandleUserInput (e,parent,index) {\n        const name = e.target.name;\n        const value = e.target.value;\n        let fields = this.state.fields;\n        fields[parent].children[index].value = value;\n        this.setState({fields},() => { });\n        this.updateOnChanges();\n    }\n\n    updateOnChanges() {\n        if (this.props.everyChangeUpdate) {\n            this.props.callback(cloneDeep({...this.state.fields, event: 'update', valid: !this.state.formInvalid}), this.refs);\n        }\n    }\n\n    toggleDate(e) {\n        const input = $(`input[name=${e.target.name}]`);\n        input.trigger('click');\n    }\n\n    handleDateInput (e) {\n        const input = $(`input[name=${e.target.name}]`);\n        input.attr(\n            \"data-date\",\n            moment(e.target.value, \"YYYY-MM-DD\")\n                .format( input.attr(\"data-date-format\") )\n        )\n        const name = e.target.name;\n        const value = e.target.value;\n        if (!value) return;\n        let fields = this.state.fields;\n        fields[name].value = value;\n        this.setState({fields},() => { this.validateField(name, value) });\n        // console.table(fields);\n    }\n\n    handleSubmit(event){\n        event.preventDefault();\n        console.log('form is valid: ', !this.state.formInvalid);\n        // console.table(this.state.formErrors);\n        // console.table(this.state.validation);\n        // console.table(this.state.fields);\n        if (!this.state.formInvalid && this.props.callback) {\n            this.props.callback(cloneDeep(this.state.fields), this.refs);\n        }\n    }\n\n    render () {\n        return (\n            <div className={`form layout layout-align-center-center`} >\n                <Form ref={this.props.reff || 'formRef'} className={`flex-100`} {...this.props.formOptions}\n                      onSubmit={this.handleSubmit.bind(this)}>\n                    {this.getFormFields()}\n                    <div className=\"display-flex width100 layout-align-center-center justify-content-center\">\n                    {this.props.loading && <Spinner className={\"marginTop10px marginBottom10px\"} animation=\"border\" />}\n                    {!this.props.loading && this.props.submitText && <Button className={\"marginTop10px marginBottom10px\"} disabled={false} variant=\"primary\" type=\"submit\">{this.props.submitText}</Button>}\n                    </div>\n                </Form>\n\n                <div className=\"layout layout-align-center-center\">\n                    {false && <FormErrors formErrors={this.state.formErrors} />}\n                </div>\n\n            </div>\n        )\n    }\n}\n\n\nfunction mapStateToProps(state) {\n    return {\n        app: state.app,\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    const creators = app_actions;\n\n    return {\n        actions: bindActionCreators(creators, dispatch),\n        dispatch\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MyForm);\n","import React, {Component, useEffect, useRef, useState} from \"react\";\nimport NextButton from \"../components/NextButton\";\nimport {getDonateForm} from \"../config\";\nimport Form from \"../components/Form\";\n\nexport const Step2 = ({nextStep, actions, app}) => {\n    const [formData, setFormData] = useState({});\n    const donateForm = getDonateForm();\n    const inputEl1 = useRef(null);\n    if (app.donate) {\n        Object.keys(donateForm).forEach(k => donateForm[k].value = app.donate[k]);\n    }\n\n    const submit = (data) => {\n        setFormData({...data, ...{contribution: (formData || {})}});\n        const toSave = {};\n        Object.keys(data).forEach(k => {\n            toSave[k] = data[k].value;\n        });\n        actions.updateDonate({...app.donate, ...toSave});\n    }\n\n    const nextStepButton = () => {\n        if (formData.valid) {\n            nextStep();\n        } else {\n            try {inputEl1.current.reportValidity();} catch(err) {}\n        }\n    }\n\n    return (\n        <div className={`step2 flex-column flex-100 padd10 justify-content-center align-content-center text-center height-inherit`}>\n            <h4 className={\"paddBottom10px\"}>\n                פרטים אישיים לפני שנמשיך\n            </h4>\n            <div>\n                <h5>פרטי התורם:</h5>\n                <Form fields={donateForm}\n                      everyChangeUpdate={true}\n                      submitText={\"\"}\n                      callback={submit}\n                      triggerSubmitOnCreate={true}\n                reff={inputEl1}/>\n            </div>\n            <div className=\"width100\">\n                <NextButton clicked={nextStepButton} text={'לחץ למצווה'}/>\n            </div>\n        </div>\n    )\n};\n","import React, {Component, useEffect, useState} from \"react\";\n\nexport const Hello = ({donate}) => {\n    return (\n        <React.Fragment>\n            {donate && <h3 className=\"paddBottom10px\">\n                הצדיק {donate.contributionName || donate.name || '(לא נבחר שם)'} {donate.contributionLastName || donate.lastName || ''}\n            </h3>}\n        </React.Fragment>\n    )\n};\n","import React, {Component} from \"react\";\nimport {Button,} from 'react-bootstrap';\nimport {getSearchTypes} from \"../config\";\nimport {Hello} from \"../components/Hello\";\n\nexport const Step3 = ({nextStep, app}) => {\n    const jumpToNextStep = (index) => {\n        nextStep({searchType: index});\n    }\n\n    return (\n        <div\n            className='step3 d-flex flex-column flex-100 padd10 justify-content-center align-content-center align-items-center text-center height-inherit'>\n            <h4 className=\"paddBottom10px\">\n                לפניך מספר אפשרויות, בחר באפשרות המתאימה להמשך:\n            </h4>\n            <div className='d-flex flex-row flex-wrap justify-content-around justify-content-center align-content-center align-items-center'>\n                {getSearchTypes().map((val, index) => {\n                    return (<div className='box' key={`_${val.id}`}>\n                        <Button onClick={jumpToNextStep.bind(this, val.id)} disabled={val.disabled}>{val.name}</Button>\n                    </div>);\n                })}\n            </div>\n        </div>\n    )\n};\n","import React from \"react\";\nimport {isBrowser, isMobile} from \"react-device-detect\";\nconst gematriya = require('gematriya');\n\nexport const IsMobile = isMobile;\nexport const IsBrowser = isBrowser;\nexport const isMobileView = ()=>{\n    return window.innerWidth < 720;\n}\n\n\n\nconst isASCII = (str) => {\n    return /[\\u0590-\\u05FF]/.test(str);\n}\n\nexport const countWeight = (str) => {\n    let count = 0;\n    for (let i = 0; i<str.length; i++){\n        if (isASCII(str.charAt(i))) {\n            count += 1;\n        }\n    }\n    return count;\n}\n\n\nexport const gematriyaNumbers = (num) => {\n    return gematriya(num, {geresh: false, punctuate: false});\n}\n\nconst hebMap = {\n    \"ן\": \"נ\",\n    \"ם\": \"מ\",\n    \"ף\": \"פ\",\n    \"ץ\": \"צ\",\n    \"ך\": \"כ\",\n}\n\nexport const gematriyaLetters = (str = '') => {\n    let amount = 0;\n    for(const i of str.split('').filter(isASCII).join('')) {\n        amount += gematriya(hebMap[i] || i, {geresh: false, punctuate: false});\n    }\n    return amount;\n}\n\nexport const SPACE = <span>&nbsp;</span>;\n\nexport const booksMap = {\n    'Genesis': 1,\n    'Exodus': 2,\n    'Leviticus': 3,\n    'Numbers': 4,\n    'Deuteronomy': 5,\n}\nexport const booksMapHeb = {\n    1: 'בראשית',\n    2: 'שמות',\n    3: 'ויקרא',\n    4: 'במדבר',\n    5: 'דברים',\n}\n","import rp from 'request-promise';\nimport axios from 'axios';\nimport moment from \"moment\";\nimport FingerprintJS from \"@fingerprintjs/fingerprintjs\";\nconst actions = require('./store/app/actions');\nconst store = require('./store').default;\nconst DOMAIN = window.DOMAIN;\n\n\nasync function loadFingerPrint() {\n    return FingerprintJS.load()\n        .then(fp => fp.get())\n        .then(result => {\n            // This is the visitor identifier:\n            window.visitorId = result.visitorId;\n            return result.visitorId;\n        });\n}\n\nconst headers = {}\n// let headers = new Headers();\nheaders['Access-Control-Allow-Origin'] = DOMAIN;\n// headers['visitor-id'] = window.visitorId;\n\nfunction responseMiddleware(response) {\n    return response;\n}\n\nfunction logoutMiddleware(error) {\n    if (error.response.status === 501) {\n        actions.logout();\n        window.location = '/login';\n    }\n    throw error;\n}\n\nfunction catchMiddleware(response) {\n    throw response;\n}\n\n\nexport const getToken = () => {\n    return axios.CancelToken.source();\n}\n\nconst REST = {\n    fakeLogin: () => {\n        return new Promise((resolve, reject) => {\n            resolve({token: \"abc\"});\n        })\n    },\n    login: (data) => {\n        return axios.post(`${DOMAIN}/common/login`, data,\n            {\n                headers: {...headers},\n            })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n            .catch(catchMiddleware)\n    },\n    getAllBooks: () => {\n        return axios.get(`${DOMAIN}/book`, {\n            json: true,\n            headers: {...headers}\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n    },\n    getBooksByCategory: (category) => {\n        return axios.get(`${DOMAIN}/book?category=${category}`, {\n            json: true,\n            headers: {...headers}\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n    },\n    getManagementBooks: () => {\n        return axios.get(`${DOMAIN}/book/management`, {\n            json: true,\n            headers: {...headers, token: store.getState().app.token},\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n            .catch(logoutMiddleware)\n    },\n    addBook: (data) => {\n        return axios.post(`${DOMAIN}/book`, data, {\n            headers: {...headers, token: store.getState().app.token, \"Content-Type\": \"multipart/form-data\"},\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n            .catch(logoutMiddleware)\n    },\n    updateBook: (bookId, data) => {\n        return axios.put(`${DOMAIN}/book/${bookId}`, data, {\n            headers: {...headers, token: store.getState().app.token, \"Content-Type\": \"multipart/form-data\"},\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n            .catch(logoutMiddleware)\n    },\n    deleteBook: (bookId) => {\n        return axios.delete(`${DOMAIN}/book/${bookId}`, {\n            headers: {...headers, token: store.getState().app.token},\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n            .catch(logoutMiddleware)\n    },\n    restoreBook: (bookId) => {\n        return axios.put(`${DOMAIN}/book/restore/${bookId}`, {}, {\n            headers: {...headers, token: store.getState().app.token},\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n            .catch(logoutMiddleware)\n    },\n    removeBookPermanently: (bookId) => {\n        return axios.delete(`${DOMAIN}/book/remove-permanently/${bookId}`, {\n            headers: {...headers, token: store.getState().app.token},\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n            .catch(logoutMiddleware)\n    },\n    search: (searchType, data, source) => {\n        return axios.get(`${DOMAIN}/search/${searchType}`, {\n            params: data,\n            // cancelToken: source && source.token\n        }, {\n            headers: {...headers}\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n    },\n    findInOtherBooks: (searchType, data) => {\n        return axios.get(`${DOMAIN}/search/findOtherMatches`, {\n            params: data,\n        }, {\n            headers: {...headers}\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n    },\n    updateBuyingVerses: (data) => {\n        return axios.post(`${DOMAIN}/verses`, data)\n            .then(response => {\n                return response.data;\n            }, {\n                headers: {...headers}\n            })\n            .then(responseMiddleware)\n    },\n    checkAvailability: async (selectedBook, versesIds, ranges, toSave) => {\n        const vId = window.visitorId || await loadFingerPrint();\n        return axios.post(`${DOMAIN}/verses/check-availability`, {\n            selectedBook, versesIds, ranges, toSave\n        }, {\n            headers: {...headers, 'visitor-id': vId},\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n    },\n    downloadXlsx: (bookId) => {\n        return axios.get(`${DOMAIN}/book/download-xlsx/${bookId}`, {\n            responseType: 'arraybuffer',\n            headers: {...headers, token: store.getState().app.token},\n            // headers: {\n            //     'Content-Type': 'application/json',\n            //     'Accept': 'application/pdf'\n            // }\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n            .catch(logoutMiddleware)\n    },\n    getParashaByDate: (date) => {\n        const tmp = moment(date, 'YYYY/MM/DD');\n        // https://www.hebcal.com/home/195/jewish-calendar-rest-api\n        // &maj=on&min=on&mod=on&nx=on&ss=on&mf=on&c=on&M=on&D=on\n        return axios.get(`https://www.hebcal.com/hebcal?v=1&yt=G&cfg=json&start=${tmp.format('YYYY-MM-DD')}&end=${tmp.endOf('week').format('YYYY-MM-DD')}&s=on&lg=he`, {\n            cors: true,\n            headers: {},\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n    },\n    getSelectedVersesPriceAndAmount: (selectedVerses) => {\n        return axios.post(`${DOMAIN}/verses/price`, {\n            verses: selectedVerses.filter(v => !v.range).map(v => v._id).filter(v => v),\n            ranges: selectedVerses.filter(v => v.range).map(v => {\n                return {\n                    book: v.book,\n                    code: v.code,\n                    bookId: v.bookId,\n                }\n            }).filter(v => v),\n        }, {\n            headers: {...headers}\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n    },\n    checkIFPaymentIsDone: (checkout) => {\n        return axios.get(`${DOMAIN}/verses/check-payment-status?uniqueId=${checkout}`, {\n            headers: {...headers}\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n    }\n}\n\nexport default REST;\n","import React, {Component, useEffect, useState} from \"react\";\nimport {SPACE} from \"../utils\";\n\nexport const TakenBy = ({donate, bless}) => {\n    return (\n        <React.Fragment>\n            <div>\n                {donate && donate.name && <React.Fragment>\n                    <span>נקנה על ידי:</span>{SPACE}<span>{donate?.name}</span>{SPACE}\n                </React.Fragment>}\n                {bless && <React.Fragment>\n                    <span>ל:</span>{SPACE}\n                    <span>{bless?.map(v => v.name).join(', ')}</span>\n                </React.Fragment>}\n            </div>\n        </React.Fragment>\n    )\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport {SPACE} from \"../utils\";\n\nexport const AvailableBooks = ({availableBooks}) => {\n    return (\n        <React.Fragment>\n            <div>\n                <span>זמין ב</span>{SPACE}\n                <span>{availableBooks}</span>{SPACE}\n                <span>ספרי תורה</span>\n            </div>\n        </React.Fragment>\n    )\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport {BooksMap} from \"../config\";\nimport {gematriyaNumbers} from \"../utils\";\nimport {SPACE} from \"../utils\";\n\nexport const VerseLocation = ({book, chapter, verse}) => {\n    return (\n        <React.Fragment>\n            <span>\n                <span>ספר</span>{SPACE}\n                <span>{BooksMap[book]}</span>{SPACE}\n                <span>פרק</span>{SPACE}\n                <span>{gematriyaNumbers(chapter)}</span>{SPACE}\n                <span>פסוק</span>{SPACE}\n                <span>{gematriyaNumbers(verse)}</span>\n            </span>\n        </React.Fragment>\n    )\n};\n","import React, { Component,useState } from \"react\";\nimport { Modal, Button,} from 'react-bootstrap';\n\nclass MyModal extends Component {\n    constructor (props) {\n        super(props);\n        this.state = {\n            show: props.show\n        }\n    }\n    componentDidMount() {\n        this.componentWillHandleProps(this.props, true);\n    }\n    componentWillUnmount() {\n    }\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        this.componentWillHandleProps(nextProps, false);\n    }\n\n    componentWillHandleProps(nextProps, isFirstTime) {\n        if (nextProps.show) this.handleShow();\n        else this.handleClose();\n    }\n\n    /*listener(data) {\n        this.handleClose();\n    }*/\n\n    handleClose() {\n        this.setState({show:false});\n        /*window.removeEventListener(\"hashchange\", this.listener);\n        if (window.location.hash === \"#modal\") {\n            window.history.back();\n        }*/\n    }\n\n    handleShow() {\n        this.setState({show:true});\n        /*window.location.hash = \"#modal\";\n        window.addEventListener(\"hashchange\", this.listener, false);*/\n    }\n\n    onClose(status) {\n        if (this.props.onClose && typeof this.props.onClose === 'function') this.props.onClose(status);\n    }\n\n    render () {\n        return (\n            <Modal size=\"lg\"\n                   aria-labelledby=\"contained-modal-title-vcenter\"\n                   centered\n                   show={Boolean(this.state.show)}\n                   onHide={this.props.onHide || this.handleClose.bind(this)}>\n                <Modal.Header closeButton>\n                    <Modal.Title className={'flex-100 layout layout-row layout-align-center-center'}>\n                        <h3 className={\"primary\"}>{this.props.title}</h3>\n                    </Modal.Title>\n                </Modal.Header>\n                {(this.props.children) && <Modal.Body className={'text-right'}>{this.props.children}</Modal.Body>}\n                {!(this.props.children) && <Modal.Body className={'text-right'}>{this.props.body}</Modal.Body>}\n                {!this.props.hideFooter && <Modal.Footer className={'modalFooter flex-100 layout layout-row layout-align-space-between-center'}>\n                    {this.props.buttons && this.props.buttons.map((btn,i)=><Button key={`_${i}`} variant={btn.class || 'primary'} onClick={btn.callback || this.props.onHide || this.handleClose.bind(this)}>{btn.name || 'OK'}</Button>)}\n                </Modal.Footer>}\n            </Modal>\n        )\n    }\n}\nexport default MyModal;\n","import React, {Component, useState} from \"react\";\nimport {Button, Form,} from 'react-bootstrap';\n\nexport const Book = ({address, description, image_url, tel, writer_notes, _id, versesAmount, weight, isManagement}) => {\n    return (\n        <div className='d-flex flex-row flex-100 justify-content-center align-content-center'>\n            {image_url && <div className='flex-20 marginLeft5px'>\n                <img style={styles.image} width={150} height='auto' src={`${image_url}`}/>\n            </div>}\n            <div className='flex-80'>\n                <div className='flex-row'>\n                    <b>\n                        כתובת:&nbsp;\n                    </b>\n                    <span className='fontWeight300'>{address}</span>\n                </div>\n                <div className='flex-row'>\n                    <b>\n                        פרטי התקשרות:&nbsp;\n                    </b>\n                    <a href='tel:0525675223'>{tel}</a>\n                </div>\n                <div className='flex-row'>\n                    <b>\n                        תיאור:&nbsp;\n                    </b>\n                    <span className='fontWeight300'>{description}</span>\n                </div>\n                <div className='flex-row'>\n                    <b>\n                        הקדשה אישית של מפרסם הספר:&nbsp;\n                    </b>\n                    <span className='fontWeight300'>{writer_notes}</span>\n                </div>\n                {versesAmount !== undefined && <div className='flex-row'>\n                    <b>\n                        פסוקים זמינים:&nbsp;\n                    </b>\n                    <span className='fontWeight300'>{versesAmount}</span>\n                </div>}\n                {isManagement && <div className='flex-row'>\n                    <b>\n                        משקל:&nbsp;\n                    </b>\n                    <span className='fontWeight300'>{weight ?? 0}</span>\n                </div>}\n            </div>\n        </div>\n    )\n}\n\nconst styles = {\n    image: {\n        borderRadius: '10px',\n    }\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport {Modal, Button, Form,} from 'react-bootstrap';\nimport rest from \"../rest\";\nimport MyModal from \"../components/Modal\";\nimport {Book} from \"../components/Book\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport {VerseLocation} from \"../components/VerseLocation\";\n\nconst OtherBooksModal = ({searchType, callback, bookId, textWithout, originalVerse}) => {\n    const [loading, setLoading] = useState(true);\n    const [results, setResults] = useState([]);\n    const [show, setShow] = useState(false);\n    const [selectedBook, setSelectedBook] = useState(null);\n    const [samePlace, setSamePlace] = useState(false);\n\n    useEffect(() => {\n        setShow(true);\n        rest.findInOtherBooks(searchType, {bookId, text: textWithout})\n            .then(response => {\n                console.log(response.data);\n                setResults(response.data);\n                setLoading(false);\n            })\n            .catch(err => {\n\n            })\n    }, []);\n\n    const updateSelected = (e, res) => {\n        if (samePlace) {\n            const verses = res.verses.filter(verseInSamePlace);\n            setSelectedBook(verses[0]);\n        } else {\n            setSelectedBook(res.verses[0]);\n        }\n    }\n\n    const chooseSpecificPlace = (e) => {\n        const name = e.target.name;\n        const value = e.target.checked;\n        setSamePlace(value);\n        if (value && selectedBook) {\n            const isOk = verseInSamePlace(selectedBook);\n            if (!isOk) {\n                setSelectedBook(null);\n            }\n        }\n    }\n\n    const onHide = () => {\n        setShow(false);\n        callback(selectedBook, originalVerse);\n    }\n\n    const verseInSamePlace = (d) => {\n        return d.book === originalVerse.book &&\n            d.chapter === originalVerse.chapter &&\n            d.verse === originalVerse.verse\n    }\n\n    const onFormClick = (e) => {\n        // e.preventDefault();\n        e.stopPropagation();\n        e.nativeEvent.stopImmediatePropagation();\n    }\n\n    return (\n        <MyModal onHide={onHide.bind(this)} show={show} title={'בחר ספר תורה'}\n        buttons={[\n            {\n                name: 'בחר',\n            }\n        ]}>\n            {loading && <div\n                className='d-flex flex-column flex-100 layout-align-center-center justify-content-center align-content-center'>\n                <Spinner animation=\"border\"/>\n            </div>}\n            <Form onClick={onFormClick.bind(this)}>\n                {<Form.Group className='d-flex flex-100 margin15 flex-row' controlId={`sameGroup1`}>\n                    <Form.Check className='flex-10 text-center'\n                                type='checkbox' name={'sameGroup1'}\n                                onChange={(e) => {\n                                    chooseSpecificPlace(e);\n                                }}/>\n                    <Form.Label className={`flex-90 flex-column text-right`}>\n                        חפש באותו מיקום בדיוק\n                        <span style={styles.gray}>\n                            <VerseLocation {...originalVerse} />\n                        </span>\n                    </Form.Label>\n                </Form.Group> || ''}\n                <div className='width100 flex-column flex-wrap justify-content-center align-items-center'>\n                {results.filter(v => samePlace ? v.verses.filter(verseInSamePlace).length : v).filter(v => v.verses.length).map((res, index) => {\n                    const verse = res.verses[0];\n                    const id = Date.now().toString() + index;\n                    return <div key={id}>\n                        <Form.Group className='d-flex flex-100 margin15 flex-row' controlId={`${id}`}>\n                            <Form.Check className='flex-10 text-center'\n                                        type='radio' value={verse._id} name={'sameGroup'}\n                                        onChange={(e) => {\n                                            updateSelected(e, res)\n                                        }}/>\n                            <Form.Label id={`${id}`} className={`flex-90 flex-column text-right`} >\n                                <Book {...verse.bookInfo}/>\n                            </Form.Label>\n                        </Form.Group>\n                    </div>\n                })}\n                </div>\n            </Form>\n        </MyModal>\n    )\n}\n\nconst styles = {\n    gray: {\n        color: 'gray',\n        fontSize: '14px',\n    },\n};\nexport default OtherBooksModal;\n","import React, {Component, useEffect, useState} from \"react\";\nimport Spinner from \"react-bootstrap/Spinner\";\n\nexport const Loader = ({callback}) => {\n    return (\n        <React.Fragment>\n            <Spinner animation=\"border\" style={style}/>\n        </React.Fragment>\n    )\n};\n\nconst style = {\n    margin: '10px'\n}\n","import React, {Component, useEffect, useState} from \"react\";\nimport {Button} from \"react-bootstrap\";\n\nexport const LoadMore = ({callback, show}) => {\n    return (\n        <React.Fragment>\n            {show && <Button variant=\"outline-secondary\" style={style} onClick={callback}>\n                הצג עוד תוצאות\n            </Button>}\n        </React.Fragment>\n    )\n};\n\nconst style = {\n    margin: '20px'\n}\n","import React, {Component, useEffect, useState} from \"react\";\nimport {SPACE} from \"../utils\";\nimport {VerseLocation} from \"../components/VerseLocation\";\nimport {TakenBy} from \"../components/TakenBy\";\nimport {AvailableBooks} from \"../components/AvailableBooks\";\nimport {Form} from \"react-bootstrap\";\n\nexport const VerseDisplay = ({val, showLength}) => {\n    return (\n        <React.Fragment>\n            <p className={`${val.taken && 'disabled-color'}`}> {val.text} </p>\n            <ol style={{...styles.gray, ...styles.list}}>\n                <li><VerseLocation book={val.book} chapter={val.chapter} verse={val.verse}/>\n                </li>\n                {val.taken && <li><TakenBy style={styles.gray} donate={val.donate} bless={val.bless}/></li>}\n                <li><AvailableBooks style={styles.gray} availableBooks={val.availableBooks}/></li>\n                {val.bookInfo && <li>{val.bookInfo.address}</li>}\n                {showLength && <li>\n                    <span>סכום:</span>\n                    {SPACE}\n                    {val.length}\n                </li>}\n            </ol>\n        </React.Fragment>\n    )\n};\n\nconst styles = {\n    gray: {\n        color: 'gray',\n        fontSize: '14px',\n    },\n    list: {\n        listStyleType: 'circle'\n    }\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport {Button, Form,} from 'react-bootstrap';\nimport rest from '../rest';\nimport Spinner from 'react-bootstrap/Spinner'\nimport {TakenBy} from \"../components/TakenBy\";\nimport {AvailableBooks} from \"../components/AvailableBooks\";\nimport {VerseLocation} from \"../components/VerseLocation\";\nimport OtherBooksModal from \"../components/OtherBooksModal\";\nimport {Loader} from \"../components/Loader\";\nimport {LoadMore} from \"../components/LoadMore\";\nimport {VerseDisplay} from \"../components/VerseDisplay\";\nimport MyForm from \"../components/Form\";\nimport {getEnterYourNameForm} from \"../config\";\n\nexport const FirstAndLastLetter = ({donate, book, selectedVerses, searchType, callback, actions}) => {\n    const [skip, setSkip] = useState(0);\n    const [verses, setVerses] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [searchLoading, setSearchLoading] = useState(false);\n    const [search, setSearch] = useState('');\n    const [chosenVerses, setChosenVerses] = useState([]);\n    const [replaceVerse, setReplaceVerse] = useState(null);\n    const [error, setError] = useState('');\n    const [hasMoreAnswers, setHasMoreAnswers] = useState(true);\n\n    const freeSearchForm = getEnterYourNameForm();\n    let timeoutRef = null;\n\n    const submit = (data) => {\n        clearTimeout(timeoutRef);\n        setSearchLoading(true);\n        setVerses([]);\n        setHasMoreAnswers(true);\n        setSkip(0)\n        timeoutRef = setTimeout(() => {\n            setSearch(data.search.value);\n        }, 1000);\n    }\n\n    useEffect(() => {\n        actions.setSelectedVerses([]);\n    }, [])\n\n    useEffect(() => {\n        if (!loading) {\n            fetchVerses();\n        }\n    }, [search]);\n\n    const fetchVerses = () => {\n        const name = search.trim();\n        if (name) {\n            setLoading(true);\n            rest.search(searchType, {name, bookId: book?._id, skip})\n                .then(response => {\n                    console.log(response.data);\n                    setVerses(verses.concat(response.data));\n                    setLoading(false);\n                    setSearchLoading(false);\n                    setSkip(() => {\n                        return skip + 1;\n                    })\n                    if (!response.hasMore) {\n                        setHasMoreAnswers(false);\n                    }\n                    if (!response.data.length && !verses.length) {\n                        throw new Error('');\n                    }\n                    setError('');\n                })\n                .catch(err => {\n                    setError('לא נמצאו תוצאות');\n                })\n        }\n    }\n\n    const selectedVerse = (e, val) => {\n        const value = e.target.checked;\n        const prevVerses = chosenVerses;\n        if (value === true) {\n            prevVerses.push(val);\n        } else {\n            const index = prevVerses.findIndex(v => v._id === val._id);\n            prevVerses.splice(index, 1);\n        }\n        setChosenVerses(prevVerses);\n        actions.setSelectedVerses(prevVerses);\n        callback(prevVerses.length);\n    }\n\n    const searchInOtherBooks = (index, val) => {\n        setReplaceVerse(val);\n    }\n\n    const onVerseReplaced = (selected, original) => {\n        console.log('selected', selected);\n        setReplaceVerse(null);\n        if (selected) {\n            selected.availableBooks = original.availableBooks;\n            const prevVerses = verses;\n            const index = prevVerses.findIndex(v => v._id === original._id);\n            if (index !== -1) {\n                prevVerses.splice(index, 1);\n                prevVerses.splice(index, 0, selected);\n            }\n            setVerses(prevVerses);\n            console.log('prevVerses', prevVerses)\n        }\n    }\n\n    return (\n        <div className='d-flex flex-column flex-100 justify-content-center align-content-center'>\n            <MyForm fields={freeSearchForm}\n                    loading={searchLoading}\n                    submitText={\"חפש\"}\n                    callback={submit}\n            />\n            {error && <p>{error}</p>}\n            {verses.map((val, index) => {\n                return (<div key={`_${val._id}`} className='marginTop30px flex-row'>\n                    <Form.Group className='d-flex flex-100 margin15 flex-row' controlId={`${val._id}}`}>\n                        <Form.Check className={`flex-10 text-center`} type='checkbox' value={val.id}\n                                    onChange={(e) => selectedVerse(e, val)}\n                                    disabled={val.taken}/>\n                        <Form.Label id={`_${val._id}}`}\n                                    className={`flex-90 flex-column text-right ${val.taken && 'disabled-color'}`}>\n                            <VerseDisplay val={val}/>\n                            {(val.taken && val.availableBooks || val.bookInfo && val.availableBooks > 1) && <React.Fragment>\n                                <Button onClick={searchInOtherBooks.bind(this, index, val)}\n                                        className='btn-outline-primary'>\n                                    חפש בספרי תורה אחרים\n                                </Button>\n                            </React.Fragment> || ''}\n                        </Form.Label>\n                    </Form.Group>\n                </div>)\n            })}\n            {loading && <div\n                className='d-flex flex-column flex-100 layout-align-center-center justify-content-center align-content-center'>\n                <Loader/>\n            </div>}\n            {!loading && verses.length && <LoadMore callback={fetchVerses} show={hasMoreAnswers}/> || ''}\n            {replaceVerse && <OtherBooksModal searchType={searchType}\n                 callback={onVerseReplaced.bind(this)}\n                 bookId={replaceVerse.bookId}\n                 textWithout={replaceVerse.textWithout}\n                 originalVerse={replaceVerse}\n            />}\n        </div>\n    )\n}\n\nconst styles = {\n    gray: {\n        color: 'gray',\n        fontSize: '14px',\n    },\n    list: {\n        listStyleType: 'circle'\n    }\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport {Button, Form} from 'react-bootstrap';\nimport rest from '../rest';\nimport Spinner from 'react-bootstrap/Spinner'\nimport {TakenBy} from \"../components/TakenBy\";\nimport {AvailableBooks} from \"../components/AvailableBooks\";\nimport {VerseLocation} from \"../components/VerseLocation\";\nimport OtherBooksModal from \"../components/OtherBooksModal\";\nimport {getFreeSearchForm} from \"../config\";\nimport {default as MyForm} from \"../components/Form\";\nimport {Loader} from \"../components/Loader\";\nimport {LoadMore} from \"../components/LoadMore\";\nimport {VerseDisplay} from \"../components/VerseDisplay\";\n\nexport const FreeSearch = ({donate, book, selectedVerses, searchType, callback, actions}) => {\n    const [skip, setSkip] = useState(0);\n    const [verses, setVerses] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [searchLoading, setSearchLoading] = useState(false);\n    const [search, setSearch] = useState('');\n    const [chosenVerses, setChosenVerses] = useState([]);\n    const [replaceVerse, setReplaceVerse] = useState(null);\n    const [error, setError] = useState('');\n    const [hasMoreAnswers, setHasMoreAnswers] = useState(true);\n\n\n    const freeSearchForm = getFreeSearchForm();\n    let timeoutRef = null;\n\n    useEffect(() => {\n        actions.setSelectedVerses([]);\n    }, [])\n\n    useEffect(() => {\n        if (!loading) {\n            fetchVerses();\n        }\n\n    }, [search]);\n\n    const fetchVerses = () => {\n        const text = search.trim();\n        if (text) {\n            rest.search(searchType, {text, bookId: book?._id, skip})\n                .then(response => {\n                    console.log(response.data);\n                    setVerses(verses.concat(response.data));\n                    setLoading(false);\n                    setSearchLoading(false);\n                    setSkip(() => {\n                        return skip + 1;\n                    })\n                    if (!response.hasMore) {\n                        setHasMoreAnswers(false);\n                    }\n                    if (!response.data.length && !verses.length) {\n                        throw new Error('');\n                    }\n                    setError('');\n                })\n                .catch(err => {\n\n                })\n        } else {\n            setSearchLoading(false);\n        }\n    }\n\n    const fetchVersesWrapper = () => {\n        setLoading(true);\n        fetchVerses();\n    }\n\n    const selectedVerse = (e, val) => {\n        const value = e.target.checked;\n        const prevVerses = chosenVerses;\n        if (value === true) {\n            prevVerses.push(val);\n        } else {\n            const index = prevVerses.findIndex(v => v._id === val._id);\n            prevVerses.splice(index, 1);\n        }\n        setChosenVerses(prevVerses);\n        actions.setSelectedVerses(prevVerses);\n        callback(prevVerses.length);\n    }\n\n    const searchInOtherBooks = (index, val) => {\n        setReplaceVerse(val);\n    }\n\n    const onVerseReplaced = (selected, original) => {\n        console.log('selected', selected);\n        setReplaceVerse(null);\n        if (selected) {\n            selected.availableBooks = original.availableBooks;\n            const prevVerses = verses;\n            const index = prevVerses.findIndex(v => v._id === original._id);\n            if (index !== -1) {\n                prevVerses.splice(index, 1);\n                prevVerses.splice(index, 0, selected);\n            }\n            setVerses(prevVerses);\n            console.log('prevVerses', prevVerses)\n        }\n    }\n\n    const submit = (data) => {\n        clearTimeout(timeoutRef);\n        setSearchLoading(true);\n        setVerses([]);\n        setHasMoreAnswers(true);\n        setSkip(0);\n        timeoutRef = setTimeout(() => {\n            setSearch(data.search.value);\n        }, 1000);\n    }\n\n    return (\n        <div className='d-flex flex-column flex-100 justify-content-center align-content-center'>\n            <MyForm fields={freeSearchForm}\n                  loading={searchLoading}\n                  submitText={\"חפש\"}\n                  callback={submit}\n            />\n            {error && <p>{error}</p>}\n            {verses.map((val, index) => {\n                return (<div key={`_${val._id}`} className='marginTop30px flex-row'>\n                    <Form.Group className='d-flex flex-100 margin15 flex-row' controlId={`${val._id}}`}>\n                        <Form.Check className={`flex-10 text-center`} type='checkbox' value={val.id}\n                                    onChange={(e) => selectedVerse(e, val)}\n                                    disabled={val.taken}/>\n                        <Form.Label id={`_${val._id}}`}\n                                    className={`flex-90 flex-column text-right ${val.taken && 'disabled-color'}`}>\n                            <VerseDisplay val={val} />\n                            {(val.taken && val.availableBooks || val.bookInfo && val.availableBooks > 1) && <React.Fragment>\n                                <Button onClick={searchInOtherBooks.bind(this, index, val)}\n                                        className='btn-outline-primary'>\n                                    חפש בספרי תורה אחרים\n                                </Button>\n                            </React.Fragment> || ''}\n                        </Form.Label>\n                    </Form.Group>\n                </div>)\n            })}\n            {loading && <div\n                className='d-flex flex-column flex-100 layout-align-center-center justify-content-center align-content-center'>\n                <Loader/>\n            </div>}\n            {!loading && verses.length && <LoadMore callback={fetchVersesWrapper} show={hasMoreAnswers}/> || ''}\n            {replaceVerse && <OtherBooksModal searchType={searchType}\n                 callback={onVerseReplaced.bind(this)}\n                 bookId={replaceVerse.bookId}\n                 textWithout={replaceVerse.textWithout}\n                 originalVerse={replaceVerse}\n            />}\n        </div>\n    )\n}\n\nconst styles = {\n    gray: {\n        color: 'gray',\n        fontSize: '14px',\n    },\n    list: {\n        listStyleType: 'circle'\n    }\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport {Button, Form,} from 'react-bootstrap';\nimport rest from '../rest';\nimport Spinner from 'react-bootstrap/Spinner'\nimport {TakenBy} from \"../components/TakenBy\";\nimport {AvailableBooks} from \"../components/AvailableBooks\";\nimport {VerseLocation} from \"../components/VerseLocation\";\nimport OtherBooksModal from \"../components/OtherBooksModal\";\nimport {Loader} from \"../components/Loader\";\nimport {LoadMore} from \"../components/LoadMore\";\nimport {VerseDisplay} from \"../components/VerseDisplay\";\nimport MyForm from \"../components/Form\";\nimport {getEnterYourNameForm} from \"../config\";\n\nexport const VerseYourName = ({donate, book, selectedVerses, searchType, callback, actions}) => {\n    const [skip, setSkip] = useState(0);\n    const [verses, setVerses] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [searchLoading, setSearchLoading] = useState(false);\n    const [search, setSearch] = useState('');\n    const [chosenVerses, setChosenVerses] = useState([]);\n    const [replaceVerse, setReplaceVerse] = useState(null);\n    const [error, setError] = useState('');\n    const [hasMoreAnswers, setHasMoreAnswers] = useState(true);\n\n    const freeSearchForm = getEnterYourNameForm();\n    let timeoutRef = null;\n\n    const submit = (data) => {\n        clearTimeout(timeoutRef);\n        setSearchLoading(true);\n        setVerses([]);\n        setHasMoreAnswers(true);\n        setSkip(0);\n        timeoutRef = setTimeout(() => {\n            setSearch(data.search.value);\n        }, 1000);\n    }\n\n    useEffect(() => {\n        actions.setSelectedVerses([]);\n    }, [])\n\n    useEffect(() => {\n        if (!loading) {\n            fetchVerses();\n        }\n    }, [search]);\n\n    const fetchVerses = () => {\n        const name = search.trim();\n        if (name) {\n            setLoading(true);\n            rest.search(searchType, {name, bookId: book?._id, skip})\n                .then(response => {\n                    console.log(response.data);\n                    setVerses(verses.concat(response.data));\n                    setLoading(false);\n                    setSearchLoading(false);\n                    setSkip(() => {\n                        return skip + 1;\n                    })\n                    if (!response.hasMore) {\n                        setHasMoreAnswers(false);\n                    }\n                    if (!response.data.length && !verses.length) {\n                        throw new Error('');\n                    }\n                    setError('');\n                })\n                .catch(err => {\n                    setError('לא נמצאו תוצאות');\n                })\n        }\n    }\n\n    const selectedVerse = (e, val) => {\n        const value = e.target.checked;\n        const prevVerses = chosenVerses;\n        if (value === true) {\n            prevVerses.push(val);\n        } else {\n            const index = prevVerses.findIndex(v => v._id === val._id);\n            prevVerses.splice(index, 1);\n        }\n        setChosenVerses(prevVerses);\n        actions.setSelectedVerses(prevVerses);\n        callback(prevVerses.length);\n    }\n\n    const searchInOtherBooks = (index, val) => {\n        setReplaceVerse(val);\n    }\n\n    const onVerseReplaced = (selected, original) => {\n        console.log('selected', selected);\n        setReplaceVerse(null);\n        if (selected) {\n            selected.availableBooks = original.availableBooks;\n            const prevVerses = verses;\n            const index = prevVerses.findIndex(v => v._id === original._id);\n            if (index !== -1) {\n                prevVerses.splice(index, 1);\n                prevVerses.splice(index, 0, selected);\n            }\n            setVerses(prevVerses);\n            console.log('prevVerses', prevVerses)\n        }\n    }\n\n    return (\n        <div className='d-flex flex-column flex-100 justify-content-center align-content-center'>\n            <MyForm fields={freeSearchForm}\n                    loading={searchLoading}\n                    submitText={\"חפש\"}\n                    callback={submit}\n            />\n            {error && <p>{error}</p>}\n            {verses.map((val, index) => {\n                return (<div key={`_${val._id}`} className='marginTop30px flex-row'>\n                    <Form.Group className='d-flex flex-100 margin15 flex-row' controlId={`${val._id}}`}>\n                        <Form.Check className={`flex-10 text-center`} type='checkbox' value={val.id}\n                                    onChange={(e) => selectedVerse(e, val)}\n                                    disabled={val.taken}/>\n                        <Form.Label id={`_${val._id}}`}\n                                    className={`flex-90 flex-column text-right ${val.taken && 'disabled-color'}`}>\n                            <VerseDisplay val={val} />\n                            {(val.taken && val.availableBooks || val.bookInfo && val.availableBooks > 1) && <React.Fragment>\n                                <Button onClick={searchInOtherBooks.bind(this, index, val)}\n                                        className='btn-outline-primary'>\n                                    חפש בספרי תורה אחרים\n                                </Button>\n                            </React.Fragment> || ''}\n                        </Form.Label>\n                    </Form.Group>\n                </div>)\n            })}\n            {loading && <div\n                className='d-flex flex-column flex-100 layout-align-center-center justify-content-center align-content-center'>\n                <Loader/>\n            </div>}\n            {!loading && verses.length && <LoadMore callback={fetchVerses} show={hasMoreAnswers}/> || ''}\n            {replaceVerse && <OtherBooksModal searchType={searchType}\n                 callback={onVerseReplaced.bind(this)}\n                 bookId={replaceVerse.bookId}\n                 textWithout={replaceVerse.textWithout}\n                 originalVerse={replaceVerse}\n            />}\n        </div>\n    )\n}\n\nconst styles = {\n    gray: {\n        color: 'gray',\n        fontSize: '14px',\n    },\n    list: {\n        listStyleType: 'circle'\n    }\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport {Button, Form,} from 'react-bootstrap';\nimport rest from '../rest';\nimport OtherBooksModal from \"../components/OtherBooksModal\";\nimport {gematriyaLetters, SPACE} from \"../utils\";\nimport {Loader} from \"../components/Loader\";\nimport {LoadMore} from \"../components/LoadMore\";\nimport {VerseDisplay} from \"../components/VerseDisplay\";\nimport {freeSearchFormWithButtons} from \"../config\";\nimport MyForm from \"../components/Form\";\n\nexport const Gematria = ({donate, book, selectedVerses, searchType, callback, actions}) => {\n    const [skip, setSkip] = useState(0);\n    const [verses, setVerses] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [searchLoading, setSearchLoading] = useState(false);\n    const [search, setSearch] = useState('');\n    const [chosenVerses, setChosenVerses] = useState([]);\n    const [replaceVerse, setReplaceVerse] = useState(null);\n    const [gematri, setGematri] = useState(0);\n    const [error, setError] = useState('');\n    const [hasMoreAnswers, setHasMoreAnswers] = useState(true);\n    const [radioValue, setRadioValue] = useState('3');\n\n    const freeSearchFormWithButtonsForm = freeSearchFormWithButtons();\n    let timeoutRef = null;\n\n    const submit = (data) => {\n        if (\n            data.search.value !== search ||\n            data.radioValue.value !== radioValue\n        ) {\n            clearTimeout(timeoutRef);\n            setSearchLoading(true);\n            setVerses([]);\n            setHasMoreAnswers(true);\n            setSkip(0);\n            timeoutRef = setTimeout(() => {\n                setSearch(data.search.value);\n                setRadioValue(data.radioValue.value);\n            }, 1000);\n        }\n    }\n\n    useEffect(() => {\n        actions.setSelectedVerses([]);\n    }, [])\n\n    useEffect(() => {\n        if (!loading) {\n            setVerses([]);\n            setHasMoreAnswers(true);\n            setSkip(0);\n            fetchVerses();\n        }\n    }, [radioValue, search]);\n\n    const fetchVerses = () => {\n        const name = search.trim();\n        if (name) {\n            setLoading(true);\n            setError('');\n            setGematri(gematriyaLetters(name));\n            rest.search(searchType, {name, bookId: book?._id, skip, radioValue})\n                .then(response => {\n                    console.log(response.data);\n                    setVerses(prev => ([...prev, ...response.data]));\n                    setLoading(false);\n                    setSearchLoading(false);\n                    setSkip(() => {\n                        return skip + 1;\n                    })\n                    if (!response.hasMore) {\n                        setHasMoreAnswers(false);\n                    }\n                    if (!response.data.length && !verses.length) {\n                        throw new Error('');\n                    }\n                })\n                .catch(err => {\n                    setError('לא נמצאו תוצאות');\n                })\n        }\n    }\n\n    const getNewComplex = (e) => {\n        if (!loading) {\n            setRadioValue(e.currentTarget.value);\n        }\n    }\n\n    const selectedVerse = (e, values) => {\n        const value = e.target.checked;\n        const prevVerses = [];\n         if (value === true) {\n            document.querySelectorAll('input[type=\"radio\"]').forEach(v=> v.checked = false);\n            e.currentTarget.checked = true;\n             if (values.find(v => v.taken)) {\n                 actions.updateModal({\n                     show: true,\n                     title: 'שים לב',\n                     body: 'אחד מהפסוקים שבחרת כבר תפוס, אנא בחר ספר תורה אחר שבו תוכל לרכוש את הפסוק',\n                     hideFooter: true,\n                 });\n             } else {\n                 prevVerses.push(...values);\n             }\n         } else {\n             /*for (const val of values) {\n                 for (let i = prevVerses.length; i >= 0; i--) {\n                     const index = prevVerses.findIndex(v => v._id === val._id);\n                     prevVerses.splice(index, 1);\n                     if (index !== -1) {\n                         break;\n                     }\n                 }\n             }*/\n         }\n         setChosenVerses(prevVerses);\n         actions.setSelectedVerses(prevVerses);\n         callback(prevVerses.length);\n    }\n\n    const searchInOtherBooks = (index, valIndex, val) => {\n        setReplaceVerse(val);\n    }\n\n    const onVerseReplaced = (selected, original) => {\n        console.log('selected', selected);\n        setReplaceVerse(null);\n        if (selected) {\n            selected.availableBooks = original.availableBooks;\n            const prevVerses = verses;\n            for (let i = prevVerses.length -1 ; i >= 0; i--) {\n                const index = prevVerses[i].findIndex(v => v._id === original._id);\n                if (index !== -1) {\n                    prevVerses[i].splice(index, 1);\n                    prevVerses[i].splice(index, 0, selected);\n                }\n            }\n            // const index = prevVerses.findIndex(v => v._id === original._id);\n            // if (index !== -1) {\n            //     prevVerses.splice(index, 1);\n            //     prevVerses.splice(index, 0, selected);\n            // }\n            setVerses(prevVerses);\n            console.log('prevVerses', prevVerses)\n        }\n    }\n\n    const getVersesView = (values, index) => {\n        return (<Form.Label id={`_${index}}`} className={`flex-90 flex-column text-right`}>\n            {\n                values.map((val, valIndex) => {\n                    return (<div key={`${index}_${valIndex}`} className=\"paddBottom10px\">\n                        <VerseDisplay val={val} showLength={true} />\n                        {(val.taken && val.availableBooks || val.bookInfo && val.availableBooks > 1) &&\n                        <React.Fragment>\n                            <Button onClick={searchInOtherBooks.bind(this, index, valIndex, val)}\n                                    className='btn-outline-primary'>\n                                חפש בספרי תורה אחרים\n                            </Button>\n                        </React.Fragment> || ''}\n                    </div>)\n                })\n            }\n        </Form.Label>)\n    }\n\n    return (\n        <div className='d-flex flex-column flex-100 justify-content-center align-content-center'>\n            <h6>\n                שמך בגימטריה:\n                {SPACE}\n                {gematri}\n            </h6>\n            <MyForm fields={freeSearchFormWithButtonsForm}\n                    loading={searchLoading}\n                    submitText={\"חפש\"}\n                    callback={submit}\n            />\n            {error && <p>{error}</p>}\n            {verses.map((values, index) => {\n                return (<div key={`_${index}`} className='marginTop30px flex-row'>\n                    <Form.Group className='d-flex flex-100 margin15 flex-row' controlId={`${index}`}>\n                        <Form.Check className={`flex-10 text-center`} type='radio' value={index}\n                                    onChange={(e) => selectedVerse(e, values)}\n                        />\n                        {getVersesView(values, index)}\n                    </Form.Group>\n                </div>)\n            })}\n            {loading && <div\n                className='d-flex flex-column flex-100 layout-align-center-center justify-content-center align-content-center'>\n                <Loader/>\n            </div>}\n            {!loading && verses.length && <LoadMore callback={fetchVerses} show={hasMoreAnswers}/> || ''}\n            {replaceVerse && <OtherBooksModal searchType={searchType}\n                                              callback={onVerseReplaced.bind(this)}\n                                              bookId={replaceVerse.bookId}\n                                              textWithout={replaceVerse.textWithout}\n                                              originalVerse={replaceVerse}\n            />}\n        </div>\n    )\n}\n\nconst styles = {\n    gray: {\n        color: 'gray',\n        fontSize: '14px',\n    },\n    list: {\n        listStyleType: 'circle'\n    }\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport {Button, Form} from 'react-bootstrap';\nimport rest, {getToken} from '../rest';\nimport {TakenBy} from \"../components/TakenBy\";\nimport {AvailableBooks} from \"../components/AvailableBooks\";\nimport {VerseLocation} from \"../components/VerseLocation\";\nimport OtherBooksModal from \"../components/OtherBooksModal\";\nimport {getAmountForm} from \"../config\";\nimport {default as MyForm} from \"../components/Form\";\nimport {SPACE} from \"../utils\";\nimport {Loader} from \"../components/Loader\";\nimport {LoadMore} from \"../components/LoadMore\";\nimport ToggleButton from \"react-bootstrap/ToggleButton\";\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\nimport {VerseDisplay} from \"../components/VerseDisplay\";\n\nexport const AmountSearch = ({donate, book, selectedVerses, searchType, callback, actions}) => {\n    const [skip, setSkip] = useState(0);\n    const [verses, setVerses] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [searchLoading, setSearchLoading] = useState(false);\n    const [search, setSearch] = useState(100);\n    const [chosenVerses, setChosenVerses] = useState([]);\n    const [replaceVerse, setReplaceVerse] = useState(null);\n    const [error, setError] = useState('');\n    const [hasMoreAnswers, setHasMoreAnswers] = useState(true);\n    const [radioValue, setRadioValue] = useState('1');\n\n    const radios = [\n        { name: 'צירוף 1', value: '1' },\n        { name: '2 צירופים', value: '2' },\n        { name: '3 צירופים', value: '3' },\n        { name: '4 צירופים', value: '4' },\n        { name: '5 צירופים', value: '5' },\n    ];\n\n    const amountForm = getAmountForm();\n    let timeoutRef = null;\n    // let axiosSession;\n\n    useEffect(() => {\n        actions.setSelectedVerses([]);\n    }, []);\n\n    useEffect(() => {\n        if (!loading) {\n            fetchVerses();\n        }\n    }, [search]);\n\n    /*useEffect(() => {\n        if (axiosSession) {\n            axiosSession.cancel();\n            axiosSession = null;\n        }\n        setLoading(false);\n        setSearchLoading(false);\n    }, [radioValue]);*/\n\n    const fetchVerses = () => {\n        const amount = Number(search) || 0;\n        if (amount) {\n            rest.search(searchType, {amount, bookId: book?._id, skip, radioValue})\n                .then(response => {\n                    console.log(response.data);\n                    setVerses(prev => ([...prev, ...response.data]));\n                    setLoading(false);\n                    setSearchLoading(false);\n                    if (!response.hasMore) {\n                        setHasMoreAnswers(false);\n                    }\n                    if (!response.data.length && !verses.length) {\n                        throw new Error('');\n                    }\n                    setError('');\n                })\n                .catch(err => {\n\n                })\n        } else {\n            setSearchLoading(false);\n        }\n    }\n\n    const getNewComplex = (e) => {\n        if (!loading) {\n            setRadioValue(e.currentTarget.value);\n        }\n    }\n\n    const fetchVersesWrapper = () => {\n        setSkip(skip + 1);\n        setLoading(true);\n        fetchVerses();\n    }\n\n    const selectedVerse = (e, values) => {\n        const value = e.target.checked;\n        const prevVerses = [];\n        if (value === true) {\n            document.querySelectorAll('input[type=\"radio\"]').forEach(v=> v.checked = false);\n            e.currentTarget.checked = true;\n            if (values.find(v => v.taken)) {\n                actions.updateModal({\n                    show: true,\n                    title: 'שים לב',\n                    body: 'אחד מהפסוקים שבחרת כבר תפוס, אנא בחר ספר תורה אחר שבו תוכל לרכוש את הפסוק',\n                    hideFooter: true,\n                });\n                e.target.checked = false;\n            } else {\n                prevVerses.push(...values);\n            }\n        } else {\n            /*for (const val of values) {\n                for (let i = prevVerses.length; i >= 0; i--) {\n                    const index = prevVerses.findIndex(v => v._id === val._id);\n                    prevVerses.splice(index, 1);\n                    if (index !== -1) {\n                        break;\n                    }\n                }\n            }*/\n        }\n        setChosenVerses(prevVerses);\n        actions.setSelectedVerses(prevVerses);\n        callback(prevVerses.length);\n    }\n\n    const searchInOtherBooks = (index, valIndex, val) => {\n        setReplaceVerse(val);\n    }\n\n    const onVerseReplaced = (selected, original) => {\n        console.log('selected', selected);\n        setReplaceVerse(null);\n        if (selected) {\n            selected.availableBooks = original.availableBooks;\n            const prevVerses = verses;\n            for (let i = prevVerses.length -1 ; i >= 0; i--) {\n                const index = prevVerses[i].findIndex(v => v._id === original._id);\n                if (index !== -1) {\n                    prevVerses[i].splice(index, 1);\n                    prevVerses[i].splice(index, 0, selected);\n                }\n            }\n            // const index = prevVerses.findIndex(v => v._id === original._id);\n            // if (index !== -1) {\n            //     prevVerses.splice(index, 1);\n            //     prevVerses.splice(index, 0, selected);\n            // }\n            setVerses(prevVerses);\n            console.log('prevVerses', prevVerses)\n        }\n    }\n\n    const submit = (data) => {\n        if (!searchLoading) {\n            setSearchLoading(true);\n            setVerses([]);\n            setHasMoreAnswers(true);\n            setSkip(0);\n            setTimeout(() => {\n                if (search !== data.search.value) {\n                    setSearch(data.search.value);\n                } else if (!loading) {\n                    fetchVerses();\n                }\n            }, 1000)\n        }\n    }\n\n    const getVersesView = (values, index) => {\n        return (<Form.Label id={`_${index}}`} className={`flex-90 flex-column text-right`}>\n            {\n                values.map((val, valIndex) => {\n                    return (<div key={`${index}_${valIndex}`} className=\"paddBottom10px\">\n                        <VerseDisplay val={val} showLength={true} />\n                        {(val.taken && val.availableBooks || val.bookInfo && val.availableBooks > 1) &&\n                        <React.Fragment>\n                            <Button onClick={searchInOtherBooks.bind(this, index, valIndex, val)}\n                                    className='btn-outline-primary'>\n                                חפש בספרי תורה אחרים\n                            </Button>\n                        </React.Fragment> || ''}\n                    </div>)\n                })\n            }\n        </Form.Label>)\n    }\n\n    return (\n        <div className='d-flex flex-column flex-100 justify-content-center align-content-center'>\n            <ButtonGroup className='hideCheckbox d-flex flex-row flex-100 justify-content-center align-content-center flex-wrap'>\n                {radios.map((radio, idx) => (\n                    <ToggleButton\n                        disabled={loading || searchLoading}\n                        key={idx}\n                        id={`radio-${idx}`}\n                        type=\"radio\"\n                        variant={'outline-info'}\n                        name=\"radio\"\n                        value={radio.value}\n                        checked={radioValue === radio.value}\n                        onChange={getNewComplex}\n                    >\n                        {radio.name}\n                    </ToggleButton>\n                ))}\n            </ButtonGroup>\n            <MyForm fields={amountForm}\n                  loading={searchLoading}\n                  submitText={\"חפש\"}\n                  callback={submit}\n            />\n            {error && <p>{error}</p>}\n            {verses.map((values, index) => {\n                return (<div key={`_${index}`} className='marginTop30px flex-row'>\n                    <Form.Group className='d-flex flex-100 margin15 flex-row' controlId={`${index}`}>\n                        <Form.Check className={`flex-10 text-center`} type='radio' value={index}\n                                    onChange={(e) => selectedVerse(e, values)}\n                        />\n                        {getVersesView(values, index)}\n                    </Form.Group>\n                </div>)\n            })}\n            {loading && <div\n                className='d-flex flex-column flex-100 layout-align-center-center justify-content-center align-content-center'>\n                <Loader/>\n            </div>}\n            {!loading && verses.length && <LoadMore callback={fetchVersesWrapper} show={hasMoreAnswers}/> || ''}\n            {replaceVerse && <OtherBooksModal searchType={searchType}\n                 callback={onVerseReplaced.bind(this)}\n                 bookId={replaceVerse.bookId}\n                 textWithout={replaceVerse.textWithout}\n                 originalVerse={replaceVerse}\n            />}\n        </div>\n    )\n}\n\nconst styles = {\n    gray: {\n        color: 'gray',\n        fontSize: '14px',\n    },\n    list: {\n        listStyleType: 'circle'\n    }\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport {Button, Form} from 'react-bootstrap';\nimport rest from '../rest';\nimport Spinner from 'react-bootstrap/Spinner'\nimport {TakenBy} from \"../components/TakenBy\";\nimport {AvailableBooks} from \"../components/AvailableBooks\";\nimport {VerseLocation} from \"../components/VerseLocation\";\nimport OtherBooksModal from \"../components/OtherBooksModal\";\nimport {SPACE} from \"../utils\";\nimport {Loader} from \"../components/Loader\";\nimport {LoadMore} from \"../components/LoadMore\";\nimport {VerseDisplay} from \"../components/VerseDisplay\";\n\nexport const RandomSearch = ({donate, book, selectedVerses, searchType, callback, actions, reachedToBottom}) => {\n    const [skip, setSkip] = useState(0);\n    const [verses, setVerses] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [search, setSearch] = useState(0);\n    const [chosenVerses, setChosenVerses] = useState([]);\n    const [replaceVerse, setReplaceVerse] = useState(null);\n    const [error, setError] = useState('');\n    const [hasMoreAnswers, setHasMoreAnswers] = useState(true);\n\n    useEffect(() => {\n        actions.setSelectedVerses([]);\n    }, [])\n\n    useEffect(() => {\n        if (reachedToBottom) {\n            fetchVerses();\n        }\n    }, [reachedToBottom]);\n\n    useEffect(() => {\n        if (!loading) {\n            fetchVerses();\n        }\n    }, [search]);\n\n    const fetchVerses = () => {\n        setLoading(true);\n        rest.search(searchType, {bookId: book?._id, skip})\n            .then(response => {\n                console.log(response.data);\n                setVerses(verses.concat(response.data));\n                setLoading(false);\n                setSkip(() => {\n                    return skip + 1;\n                })\n                if (!response.hasMore) {\n                    setHasMoreAnswers(false);\n                }\n                if (!response.data.length && !verses.length) {\n                    throw new Error('');\n                }\n                setError('');\n            })\n            .catch(err => {\n\n            })\n    }\n\n    const selectedVerse = (e, val) => {\n        const value = e.target.checked;\n        const prevVerses = chosenVerses;\n        if (value === true) {\n            prevVerses.push(val);\n        } else {\n            const index = prevVerses.findIndex(v => v._id === val._id);\n            prevVerses.splice(index, 1);\n        }\n        setChosenVerses(prevVerses);\n        actions.setSelectedVerses(prevVerses);\n        callback(prevVerses.length);\n    }\n\n    const searchInOtherBooks = (index, val) => {\n        setReplaceVerse(val);\n    }\n\n    const onVerseReplaced = (selected, original) => {\n        console.log('selected', selected);\n        setReplaceVerse(null);\n        if (selected) {\n            selected.availableBooks = original.availableBooks;\n            const prevVerses = verses;\n            const index = prevVerses.findIndex(v => v._id === original._id);\n            if (index !== -1) {\n                prevVerses.splice(index, 1);\n                prevVerses.splice(index, 0, selected);\n            }\n            setVerses(prevVerses);\n            console.log('prevVerses', prevVerses)\n        }\n    }\n\n    return (\n        <div className='d-flex flex-column flex-100 justify-content-center align-content-center'>\n            {error && <p>{error}</p>}\n            {verses.map((val, index) => {\n                return (<div key={`_${val._id}`} className='marginTop30px flex-row'>\n                    <Form.Group className='d-flex flex-100 margin15 flex-row' controlId={`${val._id}}`}>\n                        <Form.Check className={`flex-10 text-center`} type='checkbox' value={val.id}\n                                    onChange={(e) => selectedVerse(e, val)}\n                                    disabled={val.taken}/>\n                        <Form.Label id={`_${val._id}}`}\n                                    className={`flex-90 flex-column text-right ${val.taken && 'disabled-color'}`}>\n                            <VerseDisplay val={val} />\n                            {(val.taken && val.availableBooks || val.bookInfo && val.availableBooks > 1) && <React.Fragment>\n                                <Button onClick={searchInOtherBooks.bind(this, index, val)}\n                                        className='btn-outline-primary'>\n                                    חפש בספרי תורה אחרים\n                                </Button>\n                            </React.Fragment> || ''}\n                        </Form.Label>\n                    </Form.Group>\n                </div>)\n            })}\n            {loading && <div\n                className='d-flex flex-column flex-100 layout-align-center-center justify-content-center align-content-center'>\n                <Loader/>\n            </div>}\n            {!loading && verses.length && <LoadMore callback={fetchVerses} show={hasMoreAnswers}/> || ''}\n            {replaceVerse && <OtherBooksModal searchType={searchType}\n                 callback={onVerseReplaced.bind(this)}\n                 bookId={replaceVerse.bookId}\n                 textWithout={replaceVerse.textWithout}\n                 originalVerse={replaceVerse}\n            />}\n        </div>\n    )\n}\n\nconst styles = {\n    gray: {\n        color: 'gray',\n        fontSize: '14px',\n    },\n    list: {\n        listStyleType: 'circle'\n    }\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport {booksMapHeb, SPACE} from \"../utils\";\n\nexport const VersesRange = ({val, withBook}) => {\n    return (\n        <React.Fragment>\n            {withBook && <div>\n                <b>ספר: </b>\n                <span className='font-weight-light'>{booksMapHeb[val.book]}</span>\n            </div>}\n            <div>\n                <b>התחלה: </b>\n                <span className='font-weight-light'>{val.transformed[0]}</span>\n            </div>\n            <div>\n                <b>סיום: </b>\n                <span className='font-weight-light'>{val.transformed[1]}</span>\n            </div>\n        </React.Fragment>\n    )\n};\n\nconst styles = {\n    gray: {\n        color: 'gray',\n        fontSize: '14px',\n    },\n    list: {\n        listStyleType: 'circle'\n    }\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport {Button, Form} from 'react-bootstrap';\nimport rest from '../rest';\nimport OtherBooksModal from \"../components/OtherBooksModal\";\nimport {getByDateForm} from \"../config\";\nimport {default as MyForm} from \"../components/Form\";\nimport {Loader} from \"../components/Loader\";\nimport {LoadMore} from \"../components/LoadMore\";\nimport {gematriyaNumbers} from \"../utils\";\nimport moment from \"moment\";\nimport {VersesRange} from \"../components/VersesRange\";\nimport {booksMap} from \"../utils\";\nimport {HDate, Sedra} from '@hebcal/core';\n\nexport const ByDate = ({donate, book, selectedVerses, searchType, callback, actions}) => {\n    const [verses, setVerses] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [searchLoading, setSearchLoading] = useState(false);\n    const [search, setSearch] = useState('');\n    const [parasha, setParasha] = useState(null);\n    const [chosenVerses, setChosenVerses] = useState([]);\n    const [replaceVerse, setReplaceVerse] = useState(null);\n    const [error, setError] = useState('');\n    const [hasMoreAnswers, setHasMoreAnswers] = useState(true);\n\n\n    const byDateForm = getByDateForm();\n    let timeoutRef = null;\n\n    useEffect(() => {\n        actions.setSelectedVerses([]);\n    }, [])\n\n    useEffect(() => {\n        if (!loading) {\n            fetchVerses();\n        }\n    }, [search]);\n\n    const fetchVerses = () => {\n        const date = search.trim();\n        if (date) {\n            rest.getParashaByDate(date)\n                .then(res => {\n                    if (res.items.length) {\n                        const parasha = res.items.find(v => v.category === 'parashat');\n                        setParasha({\n                            title: parasha.title,\n                            aliya: Object.keys(parasha.leyning).map((v, vi) => {\n                                if (['1', '2', '3', '4', '5', '6', '7'].includes(v)) {\n                                    const bookName = parasha.leyning[v].split(' ')[0];\n                                    const tmp = parasha.leyning[v].split(' ')[1];\n                                    const code = transformAliya(tmp);\n                                    return {\n                                        range: true,\n                                        _id: `${book._id}_${code.start.chapter}:${code.start.verse}-${code.end.chapter}:${code.end.verse}`,\n                                        book: booksMap[bookName],\n                                        code,\n                                        transformed: [`פרק ${gematriyaNumbers(code.start.chapter)} פסוק ${gematriyaNumbers(code.start.verse)}`, `פרק ${gematriyaNumbers(code.end.chapter)} פסוק ${gematriyaNumbers(code.end.verse)}`],\n                                    };\n                                }\n                            }).filter(v => v),\n                        });\n                    }\n                    setLoading(false);\n                    setSearchLoading(false);\n                })\n                .catch(err => {\n\n                })\n        } else {\n            setSearchLoading(false);\n        }\n    }\n\n    const fetchVersesWrapper = () => {\n        setLoading(true);\n        fetchVerses();\n    }\n\n    const selectedVerse = (e, val) => {\n        const value = e.target.checked;\n        const prevVerses = chosenVerses;\n        if (value === true) {\n            prevVerses.push({...val, bookId: book._id});\n        } else {\n            const index = prevVerses.findIndex(v => v._id === val._id);\n            prevVerses.splice(index, 1);\n        }\n        console.log(prevVerses)\n        setChosenVerses(prevVerses);\n        actions.setSelectedVerses(prevVerses);\n        callback(prevVerses.length);\n    }\n\n    const searchInOtherBooks = (index, val) => {\n        setReplaceVerse(val);\n    }\n\n    const onVerseReplaced = (selected, original) => {\n        console.log('selected', selected);\n        setReplaceVerse(null);\n        if (selected) {\n            selected.availableBooks = original.availableBooks;\n            const prevVerses = verses;\n            const index = prevVerses.findIndex(v => v._id === original._id);\n            if (index !== -1) {\n                prevVerses.splice(index, 1);\n                prevVerses.splice(index, 0, selected);\n            }\n            setVerses(prevVerses);\n            console.log('prevVerses', prevVerses)\n        }\n    }\n\n    const submit = (data) => {\n        clearTimeout(timeoutRef);\n        setVerses([]);\n        setSearchLoading(true);\n        setHasMoreAnswers(true);\n        timeoutRef = setTimeout(() => {\n            const tmp = moment(data.date.value, 'YYYY/MM/DD');\n            const hdate = new HDate(new Date(tmp));\n            const date13 = hdate.add(13, 'y');\n            // const sedra = new Sedra(date13.year, true);\n            // console.log(sedra.lookup(date13));\n            const format = moment(date13.greg()).format('YYYY/MM/DD');\n            if (search !== format) {\n                setSearch(format);\n            } else {\n                setSearchLoading(false);\n                setHasMoreAnswers(false);\n            }\n        }, 1000);\n    }\n\n    const transformAliya = (val) => {\n        const pos = val.split('-');\n        const posA = pos[0].split(':').map(Number);\n        const posB = pos[1].split(':').map(Number);\n        return {\n            start: {\n                chapter: posA[0],\n                verse: posA[1],\n            },\n            end: {\n                chapter: posB[0],\n                verse: posB[1],\n            }\n        }\n    }\n\n    return (\n        <div className='d-flex flex-column flex-100 justify-content-center align-content-center'>\n            <MyForm fields={byDateForm}\n                  loading={searchLoading}\n                  submitText={\"חפש\"}\n                  callback={submit}\n            />\n            {error && <p>{error}</p>}\n            <h5>{parasha && parasha.title}</h5>\n            <ol>\n            {parasha && parasha.aliya.map((val, index) => {\n                return (<li key={`_${index}`} className='marginTop30px flex-row'>\n                    <Form.Group className='d-flex flex-100 margin15 flex-row' controlId={`${index}}`}>\n                        <Form.Check className={`flex-10 text-center`} type='checkbox' value={val.id}\n                                    onChange={(e) => selectedVerse(e, val)}\n                                    disabled={val.taken}/>\n                        <Form.Label id={`_${val._id}}`}\n                                    className={`flex-90 flex-column text-right ${val.taken && 'disabled-color'}`}>\n                           <VersesRange val={val}/>\n                        </Form.Label>\n                    </Form.Group>\n                </li>)\n            })}\n            </ol>\n            {loading && <div\n                className='d-flex flex-column flex-100 layout-align-center-center justify-content-center align-content-center'>\n                <Loader/>\n            </div>}\n            {!loading && verses.length && <LoadMore callback={fetchVersesWrapper} show={hasMoreAnswers}/> || ''}\n            {replaceVerse && <OtherBooksModal searchType={searchType}\n                 callback={onVerseReplaced.bind(this)}\n                 bookId={replaceVerse.bookId}\n                 textWithout={replaceVerse.textWithout}\n                 originalVerse={replaceVerse}\n            />}\n        </div>\n    )\n}\n\nconst styles = {\n    gray: {\n        color: 'gray',\n        fontSize: '14px',\n    },\n    list: {\n        listStyleType: 'circle'\n    }\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport {Button, Form} from 'react-bootstrap';\nimport rest, {getToken} from '../rest';\nimport {TakenBy} from \"../components/TakenBy\";\nimport {AvailableBooks} from \"../components/AvailableBooks\";\nimport {VerseLocation} from \"../components/VerseLocation\";\nimport OtherBooksModal from \"../components/OtherBooksModal\";\nimport {getAmountForm} from \"../config\";\nimport {default as MyForm} from \"../components/Form\";\nimport {gematriyaNumbers, SPACE} from \"../utils\";\nimport {Loader} from \"../components/Loader\";\nimport {LoadMore} from \"../components/LoadMore\";\nimport ToggleButton from \"react-bootstrap/ToggleButton\";\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\nimport {VersesRange} from \"../components/VersesRange\";\nconst Tora = require('../aliyot_client');\n\nexport const Aliya = ({donate, book, selectedVerses, searchType, callback, actions}) => {\n    const [verses, setVerses] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [searchLoading, setSearchLoading] = useState(false);\n    const [chosenVerses, setChosenVerses] = useState([]);\n    const [replaceVerse, setReplaceVerse] = useState(null);\n    const [error, setError] = useState('');\n    const [hasMoreAnswers, setHasMoreAnswers] = useState(true);\n    const [selectedAliyaBook, setSelectedAliyaBook] = useState(null);\n    const [parasha, setParasha] = useState(null);\n    const [aliya, setAliya] = useState(null);\n\n    const fetchVersesWrapper = () => {\n        setLoading(true);\n    }\n\n    const selectedVerse = (e, val) => {\n        const value = e.target.checked;\n        const prevVerses = chosenVerses;\n        if (value === true) {\n            prevVerses.push({...val, bookId: book._id});\n        } else {\n            const index = prevVerses.findIndex(v => v._id === val._id);\n            prevVerses.splice(index, 1);\n        }\n        console.log(prevVerses)\n        setChosenVerses(prevVerses);\n        actions.setSelectedVerses(prevVerses);\n        callback(prevVerses.length);\n    }\n\n    const onBookSelected = (event) => {\n        setSelectedAliyaBook(Tora[Number(event.target.value)]);\n        setParasha(null);\n        setAliya(null);\n    }\n    const onParashaSelected = (event) => {\n        setParasha(selectedAliyaBook[event.target.selectedIndex]);\n        const aliyot = Object.values(selectedAliyaBook.parasha[Number(event.target.value)].aliyot).map((val, index) => {\n            return {\n                range: true,\n                _id: `${book._id}_${val.start.chapter}:${val.start.verse}-${val.end.chapter}:${val.end.verse}`,\n                book: selectedAliyaBook.book,\n                code: val,\n                transformed: [`פרק ${gematriyaNumbers(val.start.chapter)} פסוק ${gematriyaNumbers(val.start.verse)}`, `פרק ${gematriyaNumbers(val.end.chapter)} פסוק ${gematriyaNumbers(val.end.verse)}`],\n            };\n        })\n        setAliya(aliyot)\n\n    }\n\n    return (\n        <div className='d-flex flex-column flex-100 justify-content-center align-content-center'>\n\n            <div className=''>\n                <Form.Group controlId='select_book' className='form-group'>\n                    <Form.Label>בחר חומש</Form.Label>\n                    <Form.Control as=\"select\" onChange={(event) => onBookSelected(event)}\n                         name='select_book' defaultValue={'-1'}>\n                        <option key={'-1'}>בחר חומש</option>\n                        {\n                            Tora.map((b, bi) => {\n                                return <option key={bi} value={bi}>{b.name}</option>\n                            })\n                        }\n                    </Form.Control>\n                </Form.Group>\n\n                <Form.Group controlId='select_parasha' className='form-group'>\n                    <Form.Label>בחר פרשה</Form.Label>\n                    <Form.Control as=\"select\" onChange={(event) => onParashaSelected(event)}\n                                  disabled={!selectedAliyaBook}\n                                  name='select_parasha' defaultValue={selectedAliyaBook}>\n                        <option key={'-1'}>בחר פרשה</option>\n                        {\n                            selectedAliyaBook?.parasha.map((b, bi) => {\n                                return <option key={bi} value={bi}>{b.name}</option>\n                            })\n                        }\n                    </Form.Control>\n                </Form.Group>\n            </div>\n\n            {error && <p>{error}</p>}\n\n            <ol>\n            {aliya && aliya.map((val, index) => {\n                return (<li key={`_${index}`} className='marginTop30px flex-row'>\n                    <Form.Group className='d-flex flex-100 margin15 flex-row' controlId={`${index}}`}>\n                        <Form.Check className={`flex-10 text-center`} type='checkbox' value={val.id}\n                                    onChange={(e) => selectedVerse(e, val)}\n                                    disabled={val.taken}/>\n                        <Form.Label id={`_${val._id}}`}\n                                    className={`flex-90 flex-column text-right ${val.taken && 'disabled-color'}`}>\n                            <VersesRange val={val}/>\n                        </Form.Label>\n                    </Form.Group>\n                </li>)\n            })}\n            </ol>\n        </div>\n    )\n}\n\nconst styles = {\n    gray: {\n        color: 'gray',\n        fontSize: '14px',\n    },\n    list: {\n        listStyleType: 'circle'\n    }\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport NextButton from \"../components/NextButton\";\nimport {Hello} from \"../components/Hello\";\nimport {SearchTypes} from \"../config\";\nimport {countWeight} from \"../utils\";\nimport {FirstAndLastLetter} from \"../searches/FirstAndLastLetter\";\nimport {FreeSearch} from \"../searches/FreeSearch\";\nimport {VerseYourName} from \"../searches/VerseYourName\";\nimport {Gematria} from \"../searches/Gematria\";\nimport {AmountSearch} from \"../searches/AmountSearch\";\nimport {RandomSearch} from \"../searches/RandomSearch\";\nimport MyList from \"../components/List\";\nimport {ByDate} from \"../searches/ByDate\";\nimport {Aliya} from \"../searches/Aliya\";\nimport rest from '../rest';\n\nexport const Step4 = ({nextStep, app, location, actions}) => {\n    const [searchType, setSearchType] = useState(-1);\n    const [versesSelected, setVersesSelected] = useState(0);\n    const [reachedToBottom, setReachedToBottom] = useState(false);\n    const [amount, setAmount] = useState(0);\n\n    useEffect(() => {\n        const params = new URLSearchParams(location.search);\n        setSearchType(params.get('searchType'));\n    }, []);\n    useEffect(() => {\n        if (!app.donate.name) {\n            console.log('bad access');\n        }\n    }, [])\n    useEffect(() => {\n        getTotalAmount();\n    }, [versesSelected])\n\n    const getSelectedSearchType = () => {\n        switch (searchType) {\n            case SearchTypes.firstAndLastLetter: {\n                return <FirstAndLastLetter searchType={SearchTypes.firstAndLastLetter} donate={app.donate}\n                                           book={app.selectedBook} callback={canContinue} actions={actions}\n                                           reachedToBottom={reachedToBottom}/>\n            }\n            case SearchTypes.freeSearch: {\n                return <FreeSearch searchType={SearchTypes.freeSearch} donate={app.donate} book={app.selectedBook}\n                                   callback={canContinue} actions={actions} reachedToBottom={reachedToBottom}/>\n            }\n            case SearchTypes.verseYourName: {\n                return <VerseYourName searchType={SearchTypes.verseYourName} donate={app.donate} book={app.selectedBook}\n                                      callback={canContinue} actions={actions} reachedToBottom={reachedToBottom}/>\n            }\n            case SearchTypes.gematria: {\n                return <Gematria searchType={SearchTypes.gematria} donate={app.donate} book={app.selectedBook}\n                                 callback={canContinue} actions={actions} reachedToBottom={reachedToBottom}/>\n            }\n            case SearchTypes.amount: {\n                return <AmountSearch searchType={SearchTypes.amount} donate={app.donate} book={app.selectedBook}\n                                     callback={canContinue} actions={actions} reachedToBottom={reachedToBottom}/>\n            }\n            case SearchTypes.random: {\n                return <RandomSearch searchType={SearchTypes.random} donate={app.donate} book={app.selectedBook}\n                                     callback={canContinue} actions={actions} reachedToBottom={reachedToBottom}/>\n            }\n            case SearchTypes.byDate: {\n                return <ByDate searchType={SearchTypes.byDate} donate={app.donate} book={app.selectedBook}\n                                     callback={canContinue} actions={actions} reachedToBottom={reachedToBottom}/>\n            }\n            case SearchTypes.aliya: {\n                return <Aliya searchType={SearchTypes.aliya} donate={app.donate} book={app.selectedBook}\n                                     callback={canContinue} actions={actions} reachedToBottom={reachedToBottom}/>\n            }\n            default:\n                return <div>חיפוש לא קיים</div>\n        }\n    }\n\n    const canContinue = (can) => {\n        setVersesSelected(can);\n    }\n\n    const nextStepButton = () => {\n        if (versesSelected) {\n            nextStep();\n        }\n    }\n\n    const getTotalAmount = () => {\n        rest.getSelectedVersesPriceAndAmount(app.selectedVerses)\n            .then(res => {\n                setAmount(res.price);\n            })\n        // let amount = 0;\n        // app.selectedVerses.map(val => {\n            // amount += countWeight(val.textWithout)\n        // });\n        // return amount;\n    }\n\n    const reachedBottom = (status) => {\n        setReachedToBottom(status);\n    }\n\n    return (\n        <div\n            className='step4 flex-column flex-100 padd10 justify-content-center align-content-center align-items-center text-center height-inherit'>\n            <div\n                className='d-flex flex-wrap justify-content-around justify-content-center align-content-center align-items-center'>\n                {/*<MyList callback={reachedBottom}>*/}\n                    {getSelectedSearchType()}\n                {/*</MyList>*/}\n            </div>\n            <div className=\"stickyFooter totalToPay width100\">\n                <div className='d-flex flex-row layout-align-space-around align-items-center'>\n                    <div\n                        className='d-flex flex-column justify-content-center align-content-center align-items-center'>\n                        <div>\n                            סה\"כ אותיות:\n                        </div>\n                        {<div>{amount}</div>}\n                    </div>\n                    <div className='d-flex flex-column justify-content-center align-content-center align-items-center'>\n                        <div>סה\"כ לתשלום:</div>\n                        {<div>₪{amount}</div>}\n                    </div>\n                    <NextButton disabled={versesSelected === 0} clicked={nextStepButton} text={'לחץ למצווה'}/>\n                </div>\n            </div>\n        </div>\n    )\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport NextButton from \"../components/NextButton\";\nimport {Hello} from \"../components/Hello\";\nimport {Button, Form, Navbar} from \"react-bootstrap\";\nimport {countWeight} from \"../utils\";\nimport rest from \"../rest\";\nimport {VersesRange} from \"../components/VersesRange\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport * as ICONS from \"@fortawesome/free-solid-svg-icons\";\n\nexport const Step5 = ({nextStep, app, actions}) => {\n    // const [blessFor, setBlessFor] = useState({});\n    const [selectedVerses, setSelectedVerses] = useState([]);\n    const [toUpdate, setToUpdate] = useState([]);\n\n    useEffect(() => {\n        setSelectedVerses(app.selectedVerses);\n    }, [selectedVerses])\n\n    useEffect(() => {\n        Promise.all(selectedVerses && selectedVerses.filter(v => v.range).map(v => {\n            return rest.getSelectedVersesPriceAndAmount([v], app.selectedBook)\n                .then(res => {\n                    v.price = res.price;\n                    return res.price;\n                })\n        })).then((results) => {\n            console.log(results);\n            if (results && results.length) {\n                setToUpdate(results);\n            }\n        })\n    }, [selectedVerses])\n\n    const updateSelected = (e, v, val) => {\n        const name = e.target.name;\n        const value = e.target.checked;\n        if (!val.bless) {\n            val.bless = [];\n        }\n        if (value === true) {\n            val.bless.push(v);\n        } else {\n            const index = val.bless.findIndex(t => t.name === v.name);\n            val.bless.splice(index, 1);\n        }\n        actions.setSelectedVerses(selectedVerses);\n    }\n\n    const nextStepButton = () => {\n        const canContinue = selectedVerses.find(v => !v.bless?.length);\n        if (!canContinue && selectedVerses.length) {\n            const selectedIds = selectedVerses.map(v => v._id);\n            if (app.cart.find(v => selectedIds.includes(v._id))) {\n                actions.updateModal({\n                    show: true,\n                    title: 'שים לב',\n                    body: 'המוצר כבר נמצא בסל',\n                    hideFooter: true,\n                });\n            } else {\n                actions.addToCart(selectedVerses);\n                rest.checkAvailability(\n                    app.selectedBook._id,\n                    selectedVerses.filter(v => !v.range).map(v => v._id),\n                    selectedVerses.filter(v => v.range),\n                    true,\n                )\n                    .then(response => {\n                        if (response.success) {\n                            nextStep();\n                        } else if (response.data) {\n\n                        }\n                    })\n                    .catch(err => {\n\n                    })\n            }\n        }\n    }\n\n    const removeItem = (index) => {\n        const text = \"האם אתה בטוח?\";\n        if (window.confirm(text) == true) {\n            selectedVerses.splice(index, 1);\n            actions.setSelectedVerses(selectedVerses);\n            toUpdate.splice(index, 1);\n        }\n    }\n\n    const addToCart = () => {\n        const canContinue = selectedVerses.find(v => !v.bless?.length);\n        if (!canContinue) {\n            const selectedIds = selectedVerses.map(v => v._id);\n            if (app.cart.find(v => selectedIds.includes(v._id))) {\n                alert('המוצר כבר נמצא בסל');\n            } else {\n                actions.addToCart(selectedVerses);\n                window.history.back();\n            }\n        }\n    }\n\n    const getBlessElem = (val) => {\n        return <div className='width100 marginTop30px flex-column justify-content-center align-content-center align-items-center'>\n            <h4>\n                התרומה מיועדת ל:\n            </h4>\n            <div\n                className='flex-row flex-wrap justify-content-around form-check-inline justify-content-center align-content-center align-items-center'>\n                {[\n                    {name: 'פרנסה'},\n                    {name: 'עילוי שם'},\n                    {name: 'לרפואה שלימה'},\n                    {name: 'הצלחה'},\n                    {name: 'זיווג הגון'},\n                    {name: 'לכל הישועות'},\n                ].map((v, vi) => {\n                    return (\n                        <Form.Group key={vi} className='margin15' controlId={`_${vi}`}>\n                            <Form.Check className='text-center myCheckbox'\n                                        checked={val.bless?.find(t => t.name === v.name)}\n                                        label={v.name} type='checkbox' value={v.name}\n                                        name={v.name}\n                                        onChange={(e) => updateSelected(e, v, val)}/>\n                        </Form.Group>)\n                })}\n            </div>\n        </div>\n    }\n    return (\n        <div\n            className='step5 d-flex flex-column flex-100 padd10 justify-content-start align-content-center align-items-center text-center height-inherit'>\n            <Hello donate={app.donate}/>\n\n            <ol className='width100'>\n                {selectedVerses && selectedVerses.map((val, index) => {\n                    return <li key={index}>\n                        <Form.Group controlId={'verse'} key={val._id}>\n                            <Form.Label className='d-flex flex-row align-content-center align-items-center'>\n                                <FontAwesomeIcon onClick={() => removeItem(val._id)} className='pointer marginLeft5px' icon={ICONS.faTrash}/>\n                                אנא בדוק שזהו הפסוק שבחר לבך\n                            </Form.Label>\n                            {!val.range && <Form.Control className='text-center' as='textarea' placeholder={'הפסוק שנבחר'}\n                                          value={val.text} name='verse' disabled={true}/>}\n                            {val.range && <VersesRange val={val} withBook={true}/>}\n                        </Form.Group>\n                        {!val.range && <div className='d-flex flex-row layout-align-space-around align-items-center'>\n                            <div\n                                className='d-flex flex-column justify-content-center align-content-center align-items-center'>\n                                <div>\n                                    סה\"כ אותיות:\n                                </div>\n                                {<div>{countWeight(val.textWithout)}</div>}\n                            </div>\n                            <div\n                                className='d-flex flex-column justify-content-center align-content-center align-items-center'>\n                                <div>סה\"כ לתשלום:</div>\n                                {<div>₪{countWeight(val.textWithout)}</div>}\n                            </div>\n                        </div>}\n                        {getBlessElem(val)}\n                        <hr/>\n                    </li>\n                })}\n            </ol>\n\n            <div className=\"d-flex flex-row width100 marginTop30px layout-align-space-between\">\n                <NextButton clicked={nextStepButton} text={'לחץ למצווה'}/>\n                <NextButton clicked={addToCart} text={'הוסף לסל והמשך בחיפוש'}/>\n            </div>\n        </div>\n    )\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport NextButton from \"../components/NextButton\";\nimport {Hello} from \"../components/Hello\";\nimport {Form} from \"react-bootstrap\";\nimport {Book} from '../components/Book';\nimport rest from \"../rest\";\n\nexport const Step6 = ({nextStep, app, actions}) => {\n    const [books, setBooks] = useState([]);\n    const [selectedBook, setSelectedBook] = useState(null);\n\n    useEffect(() => {\n        rest.getAllBooks()\n            .then((res) => {\n                setBooks(res.data);\n            })\n            .catch(() => {\n            })\n            .finally(() => {\n\n            })\n    }, [])\n\n\n    useEffect(() => {\n        setSelectedBook(app.selectedBook);\n    }, [])\n\n    const updateSelected = (e, val) => {\n        const name = e.target.name;\n        const value = e.target.checked;\n        setSelectedBook(val)\n    }\n\n    const nextStepButton = () => {\n        if (selectedBook && selectedBook._id) {\n            actions.setSelectedBook(selectedBook);\n            nextStep();\n        }\n    }\n\n    return (\n        <div\n            className='step6 flex-column flex-100 padd10 justify-content-center align-content-center align-items-center text-center height-inherit'>\n            <h3 className='width100'>\n                היכן תרצה להכניס את הספר:\n            </h3>\n            <div className='width100 flex-column flex-wrap justify-content-center align-items-center'>\n                {books.map((val, index) => {\n                    return (<div key={`_${index}`} className='marginTop30px flex-row'>\n                        <Form.Group className='d-flex flex-100 margin15 flex-row' controlId={`${index}`}>\n                            <Form.Check className='flex-10 text-center' checked={selectedBook && selectedBook._id === val._id}\n                                        type='radio' value={val._id} name={'sameGroup'}\n                                        onChange={(e) => updateSelected(e, val)}/>\n                            <Form.Label id={`${index}`} className={`flex-90 flex-column text-right`}>\n                                <Book {...val}/>\n                            </Form.Label>\n                        </Form.Group>\n                    </div>)\n                })}\n            </div>\n            <div className=\"stickyFooter width100 marginTop30px\">\n                <NextButton clicked={nextStepButton} text={'לחץ למצווה'}/>\n            </div>\n        </div>\n    )\n};\n","//שימו לב!! שיטת הפוסטמסג' לא עובדת בשרת מקומי (localhost). חובה להעלות את הקוד שלכם לדומיין שלכם.\n\nwindow.onerror = function (msg, url, line, col, error) {\n    // alert(\"שגיאת תוכנה. פנה לתמיכה טכנית. שגיאה: \" + msg)\n}\n\n//זהירות! את השורת קוד הזו יש להפעיל רק פעם אחת בעת פתיחת הדף\nwindow.onload = function () {\n    // if (window.addEventListener) { window.addEventListener(\"message\", ReadPostMessage, false); } else { window.attachEvent(\"onmessage\", ReadPostMessage); }\n    // document.getElementById('NedarimFrame').onload = function () { console.log('StartNedarim'); PostNedarim({'Name':'GetHeight'}) }\n    // document.getElementById('NedarimFrame').src = \"https://matara.pro/nedarimplus/iframe?language=he\";\n}\nexport function loadPaymentScripts() {\n    if (window.addEventListener) { window.addEventListener(\"message\", ReadPostMessage, false); } else { window.attachEvent(\"onmessage\", ReadPostMessage); }\n    document.getElementById('NedarimFrame').onload = function () { /*console.log('StartNedarim'); */PostNedarim({'Name':'GetHeight'}) }\n    document.getElementById('NedarimFrame').src = \"https://matara.pro/nedarimplus/iframe?language=he&Captcha=1\";\n    document.getElementById('PayBtDiv').style.display = 'block';\n\n\n}\n///////////////////////////////\n\nexport function PostNedarim(Data) { var iframeWin = document.getElementById('NedarimFrame').contentWindow; iframeWin.postMessage(Data, \"*\"); };\nfunction ReadPostMessage(event) {\n    // console.log(event.data);\n    switch (event.data.Name) {\n        case 'Height':\n            //Here you get the height of iframe | event.data.Value\n            document.getElementById('NedarimFrame').style.height = (parseInt(event.data.Value - 150) + 15) + \"px\";\n            document.getElementById('WaitNedarimFrame').style.display = 'none';\n            break;\n\n        case 'TransactionResponse':\n            // document.getElementById('Result').innerHTML = '<b>TransactionResponse:<br/>' + JSON.stringify(event.data.Value) + '</b><br/>see full data in console';\n            console.log(event.data.Value)\n            if (event.data.Value.Status == 'Error') {\n                document.getElementById('ErrorDiv').innerHTML = event.data.Value.Message\n                document.getElementById('WaitPay').style.display = 'none';\n                document.getElementById('PayBtDiv').style.display = 'block';\n            } else {\n                document.getElementById('WaitPay').style.display = 'none';\n                document.getElementById('OkDiv').style.display = 'block';\n            }\n    }\n}\nfunction PayBtClick() {\n    document.getElementById('Result').innerHTML = ''\n    document.getElementById('PayBtDiv').style.display = 'none';\n    document.getElementById('OkDiv').style.display = 'none';\n    document.getElementById('WaitPay').style.display = 'block';\n    document.getElementById('ErrorDiv').innerHTML = '';\n    PostNedarim({\n        'Name': 'FinishTransaction2',\n        'Value': {\n            'Mosad': document.getElementById('MosadId').value,\n            'ApiValid': document.getElementById('ApiValid').value,\n            'PaymentType': document.getElementById(\"PaymentType\").value,\n            'Currency': '1',\n\n            'Zeout': '',\n            'FirstName': document.getElementById('ClientName').value,\n            'LastName': '',\n            'Street': document.getElementById('Street').value,\n            'City': document.getElementById('City').value,\n            'Phone': '',\n            'Mail': '',\n\n            'Amount': document.getElementById('Amount').value,\n            'Tashlumim': '1',\n\n            'Groupe': '',\n            'Comment': 'בדיקת אייפרם 2',\n\n            'Param1': 'פרמטר 1',\n            'Param2': '',\n            'ForceUpdateMatching': '1', //מיועד לקמפיין אם מעוניינים שהמידע יידחף ליעד, למרות שזה לא נהוג באייפרם\n\n            'CallBack': '', //מיועד לקבלת WEBHOOK לאחר כל עסקה / סירוב\n            'CallBackMailError': '', //מיועד לקבלת התראה על תקלת בשליחת קאלבק למייל של המפתח במקום למייל של אנשי הקשר של המוסד\n\n            'Tokef': document.getElementById('Tokef').value //אם אתם מנהלים את התוקף בדף שלכם (מיועד למי שרוצה להפריד בין חודש לשנה ורוצה לעצב מותאם אישית)\n\n        }\n    });\n}\n","import React, {Component, useEffect, useState} from \"react\";\nimport {Button,} from 'react-bootstrap';\nimport rest from \"../rest\";\nimport {v4 as uuidv4} from 'uuid';\nimport {loadPaymentScripts, PostNedarim} from '../payment.script';\nimport {Loader} from \"../components/Loader\";\n\n// todo: disable the payment after 5 min by server queue\n/**\n * save the verses with unique ID in the pending_payments and return the price to the payment provider\n * create a long polling with the generated ID to check if it's done\n */\n\nconst MosadId = process.env.REACT_APP_MOSADID;\nconst ApiValid = process.env.REACT_APP_APIVALID;\nlet domain = 'https://1b10-93-173-224-240.ngrok.io';\n\nif (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n} else {\n    domain = window.DOMAIN;\n}\n\nexport const Step7 = ({nextStep, actions, app}) => {\n    const [amount, setAmount] = useState(0);\n    const [selectedVerses, setSelectedVerses] = useState([]);\n    const uniqueId = uuidv4();\n\n    useEffect(() => {\n        setSelectedVerses(app.cart);\n    }, []);\n\n    useEffect(() => {\n        setSelectedVerses(app.cart);\n    }, [app.cart]);\n\n    useEffect(() => {\n        getAmount();\n    }, [selectedVerses]);\n\n    useEffect(() => {\n        setTimeout(() => {\n            loadPaymentScripts();\n        }, 2500);\n    }, [amount]);\n\n    useEffect(() => {\n        rest.updateBuyingVerses({\n            donate: app.donate,\n            selectedBook: app.selectedBook,\n            verses: selectedVerses.filter(v => !v.range),\n            ranges: selectedVerses.filter(v => v.range),\n            checkout: uniqueId,\n        })\n            .then(response => {\n                checkPaymentStatus(uniqueId)\n            })\n    }, [amount]);\n\n    const checkPaymentStatus = (id) => {\n        rest.checkIFPaymentIsDone(id)\n            .then((response) => {\n                if (response && response.success) {\n                    if (window.gtag) {\n                        window.gtag('event', 'purchase', {\n                            name: app.donate.name,\n                            phone: app.donate.phone,\n                            email: app.donate.email,\n                            amount,\n                            uniqueId,\n                        });\n                    }\n                    payed();\n                } else {\n                    setTimeout(() => {\n                        checkPaymentStatus(id);\n                    }, 1000 * 10);\n                }\n            })\n    }\n    const payed = () => {\n        nextStep();\n    }\n\n    const getAmount = () => {\n        rest.checkAvailability(\n            app.selectedBook._id,\n            selectedVerses.filter(v => !v.range).map(v => v._id),\n            selectedVerses.filter(v => v.range),\n            true,\n        )\n            .then(response => {\n                if (response.success) {\n                    rest.getSelectedVersesPriceAndAmount(selectedVerses/*, uniqueId*/)\n                        .then(res => {\n                            setAmount(res.price);\n                        })\n                } else {\n                    setAmount(0);\n                }\n            })\n            .catch(err => {\n                console.log(err.message)\n            })\n    }\n\n    const PayBtClick = () => {\n        if (!amount || amount === 0) {\n            alert('תם הזמן, נא רענן את הדף ונסה שנית');\n            return;\n        }\n        document.getElementById('Result').innerHTML = ''\n        document.getElementById('PayBtDiv').style.display = 'none';\n        document.getElementById('OkDiv').style.display = 'none';\n        document.getElementById('WaitPay').style.display = 'block';\n        document.getElementById('ErrorDiv').innerHTML = '';\n        PostNedarim({\n            'Name': 'FinishTransaction2',\n            'Value': {\n                'Mosad': MosadId,\n                'ApiValid': ApiValid,\n                'PaymentType': 'Ragil',\n                'Currency': '1',\n\n                'Zeout':  document.getElementById('Zeout').value,\n                'FirstName': app.donate.name,\n                'LastName': app.donate.lastName,\n                'Street': app.donate.address,\n                'City': '',\n                'Phone': app.donate.phone,\n                'Mail': app.donate.email,\n\n                'Amount': amount,\n                'Tashlumim': '1',\n\n                'Groupe': '',\n                'Comment': uniqueId,\n\n                'Param1': uniqueId,\n                'Param2': '',\n                'ForceUpdateMatching': '1', //מיועד לקמפיין אם מעוניינים שהמידע יידחף ליעד, למרות שזה לא נהוג באייפרם\n\n                'CallBack': domain + '/payment', //מיועד לקבלת WEBHOOK לאחר כל עסקה / סירוב\n                'CallBackMailError': 'toraletter@gmail.com', //מיועד לקבלת התראה על תקלת בשליחת קאלבק למייל של המפתח במקום למייל של אנשי הקשר של המוסד\n\n                // 'Tokef': document.getElementById('Tokef').value //אם אתם מנהלים את התוקף בדף שלכם (מיועד למי שרוצה להפריד בין חודש לשנה ורוצה לעצב מותאם אישית)\n\n            }\n        });\n    }\n\n    return (\n        <div\n            className='step7 d-flex flex-column flex-100 padd10 justify-content-center align-content-center align-items-center  text-center height-inherit'>\n            <h1 className=\"paddBottom10px\">\n                דף תשלום\n            </h1>\n            <div className='width100' style={{marginBottom: '150px'}}>\n                {amount !== 0 && <React.Fragment>\n                    <div\n                     style={{\n                         \"verticalAlign\": \"top\",\n                         \"textAlign\": \"right\",\n                         \"margin\": \"15px 0px 15px 0px\",\n                         \"minWidth\":\"100%\",\n                         \"-webkitBoxSizing\": \"border-box\",\n                     }}>\n                    <span\n                          style={{\n                              \"textAlign\": \"right\",\n                              \"minWidth\": \"100%\",\n                              \"marginRight\": \"1px\",\n                              \"color\": \"#808080\",\n                          }}>סכום:</span>\n                    <br/>\n                    <input disabled={true} type=\"number\" name=\"Amount\" style={{\n                        color: 'black',\n                        width: '-webkit-fill-available',\n                        height: '23.5px',\n                    }} value={amount} className=\"TextBox\"/>\n                </div>\n                    <div\n                        style={{\n                            \"verticalAlign\": \"top\",\n                            \"textAlign\": \"right\",\n                            \"margin\": \"15px 0px 15px 0px\",\n                            \"minWidth\":\"100%\",\n                            \"-webkitBoxSizing\": \"border-box\",\n                        }}>\n                    <span\n                        style={{\n                            \"textAlign\": \"right\",\n                            \"minWidth\": \"100%\",\n                            \"marginRight\": \"1px\",\n                            \"color\": \"#808080\",\n                        }}>תעודת זהות:</span>\n                        <br/>\n                        <input type=\"tel\" id='Zeout' name=\"Zeout\" style={{\n                            color: 'black',\n                            width: '-webkit-fill-available',\n                            height: '23.5px',\n                        }} className=\"TextBox\"/>\n                    </div>\n                </React.Fragment>}\n                <iframe id=\"NedarimFrame\" className={`w-100 ${amount !== 0 ? 'hasBorder' : ''}`} frameBorder='none'  src=\"about:blank\"/>\n                <div id=\"WaitNedarimFrame\">\n                    <Loader/>\n                    <br/>Connecting to PCI Server...\n                </div>\n\n                <div id=\"OkDiv\"\n                     style={{display: 'none'}}\n                >\n                    העסקה בוצעה בהצלחה\n                </div>\n\n                <div id=\"PayBtDiv\" style={{display: 'none'}}>\n                    <Button id=\"PayBt\" className=\"btn\" onClick={PayBtClick}>\n                        ביצוע תשלום\n                    </Button>\n                    <div id=\"ErrorDiv\" className='paddTop10px'></div>\n                </div>\n                <div\n                    style={{display: 'none'}}\n                    id=\"WaitPay\">\n                    <Loader/>\n                    <br/>מבצע חיוב, נא להמתין...\n                </div>\n\n                <div id=\"Result\"></div>\n            </div>\n        </div>\n    )\n};\n","import React, {Component, useEffect} from \"react\";\nimport rest from \"../rest\";\n\nexport const Step8 = ({history, app, actions}) => {\n    useEffect(() => {\n        const donate = app.donate;\n        const verses = app.selectedVerses;\n        const selectedBook = app.selectedBook._id;\n        if (verses.length) {\n            setTimeout(() => {\n                actions.clearAll();\n                actions.resetAppData();\n            }, 5000);\n        }\n    }, []);\n\n    return (\n        <div\n            className='step0 d-flex flex-column flex-100 padd10 justify-content-center align-content-center align-items-center  text-center height-inherit'>\n            <h1 className=\"paddBottom10px\">\n                תודה רבה על תרומתך\n            </h1>\n        </div>\n    )\n};\n","import React, {Component} from \"react\";\nimport {bindActionCreators} from 'redux';\nimport '../css/home.scss';\nimport * as app_actions from '../store/app/actions';\nimport {Step0} from \"../steps/Step0\";\nimport {Step1} from \"../steps/Step1\";\nimport {Step2} from \"../steps/Step2\";\nimport {Step3} from \"../steps/Step3\";\nimport {Step4} from \"../steps/Step4\";\nimport {Step5} from \"../steps/Step5\";\nimport {Step6} from \"../steps/Step6\";\nimport {Step7} from \"../steps/Step7\";\nimport {Step8} from \"../steps/Step8\";\n\nimport {connect} from \"react-redux\";\n\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            currStep: 0,\n        };\n    }\n\n    componentWillMount() {\n    }\n\n    componentDidMount() {\n        const step = new URLSearchParams(this.props.location.search).get(\"step\");\n        if (step) {\n            this.setState({currStep: Number(step)});\n        }\n    }\n\n    componentWillUnmount() {\n\n    }\n\n    nextStep(data = {}) {\n        let {history} = this.props;\n        const step = this.state.currStep + 1;\n        let search = `?step=${step}`;\n        if (data.hasOwnProperty('searchType')) {\n            search += `&searchType=${data.searchType}`;\n        }\n        history.push({\n            pathname: `/${step}`,\n            search: search,\n            state: {step, searchType: data.searchType},\n        });\n    }\n\n    renderSteps() {\n        const step = this.state.currStep;\n        switch(step) {\n            case 0: return <Step0 nextStep={this.nextStep.bind(this)} {...this.props}/>;\n            case 1: return <Step1 nextStep={this.nextStep.bind(this)} {...this.props}/>;\n            case 2: return <Step6 nextStep={this.nextStep.bind(this)} {...this.props}/>;\n            case 3: return <Step3 nextStep={this.nextStep.bind(this)} {...this.props}/>;\n            case 4: return <Step4 nextStep={this.nextStep.bind(this)} {...this.props}/>;\n            case 5: return <Step2 nextStep={this.nextStep.bind(this)} {...this.props}/>;\n            case 6: return <Step5 nextStep={this.nextStep.bind(this)} {...this.props}/>;\n            case 7: return <Step7 nextStep={this.nextStep.bind(this)} {...this.props}/>;\n            case 8: return <Step8 nextStep={this.nextStep.bind(this)} {...this.props}/>;\n            default: return <div></div>\n        }\n    }\n\n    render() {\n        return (\n            <div className={'page flex-100'}>\n                {\n                    this.renderSteps()\n                }\n            </div>\n        )\n    }\n}\n\n\nfunction mapStateToProps(state) {\n    return {\n        app: state.app,\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    const creators = app_actions;\n\n    return {\n        actions: bindActionCreators(creators, dispatch),\n        dispatch\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","import React, { Component } from \"react\";\nimport {bindActionCreators} from 'redux';\nimport * as app_actions from '../store/app/actions';\nimport \"../css/Login.css\";\nimport Form from '../components/Form'\nimport {getLoginForm} from '../config';\nimport rest from '../rest';\nimport {connect} from \"react-redux\";\nimport $ from 'jquery';\n\nclass Login extends Component {\n    constructor (props) {\n        super(props);\n        this.state = {\n            loading: false\n        }\n    }\n\n    submit(fields){\n        this.setState({loading: true});\n        let toS = {\n            user:fields.user.value,\n            password:fields.password.value,\n        }\n        rest.login(toS)\n            .then((data)=>{\n                return {token: data.token};\n            })\n            .then(this.props.actions.login)\n            .then(()=>{\n                let { history } = this.props;\n                history.replace({pathname: '/management'});\n            })\n            .catch((err)=>{\n                console.error(err.message);\n            })\n            .finally(()=>{\n                this.setState({loading: false});\n            })\n    }\n\n    render () {\n        return (\n            <div className={'page flex-100'}>\n                <h3 className=\"loginTitle display-flex flex justify-content-center align-content-center width100 padd15px\">\n                    ממשק מנהל\n                </h3>\n                <div className='flex-100 padd15'>\n                <Form fields={getLoginForm()} callback={this.submit.bind(this)} loading={this.state.loading}\n                      forgetPass={true} history={this.props.history} hidePolicy={true} submitText={\"התחבר\"}\n                />\n                </div>\n            </div>\n        )\n    }\n}\n\n\nfunction mapStateToProps(state) {\n    return {\n        app: state.app,\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    const creators = app_actions; // [].concat.apply([],actions).filter(value => typeof value === 'function');\n\n    return {\n        actions: bindActionCreators(creators, dispatch),\n        dispatch\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n\n","import React, {Component} from \"react\";\nimport '../css/Management.scss'\nimport rest from '../rest';\nimport {bindActionCreators} from 'redux';\nimport * as app_actions from '../store/app/actions';\nimport {connect} from \"react-redux\";\nimport * as ActionButton from \"react-floating-action-button\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport * as ICONS from \"@fortawesome/free-solid-svg-icons\";\nimport MyModal from \"../components/Modal\";\nimport Form from \"../components/Form\";\nimport {getBookForm, uploadImage} from \"../config\";\nimport {Book} from '../components/Book';\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\nimport Button from \"react-bootstrap/Button\";\n\nclass Management extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            books: [],\n            showBookModal: false,\n            showBookModalLoading: false,\n        }\n    }\n\n    componentWillMount() {\n        this.getBooks();\n    }\n\n    getBooks() {\n        rest.getManagementBooks()\n            .then((res) => {\n                this.setState({books: res.data});\n            })\n            .catch(() => {\n            })\n            .finally(() => {\n                this.setState({loading: false});\n            })\n    }\n\n    addBookAction() {\n        this.bookForm = getBookForm();\n        this.bookFormCallback = this.addBook.bind(this);\n        this.toggleBookModal();\n    }\n\n    toggleBookModal() {\n        this.setState({showBookModal: !this.state.showBookModal, showBookModalLoading: false});\n    }\n\n    toggleUploadImageModal() {\n        this.setState({showUploadImageModal: !this.state.showUploadImageModal, uploadImageModalLoading: false});\n    }\n\n    addBook(data) {\n        const toSend = new FormData();\n        Object.keys(data).forEach(k => {\n            if (k === 'image_url' && data[k].value) {\n                toSend.append(k, data[k].value[0]);\n            } else {\n                toSend.append(k, data[k].value);\n            }\n        });\n        this.setState({showBookModalLoading: true});\n        rest.addBook(toSend)\n            .then((data) => {\n                this.toggleBookModal();\n                this.getBooks();\n            })\n            .catch(() => {\n                this.setState({showBookModalLoading: false});\n            })\n            .finally(() => {\n            })\n    }\n\n    deleteBook(book) {\n        rest.deleteBook(book._id)\n            .then((data) => {\n                this.getBooks();\n            })\n            .catch(() => {\n            })\n            .finally(() => {\n            })\n    }\n\n    restoreBook(book) {\n        rest.restoreBook(book._id)\n            .then((data) => {\n                this.getBooks();\n            })\n            .catch(() => {\n            })\n            .finally(() => {\n            })\n    }\n    removeBookPermanently(book) {\n        const text = \"האם אתה בטוח?\";\n        if (window.confirm(text) == true) {\n            rest.removeBookPermanently(book._id)\n                .then((data) => {\n                    this.getBooks();\n                })\n                .catch(() => {\n                })\n                .finally(() => {\n                })\n        }\n    }\n\n    updateBookAction(book) {\n        this.bookForm = getBookForm();\n        this.bookFormCallback = this.updateBook.bind(this, book._id);\n        Object.keys(this.bookForm).forEach(k => {\n            this.bookForm[k].value = book[k];\n        })\n        this.toggleBookModal();\n    }\n\n    uploadImageAction(book) {\n        this.bookForm = uploadImage();\n        this.bookFormCallback = this.uploadImage.bind(this, book._id);\n        Object.keys(this.bookForm).forEach(k => {\n            this.bookForm[k].value = book[k];\n        })\n        this.toggleUploadImageModal();\n    }\n\n    updateBook(bookId, data) {\n        const toSend = new FormData();\n        Object.keys(data).forEach(k => {\n            if (k !== 'image_url'){\n                toSend.append(k, data[k].value);\n            }\n        });\n        this.setState({uploadImageModalLoading: true});\n        rest.updateBook(bookId, toSend)\n            .then((data) => {\n                this.toggleBookModal();\n                this.getBooks();\n            })\n            .catch(() => {\n                this.setState({uploadImageModalLoading: false});\n            })\n            .finally(() => {\n            })\n    }\n\n    uploadImage(bookId, data) {\n        const toSend = new FormData();\n        Object.keys(data).forEach(k => {\n            if (k === 'image_url' && data[k].value && data[k].value[0]) {\n                toSend.append(k, data[k].value[0]);\n            }\n        });\n        this.setState({showBookModalLoading: true});\n        rest.updateBook(bookId, toSend)\n            .then((data) => {\n                this.toggleUploadImageModal();\n                this.getBooks();\n            })\n            .catch(() => {\n                this.setState({showBookModalLoading: false});\n            })\n            .finally(() => {\n\n            })\n    }\n\n    downloadXlsx(book) {\n        rest.downloadXlsx(book._id)\n            .then((data) => {\n                console.log(data);\n                const url = window.URL.createObjectURL(new Blob([data]));\n                const link = document.createElement('a');\n                link.href = url;\n                link.setAttribute('download', `${book._id}.xlsx`); //or any other extension\n                document.body.appendChild(link);\n                link.click();\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n            .finally(() => {\n\n            })\n    }\n\n    render() {\n        return (\n            <div className={'page management flex-100'}>\n                {this.state.books.map((book, index) => {\n                    return (\n                        <div key={index}\n                             className='d-flex flex-column flex-100 justify-content-center align-content-center margin15'>\n                            <Book {...book} isManagement={true} />\n                            <ButtonGroup className='marginTop30px'>\n                                {!book.deleted && <Button onClick={this.deleteBook.bind(this, book)}>מחק</Button>}\n                                {book.deleted && <Button onClick={this.restoreBook.bind(this, book)}>שחזר</Button>}\n                                {book.deleted && <Button onClick={this.removeBookPermanently.bind(this, book)}>הסר לצמיתות</Button>}\n                                {!book.deleted && <Button onClick={this.updateBookAction.bind(this, book)}>ערוך</Button>}\n                                <Button onClick={this.uploadImageAction.bind(this, book)}>העלאת תמונה</Button>\n                            </ButtonGroup>\n                            <ButtonGroup className='marginTop30px'>\n                                <Button onClick={this.downloadXlsx.bind(this, book)}>הורד אקסל</Button>\n                            </ButtonGroup>\n                        </div>\n                    )\n                })}\n                <MyModal show={this.state.showBookModal} onHide={this.toggleBookModal.bind(this)} hideFooter={true}\n                         title={'ערוך ספר'}>\n                    <Form fields={this.bookForm}\n                          loading={this.state.showBookModalLoading}\n                          submitText={\"שמור\"}\n                          callback={this.bookFormCallback}/>\n                </MyModal>\n\n                <MyModal show={this.state.showUploadImageModal} onHide={this.toggleUploadImageModal.bind(this)}\n                         hideFooter={true}\n                         title={'העלאת תמונה'}>\n                    <Form fields={this.bookForm}\n                          preview={true}\n                          loading={this.state.uploadImageModalLoading}\n                          submitText={\"שמור\"}\n                          callback={this.bookFormCallback}/>\n                </MyModal>\n\n                <ActionButton.Container className={`custom_fab-container`}>\n                    <ActionButton.Link\n                        tooltip=\"הוסף ספר\"\n                        children={\n                            <div onClick={this.addBookAction.bind(this)}><FontAwesomeIcon icon={ICONS.faBook}/></div>\n                        }\n                    />\n                    <ActionButton.Button\n                        className=\"fab-item btn btn-link btn-lg text-white\"\n                        tooltip=\"\"\n                        icon=\"fa fa-plus\"\n                        rotate={true}\n                    />\n                </ActionButton.Container>\n            </div>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        app: state.app,\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    const creators = app_actions; // [].concat.apply([],actions).filter(value => typeof value === 'function');\n\n    return {\n        actions: bindActionCreators(creators, dispatch),\n        dispatch\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Management);\n","import React, { Component } from \"react\";\nimport '../css/404.scss';\n\nclass Register extends Component {\n    constructor (props) {\n        super(props);\n        this.state = {\n\n        }\n\n    }\n\n    render () {\n        return (\n            <div className='page404 flex-100 flex-column padd10 justify-content-center align-content-center align-items-center text-center height-inherit' style={{width: '95%'}}>\n               <h1>404</h1>\n                <br/>\n               <h3>הדף לא נמצא</h3>\n            </div>\n        )\n    }\n}\nexport default Register;\n","import React, {Component, useEffect, useState} from \"react\";\nimport {VersesRange} from \"../components/VersesRange\";\nimport * as ICONS from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport rest from \"../rest\";\n\nexport const Cart = ({verses, actions}) => {\n    const [selectedVerses, setSelectedVerses] = useState([]);\n    useEffect(() => {\n        setSelectedVerses(verses);\n    }, []);\n\n    useEffect(() => {\n        updatePrice();\n    }, [selectedVerses]);\n    useEffect(() => {\n        if (!selectedVerses.length) {\n            actions.updateModal({\n                update: true,\n                hideFooter: true,\n                buttons: []\n            });\n        }\n    }, [selectedVerses]);\n\n    const updatePrice = () => {\n        rest.getSelectedVersesPriceAndAmount(selectedVerses)\n            .then(res => {\n                const price = res.price || 0;\n                if (price !== 0) {\n                    actions.updateModal({\n                        update: true,\n                        hideFooter: false,\n                        buttons: [\n                            {\n                                name: `\n                        המשך לרכישה\n                        (${price})\n                    `,\n                                callback: () => {\n                                    window.location.href = '/7?step=7';\n                                }\n                            },\n                            {\n                                name: 'נקה הכל',\n                                callback: () => {\n                                    actions.clearCart();\n                                    setSelectedVerses([]);\n                                }\n                            }\n                        ]\n                    })\n                }\n            })\n            .catch(v => 0);\n\n    }\n\n    const removeItem = (id) => {\n        const text = \"האם אתה בטוח?\";\n        if (window.confirm(text) == true) {\n            const index = selectedVerses.findIndex(v => v._id === id);\n            if (index !== -1) {\n                const tmp = [...selectedVerses];\n                tmp.splice(index, 1);\n                setSelectedVerses(() => tmp);\n            }\n            actions.removeFromCart(id);\n        }\n    }\n\n    return (\n        <React.Fragment>\n            {!selectedVerses.length && <h3 className='d-flex'>\n                לא נבחרו פסוקים\n            </h3>}\n            <ol>\n                {selectedVerses.map((val, index) => {\n                    return <li key={val._id}>\n                        <div className='marginBottom30px'>\n                            <div className='pointer marginBottom5px' onClick={() => removeItem(val._id)} >\n                                <FontAwesomeIcon className='marginLeft5px marginRight5px' icon={ICONS.faTrash}/>\n                                <span>\n                                    הסר מהעגלה\n                                </span>\n                            </div>\n                            {!val.range && <p>{val.text}</p>}\n                            {val.range && <VersesRange val={val} withBook={true}/>}\n                            <p>- {val.bless.map(v => v.name).join(', ')}</p>\n                        </div>\n                    </li>\n                })}\n            </ol>\n        </React.Fragment>\n    )\n};\n","import React from 'react';\nimport {bindActionCreators} from 'redux';\nimport * as app_actions from './store/app/actions';\nimport Home from \"./pages/Home\";\nimport Login from './pages/Login';\nimport Management from './pages/Management';\nimport NotFound from './pages/NotFound';\nimport {connect} from 'react-redux';\nimport { HashRouter, BrowserRouter, Switch, Route, Redirect, Link} from \"react-router-dom\";\nimport 'font-awesome/css/font-awesome.min.css';\nimport './css/App.css';\nimport {isMobileView} from \"./utils\";\nimport store from './store';\nimport Modal from './components/Modal';\nimport {ButtonToolbar, ButtonGroup, Button, Navbar, Nav, NavDropdown, Container, Row, Col, Image} from 'react-bootstrap';\nimport $ from 'jquery';\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport * as ICONS from \"@fortawesome/free-solid-svg-icons\";\nimport {Cart} from \"./components/Cart\";\nimport Badge from \"react-bootstrap/Badge\";\nimport rest from \"./rest\";\n\n/*let { history } = this.props;\nhistory.push({\n    pathname: '/results',\n    query: payload,\n    questions: data.questions\n});\nthis.props.location.questions*/\n\nfunction select(state) {\n    return state.app.token;\n}\n\nlet currentValue;\nfunction handleChange() {\n    let previousValue = currentValue\n    currentValue = select(store.getState())\n    // console.log('token changed',previousValue, currentValue)\n}\n\nconst unsubscribe = store.subscribe(handleChange)\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n    <Route render={(props) =>\n        {\n            return (\n                rest.app.token\n                ? <Component {...props} {...rest.computedMatch} />\n                : <Redirect to={{pathname: '/',}} />\n            )\n        }\n\n    } />\n)\n\n;(function() {\n    var pushState = window.history.pushState;\n    var replaceState = window.history.replaceState;\n\n    window.history.pushState = function() {\n        pushState.apply(window.history, arguments);\n        window.dispatchEvent(new Event('pushstate'));\n        window.dispatchEvent(new Event('locationchange'));\n    };\n\n    window.history.replaceState = function() {\n        replaceState.apply(window.history, arguments);\n        window.dispatchEvent(new Event('replacestate'));\n        window.dispatchEvent(new Event('locationchange'));\n    };\n\n    window.addEventListener('popstate', function() {\n        window.dispatchEvent(new Event('locationchange'))\n    });\n})();\n\nclass App extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            showModal:false,\n            collapsed: true,\n            location: '/',\n        };\n    }\n\n    componentWillMount() {\n        this.onDimensionsChanged();\n    }\n\n    componentDidMount() {\n        window.addEventListener('locationchange', (e) => {\n            this.setState({location: window.location.pathname});\n            if (window.gtag) {\n                window.gtag('event', 'screen_view', {\n                    'app_name': 'tora-letter',\n                    'screen_name': window.location.pathname\n                });\n            }\n        });\n    }\n\n    onDimensionsChanged(){\n        this.props.actions.setMobileView(isMobileView())\n        if (window.innerHeight < 600) {\n            $('body').addClass('smallHeight');\n        } else {\n            $('body').removeClass('smallHeight');\n        }\n    }\n\n    goToLogin(){\n        setTimeout(this.closeNavbar.bind(this),250)\n        window.location = '/login';\n    }\n\n    logout(){\n        setTimeout(this.closeNavbar.bind(this),250)\n        this.props.actions.logout();\n    }\n\n    handleSelect(eventKey){\n        setTimeout(this.closeNavbar.bind(this),250)\n        let { history } = this.refs.browserRef;\n        history.push({\n            pathname: eventKey,\n        });\n    }\n\n    toggleNavbar() {\n        this.setState({\n            collapsed: !this.state.collapsed\n        });\n    }\n\n    closeNavbar() {\n        if (this.state.collapsed === false) {\n            this.toggleNavbar();\n        }\n    }\n\n    onClickTopBar() {\n        if (this.props.app.token) {\n            window.location = '/login';\n        } else {\n            window.history.go(-(window.history.length - 1));\n            window.location = '/'\n        }\n    }\n\n    async openCart() {\n\n        this.props.actions.updateModal({\n            show: true,\n            title: 'הפסוקים שלי',\n            body: <Cart verses={this.props.app.cart} actions={this.props.actions}/>,\n        })\n    }\n\n    render () {\n        return (\n            <React.Fragment>\n                <Navbar sticky=\"top\" bg=\"light\" expand=\"md\" expanded={!this.state.collapsed}>\n                    {this.state.location !== '/' && <Navbar.Brand className='pointer' onClick={()=>window.history.back()}>\n                        <FontAwesomeIcon icon={ICONS.faArrowRight}/>\n                    </Navbar.Brand>}\n                    <Navbar.Brand className='pointer' onClick={this.onClickTopBar.bind(this)}>\n                        <span>רכישת אותיות בספר תורה</span>\n                    </Navbar.Brand>\n                    <Navbar.Toggle ref={\"navbartoggle\"} aria-controls=\"basic-navbar-nav\"\n                                   children={\n                                       <FontAwesomeIcon icon={ICONS.faBars}/>\n                                   }\n                                   onClick={this.toggleNavbar.bind(this)}/>\n                    <Navbar.Collapse ref={\"navbarcollapse\"} id=\"basic-navbar-nav\">\n                        <Nav className=\"ml-auto\" variant=\"pills\" defaultActiveKey={window.location.pathname} onSelect={this.handleSelect.bind(this)}>\n                        </Nav>\n                        <Nav className=\"mr-auto\">\n                            {false && !this.props.app.token && <Button variant=\"outline-light\" onClick={this.goToLogin.bind(this)}>התחבר</Button>}\n                            {this.props.app.token && <Button variant=\"outline-light\" onClick={this.logout.bind(this)}>התנתק</Button>}\n                            <div className='pointer' onClick={this.openCart.bind(this)}>\n                                <Badge text=\"white\" style={{color: 'white'}}>({this.props.app.cart.length})</Badge>\n                                <FontAwesomeIcon className='marginLeft5px' icon={ICONS.faShoppingCart} color={'white'}></FontAwesomeIcon>\n                            </div>\n                        </Nav>\n\n                    </Navbar.Collapse>\n                </Navbar>\n\n                {<Modal show={this.props.app.modal && this.props.app.modal.show}\n                        onHide={this.props.actions.resetModal}\n                        onClose={this.props.actions.resetModal}\n                        title={this.props.app.modal && this.props.app.modal.title}\n                        body={this.props.app.modal && this.props.app.modal.body}\n                        buttons={this.props.app.modal && this.props.app.modal.buttons}/>}\n\n                <BrowserRouter ref={'browserRef'} className={`App flex-100 layout layout-align-center-center`}>\n                  <Switch>\n                      <Route exact path=\"/\" key=\"default\" component={Home} />\n                      <Route path=\"/1\" key=\"1\" component={Home} />\n                      <Route path=\"/2\" key=\"2\" component={Home} />\n                      <Route path=\"/3\" key=\"3\" component={Home} />\n                      <Route path=\"/4\" key=\"4\" component={Home} />\n                      <Route path=\"/5\" key=\"5\" component={Home} />\n                      <Route path=\"/6\" key=\"6\" component={Home} />\n                      <Route path=\"/7\" key=\"7\" component={Home} />\n                      <Route path=\"/8\" key=\"8\" component={Home} />\n                      <Route exact path=\"/login\" component={Login}/>\n                      <PrivateRoute path=\"/management\" component={Management} {...this.props}/>\n                      <Route component={NotFound} />\n                 </Switch>\n                </BrowserRouter>\n            </React.Fragment>\n        )\n    };\n}\n\nfunction mapStateToProps(state) {\n    return {\n        app: state.app,\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    const creators = app_actions; // [].concat.apply([],actions).filter(value => typeof value === 'function');\n\n    return {\n        actions: bindActionCreators(creators, dispatch),\n        dispatch\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './css/index.css';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport * as app_actions from './store/app/actions';\nconst store = require('./store').default;\n\nstore.dispatch(app_actions.init());\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>\n    , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}
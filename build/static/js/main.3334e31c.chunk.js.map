{"version":3,"sources":["store/app/reducer.js","store/init.js","store/index.js","assets/header-icon.svg","store/actions_type.js","assets/shopping-cart.svg","store/app/actions.js","config.js","store/app/initial.js","components/NextButton.js","steps/Step0.js","steps/Step1New.js","steps/Step1.js","components/Form.js","steps/Step2.js","components/Progressbar.js","steps/Step3.js","utils.js","rest.js","components/TakenBy.js","components/VerseLocation.js","components/Modal.js","components/Book.js","components/OtherBooksModal.js","components/Loader.js","components/LoadMore.js","components/VerseDisplay.js","searches/FirstAndLastLetter.js","searches/FreeSearch.js","searches/VerseYourName.js","searches/Gematria.js","searches/AmountSearch.js","searches/RandomSearch.js","components/VersesRange.js","searches/ByDate.js","searches/Aliya.js","steps/Step4.js","steps/Step5.js","components/BookSelect.js","steps/Step6.js","payment.script.js","steps/Step7.js","steps/Step8.js","pages/Home.js","pages/Login.js","pages/Management.js","pages/NotFound.js","components/Cart.js","App.js","serviceWorker.js","index.js"],"names":["APP","require","default","initialState","rootReducer","combineReducers","app","state","arguments","length","undefined","action","newState","_objectSpread","type","SET_LOGIN","token","data","UPDATE_DONATE","donate","LOGOUT","SET_MOBILE_VIEW","mobileView","UPDATE_MODAL","modal","RESET_MODAL","UPDATE_FOOTER","footer","SET_SELECTED_VERSES","selectedVerses","ADD_TO_CART","cart","CLEAR_CART","SET_BLESS_FOR","blessFor","SET_SELECTED_BOOK","selectedBook","SET_PAYMENT","payment","CLEAR_ALL","configureStore","createStore","applyMiddleware","thunk","index","module","exports","keyMirror","SET_TOKEN","init","dispatch","getState","login_info","window","sessionStorage","getItem","LOCAL_STORAGE","LOGIN_INFO","JSON","parse","err","location","hostname","donate_info","DONATE_INFO","book_info","BOOK_INFO","verses_info","VERSES_INFO","cart_info","CART_INFO","setMobileView","isMobile","login","Promise","resolve","reject","setItem","stringify","updateDonate","resetAppData","removeItem","logout","updateModal","update","resetModal","console","log","updateFooter","setSelectedVerses","addToCart","all","concat","_toConsumableArray","removeFromCart","id","findIndex","v","_id","splice","clearCart","setBlessFor","setSelectedBook","setPayment","clearAll","TOKEN","USERNAME","getLoginForm","cloneDeep","user","value","title","settings","password","getDonateForm","name","required","lastName","phone","pattern","address","rows","email","BooksCategoriesKeys","BooksCategoriesValues","_BooksCategoriesValue","_defineProperty","synagogues","tombsOfTheRighteous","hospitals","IDF","other","BooksCategoriesSingularValues","_BooksCategoriesSingu","getBookForm","form","description","writer_notes","tel","weight","category","options","key","getFreeSearchForm","search","placeholder","getEnterYourNameForm","freeSearchFormWithButtons","tmp","radioValue","multiple","selected","getAmountForm","min","getByDateForm","date","uploadImage","image_url","SearchTypes","freeSearch","firstAndLastLetter","aliya","gematria","verseYourName","byDate","amount","random","getSearchTypes","BooksMap","1","2","3","4","5","InitialState","btnStyles","marginTop","marginBottom","NextButton","_ref","disabled","text","clicked","_ref$variant","variant","_ref$block","block","_ref$styles","styles","React","createElement","Button","style","onClick","Step0","nextStep","actions","className","src","HeaderIcon","alt","Step1New","Object","keys","map","i","Step1","MyForm","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","FIELDS","fields","FIELDS_MIRROR","forEach","formErrors","validation","_createClass","_this2","this","triggerSubmitOnCreate","setTimeout","validateForm","updateOnChanges","fieldName","fieldValidationErrors","valid","match","setState","_this$props$reff","formInvalid","reff","current","refs","formRef","checkValidity","_this3","field","_this3$FIELDS$key","_this3$FIELDS$key$set","Form","Group","ref","controlId","Label","Control","assign","as","onChange","event","handleUserSelect","item","_this3$FIELDS$key2","_this3$FIELDS$key2$se","toggleDate","handleDateInput","_this3$FIELDS$key3","_this3$FIELDS$key3$se","defaultValue","handleUserInput","_this3$FIELDS$key4","_this3$FIELDS$key4$se","Check","label","handleCheckboxInput","_this3$FIELDS$key6","_this3$FIELDS$key6$se","_this3$FIELDS$key5","radio","idx","handleRadioInput","inline","checked","preview","width","height","File","handleFileInput","bind","custom","_this3$FIELDS$key7","_this3$FIELDS$key7$se","subTitle","Text","onBlur","push","e","_this4","target","validateField","_this5","_this6","input","reader","FileReader","onload","document","getElementById","result","readAsDataURL","_this7","files","readURL","_this8","selectedIndex","parent","children","everyChangeUpdate","callback","$","trigger","_this9","attr","moment","format","preventDefault","formOptions","onSubmit","handleSubmit","getFormFields","loading","Spinner","animation","submitText","Component","connect","creators","app_actions","bindActionCreators","Step2","_useState","useState","_useState2","_slicedToArray","formData","setFormData","donateForm","inputEl1","useRef","k","contribution","toSave","reportValidity","Progressbar","_ref$isWithText","isWithText","CircularProgressbar","strokeWidth","buildStyles","rotation","strokeLinecap","textSize","pathTransitionDuration","textColor","trailColor","backgroundColor","Step3","jumpToNextStep","searchType","book","versesAmount","totalVerses","toLocaleString","val","gematriya","isASCII","isBrowser","str","test","countWeight","count","charAt","gematriyaNumbers","num","geresh","punctuate","hebMap","SPACE","booksMap","booksMapHeb","_regeneratorRuntime","Op","prototype","hasOwn","hasOwnProperty","defineProperty","obj","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","record","__await","then","unwrapped","error","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","return","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","constructor","mark","setPrototypeOf","__proto__","awrap","async","iter","object","reverse","pop","skipTempReset","prev","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","store","DOMAIN","loadFingerPrint","_loadFingerPrint","apply","_asyncToGenerator","_callee2","_context2","FingerprintJS","load","fp","get","visitorId","headers","responseMiddleware","response","logoutMiddleware","status","catchMiddleware","REST","fakeLogin","axios","post","getAllBooks","json","getBooksByCategory","getManagementBooks","addBook","updateBook","bookId","put","deleteBook","delete","restoreBook","removeBookPermanently","source","params","findInOtherBooks","updateBuyingVerses","checkAvailability","_checkAvailability","_callee","versesIds","ranges","vId","_context","t0","_x","_x2","_x3","_x4","downloadXlsx","responseType","getParashaByDate","endOf","cors","getSelectedVersesPriceAndAmount","verses","filter","range","code","checkIFPaymentIsDone","checkout","TakenBy","bless","Fragment","join","VerseLocation","chapter","verse","MyModal","show","componentWillHandleProps","nextProps","nextContext","isFirstTime","handleShow","handleClose","onClose","Modal","size","aria-labelledby","centered","Boolean","onHide","Header","closeButton","Title","Body","body","hideFooter","Footer","buttons","btn","class","Book","isManagement","image","href","borderRadius","gray","color","fontSize","OtherBooksModal","textWithout","originalVerse","setLoading","_useState3","_useState4","results","setResults","_useState5","_useState6","setShow","_useState7","_useState8","_useState9","_useState10","samePlace","setSamePlace","useEffect","rest","verseInSamePlace","d","stopPropagation","nativeEvent","stopImmediatePropagation","chooseSpecificPlace","res","Date","now","toString","updateSelected","bookInfo","Loader","margin","LoadMore","VerseDisplay","showLength","onSearchInOtherBooks","_ref$isCartDisplay","isCartDisplay","taken","availableBooks","FirstAndLastLetter","skip","setSkip","setVerses","searchLoading","setSearchLoading","setSearch","_useState11","_useState12","chosenVerses","setChosenVerses","_useState13","_useState14","replaceVerse","setReplaceVerse","_useState15","_useState16","setError","_useState17","_useState18","hasMoreAnswers","setHasMoreAnswers","freeSearchForm","timeoutRef","fetchVerses","trim","hasMore","searchInOtherBooks","clearTimeout","prevVerses","selectedVerse","original","FreeSearch","VerseYourName","Gematria","gematri","setGematri","_useState19","_useState20","_useState21","_useState22","setRadioValue","freeSearchFormWithButtonsForm","_step","_iterator","_createForOfIteratorHelper","split","s","n","f","gematriyaLetters","valIndex","getVersesView","querySelectorAll","currentTarget","find","AmountSearch","amountForm","Number","String","RandomSearch","reachedToBottom","VersesRange","withBook","transformed","ByDate","parasha","setParasha","byDateForm","items","leyning","vi","includes","bookName","transformAliya","start","end","pos","posA","posB","date13","HDate","add","greg","Tora","Aliya","selectedAliyaBook","setSelectedAliyaBook","setAliya","onBookSelected","b","bi","aliyot","onParashaSelected","Step4","setSearchType","versesSelected","setVersesSelected","setAmount","URLSearchParams","getTotalAmount","canContinue","can","price","getSelectedSearchType","Step5","toUpdate","setToUpdate","getBlessElem","_val$bless$find","_val$bless","t","ShoppingCartIcon","FontAwesomeIcon","confirm","icon","ICONS","_v$bless2","selectedIds","alert","history","back","_v$bless","success","BookSelect","_ref$selectBtnLabel","selectBtnLabel","onSelectBook","categoryName","Step6","_URLSearchParams$get","books","setBooks","Array","fill","finally","handleBookSelect","PostNedarim","Data","contentWindow","postMessage","ReadPostMessage","Name","parseInt","Value","display","Status","innerHTML","Message","onerror","msg","url","line","col","domain","Step7","uniqueId","uuidv4","getAmount","addEventListener","attachEvent","checkPaymentStatus","gtag","payed","message","frameBorder","process","Step8","Home","currStep","step","_data$category","pathname","renderSteps","Login","toS","replace","submit","forgetPass","hidePolicy","Management","showBookModal","showBookModalLoading","getBooks","bookForm","bookFormCallback","toggleBookModal","showUploadImageModal","uploadImageModalLoading","toSend","FormData","append","toggleUploadImageModal","_this10","URL","createObjectURL","Blob","link","setAttribute","appendChild","click","_this11","ButtonGroup","deleted","updateBookAction","uploadImageAction","ActionButton","tooltip","addBookAction","rotate","Register","Cart","updatePrice","subscribe","PrivateRoute","component","_objectWithoutProperties","_excluded","Route","render","computedMatch","Redirect","to","pushState","replaceState","dispatchEvent","Event","App","_React$Component","showModal","collapsed","onDimensionsChanged","innerWidth","innerHeight","addClass","removeClass","closeNavbar","eventKey","browserRef","toggleNavbar","go","_openCart","Navbar","sticky","bg","expand","expanded","Brand","Toggle","aria-controls","onClickTopBar","Collapse","Nav","defaultActiveKey","onSelect","handleSelect","openCart","Badge","BrowserRouter","Switch","exact","path","NotFound","fixed","ReactDOM","Provider","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3334e31c.chunk.js","sourcesContent":["const {APP} = require(\"../actions_type\").default;\nconst initialState = require('./initial').default;\n\nexport default function appReducer(state = initialState, action) {\n    let newState = {...state}\n    switch (action.type) {\n        case APP.SET_LOGIN: {\n            newState.token = action.data.token;\n            break;\n        }\n\n        case APP.UPDATE_DONATE: {\n            newState.donate = action.data;\n            break;\n        }\n\n        case APP.LOGOUT: {\n            newState.token = '';\n            break;\n        }\n\n        case APP.SET_MOBILE_VIEW: {\n            newState.mobileView = action.data.mobileView;\n            break;\n        }\n\n        case APP.UPDATE_MODAL: {\n            newState.modal = action.data;\n            break;\n        }\n\n        case APP.RESET_MODAL: {\n            newState.modal = null;\n            break;\n        }\n\n        case APP.UPDATE_FOOTER: {\n            newState.footer = action.data;\n            break;\n        }\n\n        case APP.SET_SELECTED_VERSES: {\n            newState.selectedVerses = action.data;\n            break;\n        }\n\n        case APP.ADD_TO_CART: {\n            newState.cart = action.data;\n            break;\n        }\n        case APP.CLEAR_CART: {\n            newState.cart = [];\n            break;\n        }\n\n        case APP.SET_BLESS_FOR: {\n            newState.blessFor = action.data;\n            break;\n        }\n        case APP.SET_SELECTED_BOOK: {\n            newState.selectedBook = action.data;\n            break;\n        }\n\n        case APP.SET_PAYMENT: {\n            newState.payment = action.data;\n            break;\n        }\n\n        case APP.CLEAR_ALL: {\n            newState = {...initialState};\n            break;\n        }\n\n        default:\n            return newState;\n    }\n\n    return newState\n}\n","import { combineReducers } from 'redux';\nimport app from './app/reducer';\n\nconst rootReducer = combineReducers({\n    app,\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './init';\n\nexport function configureStore() {\n    return createStore(rootReducer,applyMiddleware(thunk));\n}\n\nconst index = configureStore();\nexport default index;\n","module.exports = __webpack_public_path__ + \"static/media/header-icon.69e6d744.svg\";","import keyMirror from 'key-mirror';\n\nexport default {\n  APP : keyMirror({\n    SET_MOBILE_VIEW: null,\n    SET_LOGIN:null,\n    SET_TOKEN:null,\n    LOGOUT:null,\n    UPDATE_MODAL:null,\n    RESET_MODAL:null,\n    UPDATE_FOOTER:null,\n    UPDATE_DONATE:null,\n    SET_SELECTED_VERSES:null,\n    SET_BLESS_FOR:null,\n    SET_SELECTED_BOOK:null,\n    SET_PAYMENT:null,\n    CLEAR_ALL:null,\n    ADD_TO_CART:null,\n    CLEAR_CART:null,\n  }),\n}\n","module.exports = __webpack_public_path__ + \"static/media/shopping-cart.12acc399.svg\";","import {LOCAL_STORAGE} from '../../config';\n\nconst {APP} = require(\"../actions_type\").default;\n\nexport function init() {\n    return (dispatch, getState) => {\n        let login_info = window.sessionStorage.getItem(LOCAL_STORAGE.LOGIN_INFO);\n        if (login_info) {\n            try {\n                login_info = JSON.parse(login_info);\n                dispatch({\n                    type: APP.SET_LOGIN,\n                    data: login_info\n                })\n            } catch (err) {\n            }\n        } else {\n            if (window.location.hostname === 'localhost') {\n                // dispatch({\n                //   type: APP.SET_LOGIN,\n                //   data: login_info || {token: \"123\", username: 'avi'}\n                // })\n            }\n        }\n        let donate_info = window.sessionStorage.getItem(LOCAL_STORAGE.DONATE_INFO);\n        if (donate_info) {\n            try {\n                donate_info = JSON.parse(donate_info);\n                dispatch({\n                    type: APP.UPDATE_DONATE,\n                    data: donate_info\n                })\n            } catch (err) {\n            }\n        }\n        let book_info = window.sessionStorage.getItem(LOCAL_STORAGE.BOOK_INFO);\n        if (book_info) {\n            try {\n                book_info = JSON.parse(book_info);\n                dispatch({\n                    type: APP.SET_SELECTED_BOOK,\n                    data: book_info\n                })\n            } catch (err) {\n            }\n        }\n        let verses_info = window.sessionStorage.getItem(LOCAL_STORAGE.VERSES_INFO);\n        if (verses_info) {\n            try {\n                verses_info = JSON.parse(verses_info);\n                dispatch({\n                    type: APP.SET_SELECTED_VERSES,\n                    data: verses_info\n                })\n            } catch (err) {\n            }\n        }\n        let cart_info = window.sessionStorage.getItem(LOCAL_STORAGE.CART_INFO);\n        if (cart_info) {\n            try {\n                cart_info = JSON.parse(cart_info);\n                dispatch({\n                    type: APP.ADD_TO_CART,\n                    data: cart_info\n                })\n            } catch (err) {\n            }\n        }\n    }\n}\n\nexport function setMobileView(isMobile) {\n    return (dispatch, getState) => {\n        dispatch({\n            type: APP.SET_MOBILE_VIEW,\n            data: {mobileView: isMobile}\n        })\n    }\n}\n\nexport function login(data) {\n    return (dispatch, getState) => {\n        return new Promise((resolve, reject) => {\n            window.sessionStorage.setItem(LOCAL_STORAGE.LOGIN_INFO, JSON.stringify(data));\n            dispatch({\n                type: APP.SET_LOGIN,\n                data: data\n            })\n            resolve();\n        })\n    }\n}\n\nexport function updateDonate(data) {\n    return (dispatch, getState) => {\n        window.sessionStorage.setItem(LOCAL_STORAGE.DONATE_INFO, JSON.stringify(data));\n        dispatch({\n            type: APP.UPDATE_DONATE,\n            data: data\n        })\n    }\n}\n\nexport function resetAppData() {\n    return (dispatch, getState) => {\n        window.sessionStorage.removeItem(LOCAL_STORAGE.DONATE_INFO);\n        window.sessionStorage.removeItem(LOCAL_STORAGE.BOOK_INFO);\n        window.sessionStorage.removeItem(LOCAL_STORAGE.VERSES_INFO);\n        window.sessionStorage.removeItem(LOCAL_STORAGE.CART_INFO);\n        dispatch({\n            type: APP.CLEAR_ALL,\n            data: {},\n        });\n    }\n}\n\nexport function logout() {\n    return (dispatch, getState) => {\n        window.sessionStorage.removeItem(LOCAL_STORAGE.LOGIN_INFO);\n        dispatch({\n            type: APP.LOGOUT,\n            data: null\n        })\n    }\n}\n\n\nexport function updateModal(data) {\n    return (dispatch, getState) => {\n        if (data.update) {\n            const modal = getState().app.modal;\n            data = {...modal, ...data};\n        }\n        dispatch({\n            type: APP.UPDATE_MODAL,\n            data: data\n        })\n    }\n}\n\n\nexport function resetModal() {\n    return (dispatch, getState) => {\n        console.log('reset modal');\n        dispatch({\n            type: APP.RESET_MODAL,\n            data: null\n        })\n    }\n}\n\n\nexport function updateFooter(data) {\n  return (dispatch, getState) => {\n    dispatch({\n      type: APP.UPDATE_FOOTER,\n      data: data\n    })\n  }\n}\n\n\nexport function setSelectedVerses(data) {\n    return (dispatch, getState) => {\n        window.sessionStorage.setItem(LOCAL_STORAGE.VERSES_INFO, JSON.stringify(data));\n        dispatch({\n            type: APP.SET_SELECTED_VERSES,\n            data: data\n        })\n    }\n}\n\nexport function addToCart(data) {\n    return (dispatch, getState) => {\n        const cart = getState().app.cart;\n        const all = [...cart, ...data];\n        window.sessionStorage.setItem(LOCAL_STORAGE.CART_INFO, JSON.stringify(all));\n        dispatch({\n            type: APP.ADD_TO_CART,\n            data: all\n        })\n    }\n}\n\nexport function removeFromCart(id) {\n    return (dispatch, getState) => {\n        const cart = getState().app.cart;\n        const index = cart.findIndex(v => v._id === id);\n        if (index !== -1) {\n            cart.splice(index, 1);\n        }\n        const all = [...cart];\n        window.sessionStorage.setItem(LOCAL_STORAGE.CART_INFO, JSON.stringify(all));\n        dispatch({\n            type: APP.ADD_TO_CART,\n            data: all\n        })\n    }\n}\n\nexport function clearCart() {\n    return (dispatch, getState) => {\n        window.sessionStorage.removeItem(LOCAL_STORAGE.CART_INFO);\n        dispatch({\n            type: APP.CLEAR_CART,\n            data: []\n        })\n    }\n}\n\n\nexport function setBlessFor(data) {\n    return (dispatch, getState) => {\n        dispatch({\n            type: APP.SET_BLESS_FOR,\n            data: data\n        })\n    }\n}\n\nexport function setSelectedBook(data) {\n    return (dispatch, getState) => {\n        window.sessionStorage.setItem(LOCAL_STORAGE.BOOK_INFO, JSON.stringify(data));\n        dispatch({\n            type: APP.SET_SELECTED_BOOK,\n            data: data\n        })\n    }\n}\n\nexport function setPayment(data) {\n    return (dispatch, getState) => {\n        dispatch({\n            type: APP.SET_PAYMENT,\n            data: data\n        })\n    }\n}\n\nexport function clearAll(data) {\n    return (dispatch, getState) => {\n        dispatch({\n            type: APP.CLEAR_ALL,\n            data: data\n        })\n    }\n}\n","import cloneDeep from 'lodash/cloneDeep';\nimport keyMirror from 'key-mirror';\nimport moment from 'moment';\nimport * as ICONS from '@fortawesome/free-solid-svg-icons';\n\nexport const LOCAL_STORAGE = keyMirror({\n    VERSES_INFO: null,\n    BOOK_INFO: null,\n    DONATE_INFO: null,\n    LOGIN_INFO: null,\n    TOKEN: null,\n    USERNAME: null,\n    CART_INFO: null,\n})\n\nexport const getLoginForm = () => {\n    let form = {\n        user: {\n            value: '',\n            title: 'שם משתמש',\n            settings: {},\n            type: 'text',\n        },\n        password: {\n            value: '',\n            title: 'סיסמא',\n            type: 'password',\n        },\n    }\n    return cloneDeep(form);\n};\n\nexport const getDonateForm = () => {\n    let form = {\n        name: {\n            value: '',\n            title: 'שם פרטי',\n            type: 'text',\n            settings: {required: true},\n        },\n        lastName: {\n            value: '',\n            title: 'שם משפחה',\n            type: 'text',\n            settings: {},\n        },\n        phone: {\n            value: '',\n            title: 'טלפון',\n            settings: {pattern: '[0-9]*', required: true},\n            type: 'tel',\n        },\n        address: {\n            value: '',\n            settings: {rows: 3},\n            title: 'כתובת',\n            type: 'textarea',\n        },\n        email: {\n            value: '',\n            title: 'אימייל',\n            type: 'email',\n            settings: {},\n        }\n    }\n    return cloneDeep(form);\n};\n\nexport const getContributionForm = () => {\n    let form = {\n        contributionName: {\n            value: '',\n            title: 'שם פרטי',\n            type: 'text',\n            settings: {required: true},\n        },\n        contributionLastName: {\n            value: '',\n            title: 'שם משפחה',\n            type: 'text',\n            settings: {},\n        },\n        contributionMessage: {\n            value: '',\n            settings: {rows: 3},\n            title: 'כתובת',\n            type: 'textarea',\n        },\n        contributionEmail: {\n            value: '',\n            title: 'אימייל',\n            type: 'email',\n            settings: {},\n        },\n    }\n    return cloneDeep(form);\n};\n\nexport const BooksCategoriesKeys = {\n    'synagogues': 'synagogues',\n    'tombsOfTheRighteous': 'tombsOfTheRighteous',\n    'hospitals': 'hospitals',\n    'IDF': 'IDF',\n    'other': 'other',\n}\n\nexport const BooksCategoriesValues = {\n    [BooksCategoriesKeys.synagogues]: 'בתי כנסת',\n    [BooksCategoriesKeys.tombsOfTheRighteous]: 'קברות צדיקים',\n    [BooksCategoriesKeys.hospitals]: 'בתי חולים',\n    [BooksCategoriesKeys.IDF]: 'בסיסי צה״ל',\n    [BooksCategoriesKeys.other]: 'שונות',\n}\n\nexport const BooksCategoriesSingularValues = {\n    [BooksCategoriesKeys.synagogues]: 'בית כנסת',\n    [BooksCategoriesKeys.tombsOfTheRighteous]: 'קבר צדיק',\n    [BooksCategoriesKeys.hospitals]: 'בית חולים',\n    [BooksCategoriesKeys.IDF]: 'בסיס צה״ל',\n    [BooksCategoriesKeys.other]: 'שונות',\n}\n\nexport const getBookForm = () => {\n    let form = {\n        address: {\n            value: '',\n            title: 'כתובת',\n            type: 'textarea',\n            settings: {required: true},\n        },\n        description: {\n            value: '',\n            title: 'תיאור כללי של המקום',\n            type: 'textarea',\n            settings: {required: true},\n        },\n        writer_notes: {\n            value: '',\n            settings: {rows: 3},\n            title: 'הקדשה של מפרסם הספר',\n            type: 'textarea',\n        },\n        tel: {\n            value: '',\n            title: 'טלפון',\n            settings: {pattern: '[0-9]*'},\n            type: 'tel',\n        },\n        weight: {\n            value: '',\n            title: 'משקל',\n            type: 'tel',\n            settings: {pattern: '[0-9]*'},\n        },\n        category: {\n            value: '',\n            title: ' קטגוריה',\n            type: 'select',\n            settings: {},\n            options: [\n                {key: '', value: 'בחר קטגוריה'},\n                {key: BooksCategoriesKeys.synagogues, value: BooksCategoriesValues[BooksCategoriesKeys.synagogues]},\n                {key: BooksCategoriesKeys.tombsOfTheRighteous, value: BooksCategoriesValues[BooksCategoriesKeys.tombsOfTheRighteous]},\n                {key: BooksCategoriesKeys.hospitals, value: BooksCategoriesValues[BooksCategoriesKeys.hospitals]},\n                {key: BooksCategoriesKeys.IDF, value: BooksCategoriesValues[BooksCategoriesKeys.IDF]},\n                {key: BooksCategoriesKeys.other, value: BooksCategoriesValues[BooksCategoriesKeys.other]},\n            ]\n        },\n    }\n    return cloneDeep(form);\n};\nexport const getFreeSearchForm = () => {\n    let form = {\n        search: {\n            value: '',\n            title: 'חיפוש חופשי',\n            placeholder: 'חיפוש חופשי',\n            type: 'search',\n            settings: {required: true}\n        },\n    }\n    return cloneDeep(form);\n};\nexport const getEnterYourNameForm = () => {\n    let form = {\n        search: {\n            value: '',\n            title: 'שם:',\n            placeholder: 'הזינו את שמכם..',\n            type: 'search',\n            settings: {required: true}\n        },\n    }\n    return cloneDeep(form);\n};\nexport const freeSearchFormWithButtons = () => {\n    const tmp = getEnterYourNameForm();\n    let form = {\n        ...tmp,\n        // todo: adding complex buttons here\n        radioValue: {\n            type: 'radio',\n            value: '',\n            title: '',\n            settings: {multiple: false},\n            selected: '3',\n            options: [\n                { value: 'צירוף 1', key: '1' },\n                { value: '2 צירופים', key: '2' },\n                { value: '3 צירופים', key: '3' },\n                { value: '4 צירופים', key: '4' },\n                { value: '5 צירופים', key: '5' },\n            ]\n        }\n    }\n    return cloneDeep(form);\n};\nexport const getAmountForm = () => {\n    let form = {\n        search: {\n            value: '100',\n            title: 'חפש לפי סכום',\n            placeholder: 'חפש לפי סכום',\n            type: 'number',\n            settings: {min: 0, required: true}\n        },\n        radioValue: {\n            type: 'radio',\n            value: '',\n            title: '',\n            settings: {multiple: false},\n            selected: '1',\n            options: [\n                { value: 'צירוף 1', key: '1' },\n                { value: '2 צירופים', key: '2' },\n                { value: '3 צירופים', key: '3' },\n                { value: '4 צירופים', key: '4' },\n                { value: '5 צירופים', key: '5' },\n            ]\n        }\n    }\n    return cloneDeep(form);\n};\nexport const getByDateForm = () => {\n    let form = {\n        date: {\n            title: 'חפש לפי תאריך לידה',\n            placeholder: 'תאריך לידה',\n            type: 'date',\n            settings: {'data-date-format': \"DD/MM/YYYY\", required: true}\n        },\n    }\n    return cloneDeep(form);\n};\n\nexport const uploadImage = () => {\n    let form = {\n        image_url: {\n            value: '',\n            title: 'העלאת תמונה',\n            type: 'file',\n            settings: {},\n        },\n    }\n    return cloneDeep(form);\n};\n\nexport const SearchTypes = {\n    freeSearch: 'freeSearch',\n    firstAndLastLetter: 'firstAndLastLetter',\n    aliya: 'aliya',\n    gematria: 'gematria',\n    verseYourName: 'verseYourName',\n    byDate: 'byDate',\n    amount: 'amount',\n    random: 'random',\n};\n\nexport const getSearchTypes = () => cloneDeep([\n    {id: SearchTypes.firstAndLastLetter, name: 'לפי אות ראשונה ואות אחרונה של שמך בפסוק'},\n    {id: SearchTypes.byDate, name: 'פרשת עליה לתורה (חיפוש לפי תאריך)'},\n    {id: SearchTypes.gematria, name: 'פסוק בגימטריה של שמך'},\n    {id: SearchTypes.verseYourName, name: 'פסוק עם שמך'},\n    {id: SearchTypes.amount, name: 'מציאת פסוק ע״פ סכום'},\n    {id: SearchTypes.random, name: 'רנדומלי'},\n    // {id: SearchTypes.freeSearch, name: 'חיפוש חופשי'},\n    // {id: SearchTypes.aliya, name: 'עליה'},\n]);\n\nexport const BooksMap = {\n    1: 'בראשית',\n    2: 'שמות',\n    3: 'ויקרא',\n    4: 'במדבר',\n    5: 'דברים',\n}\n","const InitialState = {\n    token: '',\n    mobileView: false,\n    modal: null,\n    // toSave\n    donate: {\n        name: '',\n    },\n    selectedVerses: [],\n    blessFor: [],\n    selectedBook: {\n        _id: '',\n    },\n    payment: null,\n    cart: [],\n};\n\nexport default InitialState;\n","import React, {Component, useState} from \"react\";\nimport {Button} from 'react-bootstrap';\n\nconst btnStyles = {\n        marginTop: '20px',\n        marginBottom: '20px',\n};\n\nconst NextButton = ({disabled, text, clicked, variant='light', block=false, styles={...btnStyles}}) => {\n    return (\n            <Button disabled={disabled} style={styles} onClick={clicked} variant={variant} block={block}>\n                {text}\n            </Button>\n    );\n}\n\n\nexport default NextButton;\n","import React, {Component, useEffect} from \"react\";\nimport HeaderIcon from \"../assets/header-icon.svg\"\nimport NextButton from \"../components/NextButton\";\n\nexport const Step0 = ({nextStep, actions}) => {\n    return (\n        <div className='step0 d-flex flex-column flex-100 padd10 justify-content-center align-content-center align-items-center  text-center height-inherit bg-primary text-white'>\n\n            <img src={HeaderIcon} alt=\"Header Icon\" />\n            <h2 className=\"paddBottom10px\">\n            מעלות כתיבת אות בספר תורה     \n            </h2>\n            <p className=\"paddBottom10px\">\n                ב\"י בדעת הטור: גם בזמן הזה יש מצווה דאורייתא בכתיבת ספר תורה... (יו\"ד ער ד\"ה וכתב)\n            </p>\n            <p className=\"paddBottom10px\">\n                ...לעת עתה מצוה הבאה לידך אל תחמיצנה ועדיף להזדרז במצוה זו להשתתף עם אחרים לרכוש הס\"ת המהודר,\n                ולא להמתין עד שיהיה בידו את כל הסכום הדרוש עבור ס\"ת מהודר שיוכל לקנותו לבדו כי לא ידע אדם מה ילד\n                יום...\n            </p>\n            <p className=\"paddBottom10px\">\n                ( שו\"ת עטרת פז חלק א כרך ב - יורה דעה סימן יב)\n            </p>\n\n            <div className=\"width100\">\n                <NextButton clicked={nextStep} text={'לחץ למצווה'}/>\n            </div>\n        </div>\n    )\n};\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { BooksCategoriesValues } from \"../config\";\n\nexport const Step1New = ({ nextStep }) => {\n\n  return (\n    <div className=\"step1-new text-center sidePadd20px\">\n      <p className=\"paddBottom10px\">הסבר קצר על האתר / אפליציה</p>\n      <p className=\"paddBottom10px\">\n        לורם איפסום דולור סיט אמט, קונסקטורר אדיפיסינג אלית נולום ארווס סאפיאן -\n        פוסיליס קוויס, אקווזמן קולורס מונפרד אדנדום סילקוף, מרגשי ומרגשח. עמחליף\n        קולורס מונפרד אדנדום סילקוף, מרגשי ומרגשח. עמחליף ליבם סולגק. בראיט ולחת\n        צורק מונחף, בגורמי מגמש. תרבנך וסתעד לכנו סתשם השמה - לתכי מורגם בורק?\n      </p>\n      {Object.keys(BooksCategoriesValues).map((key, i) => {\n        return (\n          <Button\n            key={key}\n            variant=\"secondary\"\n            className=\"btn-block\"\n            onClick={() => nextStep({category: key})}\n          >\n            {BooksCategoriesValues[key]}\n          </Button>\n        );\n      })}\n    </div>\n  );\n};\n","import React, {Component} from \"react\";\nimport NextButton from \"../components/NextButton\";\n\nexport const Step1 = ({nextStep}) => {\n    return (\n        <div className='step1 d-flex flex-column flex-100 padd10 justify-content-center align-content-center align-items-center  text-center height-inherit bg-primary text-white'>\n            <h2 className=\"paddBottom10px\">\n                אשרייך שזכית!\n            </h2>\n            <p className=\"paddBottom10px\">\n                בקיום המצווה האחרונה מבין תרי”ג מצוות התורה כמו שנאמר\n                <br/>\n                “ועתה כתבו לכם את השירה הזאת”\n                <br/>\n                (דברים ל”א, י”ט)\n            </p>\n            <p className=\"paddBottom10px list-title\">\n            חשוב לקרוא לפני:\n            </p>\n            <ol className=\"paddBottom10px\">\n                <li>\n                    כל אות עולה שקל אחד אומנם צריך לרכוש פסוק\n                </li>\n                <li>\n                    הפסוק יהיה שלך בלבד ותוכל לרכוש כמה פסוקים שתרצה\n                </li>\n                <li>\n                    יש כמה אופציות לרכישת פסוקים וכל פסוק אפשר לייחד אותו להצלחה, פרנסה, לעילוי נשמת, לרפואה שלימה,\n                    לזיווג הגון ולכל הישועות\n                </li>\n                <li>\n                    תוכל להכניס את הפסוק לאיזה ספר תורה שתרצה בהתאם לאפשרויות שינתנו לך\n                </li>\n            </ol>\n            <p className=\"paddBottom10px\">\n                בלחיצה המשך אני מתנה בזה שאני שותפ/ה עם כל המשתתפים/ות בספר תורה זו.\n            </p>\n            <div className=\"width100\">\n                <NextButton clicked={nextStep} text={'לחץ למצווה'}/>\n            </div>\n        </div>\n    )\n};\n","import React, { Component } from \"react\";\nimport \"../css/Form.css\";\nimport { FormErrors } from \"./FormErrors\";\nimport { Form, Button, Spinner } from \"react-bootstrap\";\nimport cloneDeep from \"lodash/cloneDeep\";\nimport * as app_actions from \"../store/app/actions\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport moment from \"moment\";\nimport $ from \"jquery\";\nimport ToggleButton from \"react-bootstrap/ToggleButton\";\n\nconst actions = [app_actions];\n\nclass MyForm extends Component {\n  constructor(props) {\n    super(props);\n    this.FIELDS = this.props.fields;\n    this.FIELDS_MIRROR = {};\n    Object.keys(this.FIELDS).forEach((v) => {\n      this.FIELDS_MIRROR[v] = v;\n    });\n    this.state = {\n      fields: cloneDeep(this.FIELDS),\n      formErrors: {},\n      validation: {},\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.triggerSubmitOnCreate) {\n      setTimeout(() => {\n        this.validateForm();\n        this.updateOnChanges();\n      }, 1000 * 3);\n    }\n  }\n\n  validateField(fieldName, value) {\n    let fieldValidationErrors = this.state.formErrors;\n    let validation = this.state.validation;\n    let KEYS = this.FIELDS_MIRROR;\n    switch (fieldName) {\n      case KEYS.email:\n        let valid = value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\n        fieldValidationErrors[fieldName] = valid ? \"\" : \"אימייל לא תקין\";\n        validation[fieldName] = !!valid;\n        break;\n      default: {\n        let valid = value;\n        validation[fieldName] = !!valid;\n        break;\n      }\n    }\n    this.setState(\n      {\n        formErrors: fieldValidationErrors,\n        validation: validation,\n      },\n      this.validateForm\n    );\n  }\n\n  validateForm() {\n    this.setState({\n      formInvalid: !(\n        this.props.reff?.current || this.refs.formRef\n      )?.checkValidity(),\n    });\n  }\n\n  getFormFields() {\n    let fields = [];\n    Object.keys(this.FIELDS).forEach((key) => {\n      let field = \"\";\n      const selected = this.FIELDS[key].value || null;\n      switch (this.FIELDS[key].type) {\n        case \"select\": {\n          field = (\n            <Form.Group\n              ref={`parent_${key}`}\n              key={key}\n              controlId={key}\n              className={\"form-group\"}\n            >\n              <Form.Label>\n                {this.FIELDS[key].title}{\" \"}\n                {this.FIELDS[key]?.settings?.required && \"*\"}\n              </Form.Label>\n              <Form.Control\n                ref={`${key}`}\n                as=\"select\"\n                onChange={(event) => this.handleUserSelect(event)}\n                {...(this.FIELDS[key].settings || {})}\n                name={key}\n              >\n                {this.FIELDS[key].options.map((item) => {\n                  return (\n                    <option selected={selected == item.key} key={item.key}>\n                      {item.value}\n                    </option>\n                  );\n                })}\n              </Form.Control>\n            </Form.Group>\n          );\n          break;\n        }\n        case \"date\": {\n          field = (\n            <Form.Group ref={`parent_${key}`} key={key} controlId={key}>\n              <Form.Label>\n                {this.FIELDS[key].title}{\" \"}\n                {this.FIELDS[key]?.settings?.required && \"*\"}\n              </Form.Label>\n              <Form.Control\n                ref={`${key}`}\n                type={this.FIELDS[key].type}\n                placeholder={this.FIELDS[key].placeholder || \"\"}\n                {...(this.FIELDS[key].settings || {})}\n                name={key}\n                onClick={(event) => this.toggleDate(event)}\n                onChange={(event) => this.handleDateInput(event)}\n              />\n            </Form.Group>\n          );\n          break;\n        }\n        case \"textarea\": {\n          field = (\n            <Form.Group ref={`parent_${key}`} key={key} controlId={key}>\n              <Form.Label>\n                {this.FIELDS[key].title}{\" \"}\n                {this.FIELDS[key]?.settings?.required && \"*\"}\n              </Form.Label>\n              <Form.Control\n                ref={`${key}`}\n                as={this.FIELDS[key].type}\n                placeholder={this.FIELDS[key].placeholder || \"\"}\n                {...(this.FIELDS[key].settings || {})}\n                defaultValue={selected}\n                name={key}\n                onChange={(event) => this.handleUserInput(event)}\n              />\n            </Form.Group>\n          );\n          break;\n        }\n        case \"checkbox\": {\n          field = (\n            <Form.Group ref={`parent_${key}`} key={key} controlId={key}>\n              <Form.Check\n                ref={`${key}`}\n                label={\n                  this.FIELDS[key].title +\n                  ((this.FIELDS[key]?.settings?.required && \"*\") || \"\")\n                }\n                type={this.FIELDS[key].type}\n                placeholder={this.FIELDS[key].placeholder || \"\"}\n                {...(this.FIELDS[key].settings || {})}\n                defaultValue={selected}\n                name={key}\n                onChange={(event) => this.handleCheckboxInput(event)}\n              />\n            </Form.Group>\n          );\n          break;\n        }\n        case \"radio\": {\n          if (!this.state.fields[key].value) {\n            this.state.fields[key].value = this.FIELDS[key]?.selected;\n          }\n          field = (\n            <Form.Group ref={`parent_${key}`} key={key} controlId={key}>\n              <Form.Label>\n                {this.FIELDS[key].title}{\" \"}\n                {this.FIELDS[key]?.settings?.required && \"*\"}\n              </Form.Label>\n              {this.FIELDS[key].options.map((radio, idx) => {\n                return (\n                  <Form.Check\n                    onChange={(event) => this.handleRadioInput(event)}\n                    inline\n                    key={idx}\n                    id={`radio-${key}-${idx}`}\n                    type=\"radio\"\n                    variant={\"outline-info\"}\n                    name={key}\n                    value={radio.key}\n                    checked={this.state.fields[key].value === radio.key}\n                    label={radio.value}\n                  />\n                );\n              })}\n            </Form.Group>\n          );\n          break;\n        }\n        case \"file\": {\n          field = (\n            <Form.Group ref={`parent_${key}`} key={key} controlId={key}>\n              <Form.Label>{this.FIELDS[key].title}</Form.Label>\n              {this.props.preview && this.FIELDS[key].value && (\n                <div>\n                  <img\n                    className=\"marginBottom30px\"\n                    width={150}\n                    height=\"auto\"\n                    id={key}\n                    src={this.FIELDS[key].value}\n                  />\n                </div>\n              )}\n              <Form.File\n                type=\"file\"\n                id={key}\n                label={this.FIELDS[key].title}\n                onChange={this.handleFileInput.bind(this)}\n                custom\n              />\n            </Form.Group>\n          );\n          break;\n        }\n        default: {\n          // className={this.state.validation[key]===false && 'invalidInputBorder'}\n          field = (\n            <Form.Group ref={`parent_${key}`} key={key} controlId={key}>\n              <Form.Label>\n                {this.FIELDS[key].title}&nbsp;\n                {this.FIELDS[key].subTitle && (\n                  <Form.Text>{this.FIELDS[key].subTitle}</Form.Text>\n                )}\n                {this.FIELDS[key]?.settings?.required && \"*\"}\n              </Form.Label>\n              <Form.Control\n                ref={`${key}`}\n                type={this.FIELDS[key].type}\n                placeholder={this.FIELDS[key].placeholder || \"\"}\n                {...(this.FIELDS[key].settings || {})}\n                defaultValue={selected}\n                name={key}\n                onBlur={(event) => this.handleUserInput(event)}\n                onChange={(event) => this.handleUserInput(event)}\n              />\n              <p className={\"invalidInput\"}>{this.state.formErrors[key]}</p>\n            </Form.Group>\n          );\n        }\n      }\n      fields.push(field);\n    });\n\n    return fields;\n  }\n\n  handleUserInput(e) {\n    const name = e.target.name;\n    const value = e.target.value;\n    let fields = this.state.fields;\n    fields[name].value = value;\n    this.setState({ fields }, () => {\n      this.validateField(name, value);\n    });\n    this.updateOnChanges();\n  }\n\n  handleCheckboxInput(e) {\n    const name = e.target.name;\n    const value = e.target.checked;\n    let fields = this.state.fields;\n    fields[name].value = value;\n    this.setState({ fields }, () => {\n      this.validateField(name, value);\n    });\n    this.updateOnChanges();\n  }\n\n  handleRadioInput(e) {\n    const name = e.target.name;\n    const value = e.target.value;\n    let fields = this.state.fields;\n    fields[name].value = value;\n    this.setState({ fields }, () => {\n      this.validateField(name, value);\n    });\n    this.updateOnChanges();\n  }\n\n  readURL(key, input) {\n    try {\n      if (input && input[0]) {\n        var reader = new FileReader();\n\n        reader.onload = function (e) {\n          document.getElementById(key).src = e.target.result;\n        };\n        reader.readAsDataURL(input[0]);\n      }\n    } catch (e) {}\n  }\n\n  handleFileInput(e) {\n    const name = e.target.id;\n    const value = e.target.files;\n    let fields = this.state.fields;\n    fields[name].value = value;\n    this.setState({ fields }, () => {\n      this.validateField(name, value);\n    });\n    this.readURL(e.target.id, value);\n    this.updateOnChanges();\n  }\n\n  handleUserSelect(e) {\n    const name = e.target.name;\n    const value = this.FIELDS[name].options[e.target.selectedIndex].key; //e.target.value;\n    let fields = this.state.fields;\n    fields[name].value = value;\n    this.setState({ fields }, () => {\n      this.validateField(name, value);\n    });\n    this.updateOnChanges();\n  }\n\n  childHandleUserInput(e, parent, index) {\n    const name = e.target.name;\n    const value = e.target.value;\n    let fields = this.state.fields;\n    fields[parent].children[index].value = value;\n    this.setState({ fields }, () => {});\n    this.updateOnChanges();\n  }\n\n  updateOnChanges() {\n    if (this.props.everyChangeUpdate) {\n      this.props.callback(\n        cloneDeep({\n          ...this.state.fields,\n          event: \"update\",\n          valid: !this.state.formInvalid,\n        }),\n        this.refs\n      );\n    }\n  }\n\n  toggleDate(e) {\n    const input = $(`input[name=${e.target.name}]`);\n    input.trigger(\"click\");\n  }\n\n  handleDateInput(e) {\n    const input = $(`input[name=${e.target.name}]`);\n    input.attr(\n      \"data-date\",\n      moment(e.target.value, \"YYYY-MM-DD\").format(\n        input.attr(\"data-date-format\")\n      )\n    );\n    const name = e.target.name;\n    const value = e.target.value;\n    if (!value) return;\n    let fields = this.state.fields;\n    fields[name].value = value;\n    this.setState({ fields }, () => {\n      this.validateField(name, value);\n    });\n    // console.table(fields);\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    console.log(\"form is valid: \", !this.state.formInvalid);\n    // console.table(this.state.formErrors);\n    // console.table(this.state.validation);\n    // console.table(this.state.fields);\n    if (!this.state.formInvalid && this.props.callback) {\n      this.props.callback(cloneDeep(this.state.fields), this.refs);\n    }\n  }\n\n  render() {\n    return (\n      <div className={`form layout layout-align-center-center`}>\n        <Form\n          ref={this.props.reff || \"formRef\"}\n          className={`flex-100`}\n          {...this.props.formOptions}\n          onSubmit={this.handleSubmit.bind(this)}\n        >\n          {this.getFormFields()}\n          <div className=\"display-flex width100 layout-align-center-center justify-content-center\">\n            {this.props.loading && (\n              <Spinner\n                className={\"marginTop10px marginBottom10px\"}\n                animation=\"border\"\n              />\n            )}\n            {!this.props.loading && this.props.submitText && (\n              <Button\n                className={\"marginTop10px marginBottom10px\"}\n                disabled={false}\n                variant=\"secondary\"\n                type=\"submit\"\n              >\n                {this.props.submitText}\n                <img className=\"mr-3\" src=\"/assets/search.svg\" width=\"30\" />\n              </Button>\n            )}\n          </div>\n        </Form>\n\n        <div className=\"layout layout-align-center-center\">\n          {false && <FormErrors formErrors={this.state.formErrors} />}\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    app: state.app,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  const creators = app_actions;\n\n  return {\n    actions: bindActionCreators(creators, dispatch),\n    dispatch,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MyForm);\n","import React, {Component, useEffect, useRef, useState} from \"react\";\nimport NextButton from \"../components/NextButton\";\nimport {getDonateForm} from \"../config\";\nimport Form from \"../components/Form\";\n\nexport const Step2 = ({nextStep, actions, app}) => {\n    const [formData, setFormData] = useState({});\n    const donateForm = getDonateForm();\n    const inputEl1 = useRef(null);\n    if (app.donate) {\n        Object.keys(donateForm).forEach(k => donateForm[k].value = app.donate[k]);\n    }\n\n    const submit = (data) => {\n        setFormData({...data, ...{contribution: (formData || {})}});\n        const toSave = {};\n        Object.keys(data).forEach(k => {\n            toSave[k] = data[k].value;\n        });\n        actions.updateDonate({...app.donate, ...toSave});\n    }\n\n    const nextStepButton = () => {\n        if (formData.valid) {\n            nextStep();\n        } else {\n            try {inputEl1.current.reportValidity();} catch(err) {}\n        }\n    }\n\n    return (\n      <div\n        className={`step2 flex-column flex-100 padd20 justify-content-center align-content-center text-center height-inherit`}\n      >\n        <h2>פרטים אישיים לפני שנמשיך... </h2>\n          <Form\n            fields={donateForm}\n            everyChangeUpdate={true}\n            submitText={\"\"}\n            callback={submit}\n            triggerSubmitOnCreate={true}\n            reff={inputEl1}\n          />\n        <div className=\"width100\">\n          <NextButton clicked={nextStepButton} text=\"שליחה\" variant=\"secondary\" block/>\n        </div>\n      </div>\n    );\n};\n","import React from \"react\";\nimport { CircularProgressbar, buildStyles } from \"react-circular-progressbar\";\nimport \"react-circular-progressbar/dist/styles.css\";\n\nexport const Progressbar = ({\n  value,\n  height,\n  width,\n  isWithText = false,\n  className,\n}) => {\n  return (\n    <div style={{ width, height }} className=\"d-flex\">\n      <CircularProgressbar\n        className={className}\n        value={value}\n        text={isWithText ? `${value}%` : \"\"}\n        strokeWidth={14}\n        styles={buildStyles({\n          // Rotation of path and trail, in number of turns (0-1)\n          rotation: 0.25,\n\n          // Whether to use rounded or flat corners on the ends - can use 'butt' or 'round'\n          strokeLinecap: \"butt\",\n\n          // Text size\n          textSize: \"18px\",\n\n          // How long animation takes to go from one percentage to another, in seconds\n          pathTransitionDuration: 0.5,\n\n          // Can specify path transition in more detail, or remove it entirely\n          // pathTransition: 'none',\n\n          // Colors\n          // pathColor: `rgba(62, 152, 199, ${value / 100})`,\n          textColor: \"#000A3D\",\n          trailColor: \"#E0E0E0\",\n          backgroundColor: \"#018AC5\",\n        })}\n      />\n    </div>\n  );\n};\n","import React, { Component } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { getSearchTypes } from \"../config\";\nimport { Hello } from \"../components/Hello\";\nimport { Progressbar } from \"../components/Progressbar\";\n\nexport const Step3 = ({ nextStep, app }) => {\n  const jumpToNextStep = (index) => {\n    nextStep({ searchType: index });\n  };\n  const book = app.selectedBook;\n\n  return (\n    <div className=\"step3 d-flex flex-column flex-100 align-content-center align-items-center text-center height-inherit\">\n      <div className=\"position-relative w-100\">\n        <img src={book.image_url} alt=\"תמונת הספר\" width=\"100%\" className=\"book-image\"/>\n        <h2 className=\"image-text\">\n          {book.description}\n          <br />\n          <span className=\"font14\"> {book.address}</span>\n        </h2>\n      </div>\n      <Progressbar\n        className=\"pt-3\"\n        width={72}\n        height={72}\n        value={(book.versesAmount / book.totalVerses) * 100}\n        isWithText\n      />\n      <h6 className=\"paddBottom10px fontWeight900\">\n        {book.versesAmount.toLocaleString(\"en-US\")} מתוך{\" \"}\n        {book.totalVerses.toLocaleString(\"en-US\")} <br /> פסוקים כבר נרכשו בספר\n        תורה זה\n      </h6>\n      <div className=\"w-100 sidePadd20px\">\n      <hr />\n      <h2>אשרייכם,</h2>\n      <h6>לפניכם מספר אפשרויות לבחירת פסוק עבורך:</h6>\n      <div className=\"pb-4\">\n        {getSearchTypes().map((val, index) => {\n          return (\n            // <div className=\"box\" key={`_${val.id}`}>\n            <Button\n              key={`_${val.id}`}\n              variant=\"secondary\"\n              className=\"btn-block\"\n              onClick={jumpToNextStep.bind(this, val.id)}\n              disabled={val.disabled}\n            >\n              {val.name}\n            </Button>\n            \n            // </div>\n          );\n        })}\n        </div>\n    </div>\n      </div>\n\n  );\n};\n","import React from \"react\";\nimport {isBrowser, isMobile} from \"react-device-detect\";\nconst gematriya = require('gematriya');\n\nexport const IsMobile = isMobile;\nexport const IsBrowser = isBrowser;\nexport const isMobileView = ()=>{\n    return window.innerWidth < 720;\n}\n\n\n\nconst isASCII = (str) => {\n    return /[\\u0590-\\u05FF]/.test(str);\n}\n\nexport const countWeight = (str) => {\n    let count = 0;\n    for (let i = 0; i<str.length; i++){\n        if (isASCII(str.charAt(i))) {\n            count += 1;\n        }\n    }\n    return count;\n}\n\n\nexport const gematriyaNumbers = (num) => {\n    return gematriya(num, {geresh: false, punctuate: false});\n}\n\nconst hebMap = {\n    \"ן\": \"נ\",\n    \"ם\": \"מ\",\n    \"ף\": \"פ\",\n    \"ץ\": \"צ\",\n    \"ך\": \"כ\",\n}\n\nexport const gematriyaLetters = (str = '') => {\n    let amount = 0;\n    for(const i of str.split('').filter(isASCII).join('')) {\n        amount += gematriya(hebMap[i] || i, {geresh: false, punctuate: false});\n    }\n    return amount;\n}\n\nexport const SPACE = <span>&nbsp;</span>;\n\nexport const booksMap = {\n    'Genesis': 1,\n    'Exodus': 2,\n    'Leviticus': 3,\n    'Numbers': 4,\n    'Deuteronomy': 5,\n}\nexport const booksMapHeb = {\n    1: 'בראשית',\n    2: 'שמות',\n    3: 'ויקרא',\n    4: 'במדבר',\n    5: 'דברים',\n}\n","import rp from 'request-promise';\nimport axios from 'axios';\nimport moment from \"moment\";\nimport FingerprintJS from \"@fingerprintjs/fingerprintjs\";\nconst actions = require('./store/app/actions');\nconst store = require('./store').default;\nconst DOMAIN = window.DOMAIN;\n\n\nasync function loadFingerPrint() {\n    return FingerprintJS.load()\n        .then(fp => fp.get())\n        .then(result => {\n            // This is the visitor identifier:\n            window.visitorId = result.visitorId;\n            return result.visitorId;\n        });\n}\n\nconst headers = {}\n// let headers = new Headers();\nheaders['Access-Control-Allow-Origin'] = DOMAIN;\n// headers['visitor-id'] = window.visitorId;\n\nfunction responseMiddleware(response) {\n    return response;\n}\n\nfunction logoutMiddleware(error) {\n    if (error.response.status === 501) {\n        actions.logout();\n        window.location = '/login';\n    }\n    throw error;\n}\n\nfunction catchMiddleware(response) {\n    throw response;\n}\n\n\nexport const getToken = () => {\n    return axios.CancelToken.source();\n}\n\nconst REST = {\n    fakeLogin: () => {\n        return new Promise((resolve, reject) => {\n            resolve({token: \"abc\"});\n        })\n    },\n    login: (data) => {\n        return axios.post(`${DOMAIN}/common/login`, data,\n            {\n                headers: {...headers},\n            })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n            .catch(catchMiddleware)\n    },\n    getAllBooks: () => {\n        return axios.get(`${DOMAIN}/book`, {\n            json: true,\n            headers: {...headers}\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n    },\n    getBooksByCategory: (category) => {\n        return axios.get(`${DOMAIN}/book?category=${category}`, {\n            json: true,\n            headers: {...headers}\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n    },\n    getManagementBooks: () => {\n        return axios.get(`${DOMAIN}/book/management`, {\n            json: true,\n            headers: {...headers, token: store.getState().app.token},\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n            .catch(logoutMiddleware)\n    },\n    addBook: (data) => {\n        return axios.post(`${DOMAIN}/book`, data, {\n            headers: {...headers, token: store.getState().app.token, \"Content-Type\": \"multipart/form-data\"},\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n            .catch(logoutMiddleware)\n    },\n    updateBook: (bookId, data) => {\n        return axios.put(`${DOMAIN}/book/${bookId}`, data, {\n            headers: {...headers, token: store.getState().app.token, \"Content-Type\": \"multipart/form-data\"},\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n            .catch(logoutMiddleware)\n    },\n    deleteBook: (bookId) => {\n        return axios.delete(`${DOMAIN}/book/${bookId}`, {\n            headers: {...headers, token: store.getState().app.token},\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n            .catch(logoutMiddleware)\n    },\n    restoreBook: (bookId) => {\n        return axios.put(`${DOMAIN}/book/restore/${bookId}`, {}, {\n            headers: {...headers, token: store.getState().app.token},\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n            .catch(logoutMiddleware)\n    },\n    removeBookPermanently: (bookId) => {\n        return axios.delete(`${DOMAIN}/book/remove-permanently/${bookId}`, {\n            headers: {...headers, token: store.getState().app.token},\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n            .catch(logoutMiddleware)\n    },\n    search: (searchType, data, source) => {\n        return axios.get(`${DOMAIN}/search/${searchType}`, {\n            params: data,\n            // cancelToken: source && source.token\n        }, {\n            headers: {...headers}\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n    },\n    findInOtherBooks: (searchType, data) => {\n        return axios.get(`${DOMAIN}/search/findOtherMatches`, {\n            params: data,\n        }, {\n            headers: {...headers}\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n    },\n    updateBuyingVerses: (data) => {\n        return axios.post(`${DOMAIN}/verses`, data)\n            .then(response => {\n                return response.data;\n            }, {\n                headers: {...headers}\n            })\n            .then(responseMiddleware)\n    },\n    checkAvailability: async (selectedBook, versesIds, ranges, toSave) => {\n        const vId = window.visitorId || await loadFingerPrint();\n        return axios.post(`${DOMAIN}/verses/check-availability`, {\n            selectedBook, versesIds, ranges, toSave\n        }, {\n            headers: {...headers, 'visitor-id': vId},\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n    },\n    downloadXlsx: (bookId) => {\n        return axios.get(`${DOMAIN}/book/download-xlsx/${bookId}`, {\n            responseType: 'arraybuffer',\n            headers: {...headers, token: store.getState().app.token},\n            // headers: {\n            //     'Content-Type': 'application/json',\n            //     'Accept': 'application/pdf'\n            // }\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n            .catch(logoutMiddleware)\n    },\n    getParashaByDate: (date) => {\n        const tmp = moment(date, 'YYYY/MM/DD');\n        // https://www.hebcal.com/home/195/jewish-calendar-rest-api\n        // &maj=on&min=on&mod=on&nx=on&ss=on&mf=on&c=on&M=on&D=on\n        return axios.get(`https://www.hebcal.com/hebcal?v=1&yt=G&cfg=json&start=${tmp.format('YYYY-MM-DD')}&end=${tmp.endOf('week').format('YYYY-MM-DD')}&s=on&lg=he`, {\n            cors: true,\n            headers: {},\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n    },\n    getSelectedVersesPriceAndAmount: (selectedVerses) => {\n        return axios.post(`${DOMAIN}/verses/price`, {\n            verses: selectedVerses.filter(v => !v.range).map(v => v._id).filter(v => v),\n            ranges: selectedVerses.filter(v => v.range).map(v => {\n                return {\n                    book: v.book,\n                    code: v.code,\n                    bookId: v.bookId,\n                }\n            }).filter(v => v),\n        }, {\n            headers: {...headers}\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n    },\n    checkIFPaymentIsDone: (checkout) => {\n        return axios.get(`${DOMAIN}/verses/check-payment-status?uniqueId=${checkout}`, {\n            headers: {...headers}\n        })\n            .then(response => {\n                return response.data;\n            })\n            .then(responseMiddleware)\n    }\n}\n\nexport default REST;\n","import React, {Component, useEffect, useState} from \"react\";\nimport {SPACE} from \"../utils\";\n\nexport const TakenBy = ({donate, bless}) => {\n    return (\n        <React.Fragment>\n            <div>\n                {donate && donate.name && <React.Fragment>\n                    <span>נקנה על ידי:</span>{SPACE}<span>{donate?.name}</span>{SPACE}\n                </React.Fragment>}\n                {bless && <React.Fragment>\n                    <span>ל:</span>{SPACE}\n                    <span>{bless?.map(v => v.name).join(', ')}</span>\n                </React.Fragment>}\n            </div>\n        </React.Fragment>\n    )\n};\n","import React, { Component, useEffect, useState } from \"react\";\nimport { BooksMap } from \"../config\";\nimport { gematriyaNumbers } from \"../utils\";\nimport { SPACE } from \"../utils\";\n\nexport const VerseLocation = ({ book, chapter, verse }) => {\n  return (\n    <span className=\"font12 fontWeight900\">\n      <span>ספר</span>\n      {SPACE}\n      <span>{BooksMap[book]}</span>\n      {SPACE}\n      |\n      {SPACE}\n      <span>פרק</span>\n      {SPACE}\n      <span>{gematriyaNumbers(chapter)}</span>\n      {SPACE}\n      |\n      {SPACE}\n      <span>פסוק</span>\n      {SPACE}\n      <span>{gematriyaNumbers(verse)}</span>\n    </span>\n  );\n};\n","import React, { Component,useState } from \"react\";\nimport { Modal, Button,} from 'react-bootstrap';\n\nclass MyModal extends Component {\n    constructor (props) {\n        super(props);\n        this.state = {\n            show: props.show\n        }\n    }\n    componentDidMount() {\n        this.componentWillHandleProps(this.props, true);\n    }\n    componentWillUnmount() {\n    }\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        this.componentWillHandleProps(nextProps, false);\n    }\n\n    componentWillHandleProps(nextProps, isFirstTime) {\n        if (nextProps.show) this.handleShow();\n        else this.handleClose();\n    }\n\n    /*listener(data) {\n        this.handleClose();\n    }*/\n\n    handleClose() {\n        this.setState({show:false});\n        /*window.removeEventListener(\"hashchange\", this.listener);\n        if (window.location.hash === \"#modal\") {\n            window.history.back();\n        }*/\n    }\n\n    handleShow() {\n        this.setState({show:true});\n        /*window.location.hash = \"#modal\";\n        window.addEventListener(\"hashchange\", this.listener, false);*/\n    }\n\n    onClose(status) {\n        if (this.props.onClose && typeof this.props.onClose === 'function') this.props.onClose(status);\n    }\n\n    render () {\n        return (\n            <Modal size=\"lg\"\n                   aria-labelledby=\"contained-modal-title-vcenter\"\n                   centered\n                   show={Boolean(this.state.show)}\n                   onHide={this.props.onHide || this.handleClose.bind(this)}>\n                <Modal.Header closeButton>\n                    <Modal.Title className={'flex-100 layout layout-row layout-align-center-center'}>\n                        <h3 className={\"primary\"}>{this.props.title}</h3>\n                    </Modal.Title>\n                </Modal.Header>\n                {(this.props.children) && <Modal.Body className={'text-right'}>{this.props.children}</Modal.Body>}\n                {!(this.props.children) && <Modal.Body className={'text-right'}>{this.props.body}</Modal.Body>}\n                {!this.props.hideFooter && <Modal.Footer className={'modalFooter flex-100 layout layout-row layout-align-space-between-center'}>\n                    {this.props.buttons && this.props.buttons.map((btn,i)=><Button key={`_${i}`} variant={btn.class || 'primary'} onClick={btn.callback || this.props.onHide || this.handleClose.bind(this)}>{btn.name || 'OK'}</Button>)}\n                </Modal.Footer>}\n            </Modal>\n        )\n    }\n}\nexport default MyModal;\n","import React, {Component, useState} from \"react\";\nimport {Button, Form,} from 'react-bootstrap';\n\nexport const Book = ({address, description, image_url, tel, writer_notes, _id, versesAmount, weight, isManagement}) => {\n    return (\n        <div className='d-flex flex-row flex-100 justify-content-center align-content-center'>\n            {image_url && <div className='flex-20 marginLeft5px'>\n                <img style={styles.image} width={150} height='auto' src={`${image_url}`}/>\n            </div>}\n            <div className='flex-80'>\n                <div className='flex-row'>\n                    <b>\n                        כתובת:&nbsp;\n                    </b>\n                    <span className='fontWeight300'>{address}</span>\n                </div>\n                <div className='flex-row'>\n                    <b>\n                        פרטי התקשרות:&nbsp;\n                    </b>\n                    <a href='tel:0525675223'>{tel}</a>\n                </div>\n                <div className='flex-row'>\n                    <b>\n                        תיאור:&nbsp;\n                    </b>\n                    <span className='fontWeight300'>{description}</span>\n                </div>\n                <div className='flex-row'>\n                    <b>\n                        הקדשה אישית של מפרסם הספר:&nbsp;\n                    </b>\n                    <span className='fontWeight300'>{writer_notes}</span>\n                </div>\n                {versesAmount !== undefined && <div className='flex-row'>\n                    <b>\n                        פסוקים זמינים:&nbsp;\n                    </b>\n                    <span className='fontWeight300'>{versesAmount}</span>\n                </div>}\n                {isManagement && <div className='flex-row'>\n                    <b>\n                        משקל:&nbsp;\n                    </b>\n                    <span className='fontWeight300'>{weight ?? 0}</span>\n                </div>}\n            </div>\n        </div>\n    )\n}\n\nconst styles = {\n    image: {\n        borderRadius: '10px',\n    }\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport {Modal, Button, Form,} from 'react-bootstrap';\nimport rest from \"../rest\";\nimport MyModal from \"../components/Modal\";\nimport {Book} from \"../components/Book\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport {VerseLocation} from \"../components/VerseLocation\";\n\nconst OtherBooksModal = ({searchType, callback, bookId, textWithout, originalVerse}) => {\n    const [loading, setLoading] = useState(true);\n    const [results, setResults] = useState([]);\n    const [show, setShow] = useState(false);\n    const [selectedBook, setSelectedBook] = useState(null);\n    const [samePlace, setSamePlace] = useState(false);\n\n    useEffect(() => {\n        setShow(true);\n        rest.findInOtherBooks(searchType, {bookId, text: textWithout})\n            .then(response => {\n                console.log(response.data);\n                setResults(response.data);\n                setLoading(false);\n            })\n            .catch(err => {\n\n            })\n    }, []);\n\n    const updateSelected = (e, res) => {\n        if (samePlace) {\n            const verses = res.verses.filter(verseInSamePlace);\n            setSelectedBook(verses[0]);\n        } else {\n            setSelectedBook(res.verses[0]);\n        }\n    }\n\n    const chooseSpecificPlace = (e) => {\n        const name = e.target.name;\n        const value = e.target.checked;\n        setSamePlace(value);\n        if (value && selectedBook) {\n            const isOk = verseInSamePlace(selectedBook);\n            if (!isOk) {\n                setSelectedBook(null);\n            }\n        }\n    }\n\n    const onHide = () => {\n        setShow(false);\n        callback(selectedBook, originalVerse);\n    }\n\n    const verseInSamePlace = (d) => {\n        return d.book === originalVerse.book &&\n            d.chapter === originalVerse.chapter &&\n            d.verse === originalVerse.verse\n    }\n\n    const onFormClick = (e) => {\n        // e.preventDefault();\n        e.stopPropagation();\n        e.nativeEvent.stopImmediatePropagation();\n    }\n\n    return (\n        <MyModal onHide={onHide.bind(this)} show={show} title={'בחר ספר תורה'}\n        buttons={[\n            {\n                name: 'בחר',\n            }\n        ]}>\n            {loading && <div\n                className='d-flex flex-column flex-100 layout-align-center-center justify-content-center align-content-center'>\n                <Spinner animation=\"border\"/>\n            </div>}\n            <Form onClick={onFormClick.bind(this)}>\n                {<Form.Group className='d-flex flex-100 margin15 flex-row' controlId={`sameGroup1`}>\n                    <Form.Check className='flex-10 text-center'\n                                type='checkbox' name={'sameGroup1'}\n                                onChange={(e) => {\n                                    chooseSpecificPlace(e);\n                                }}/>\n                    <Form.Label className={`flex-90 flex-column text-right`}>\n                        חפש באותו מיקום בדיוק\n                        <span style={styles.gray}>\n                            <VerseLocation {...originalVerse} />\n                        </span>\n                    </Form.Label>\n                </Form.Group> || ''}\n                <div className='width100 flex-column flex-wrap justify-content-center align-items-center'>\n                {results.filter(v => samePlace ? v.verses.filter(verseInSamePlace).length : v).filter(v => v.verses.length).map((res, index) => {\n                    const verse = res.verses[0];\n                    const id = Date.now().toString() + index;\n                    return <div key={id}>\n                        <Form.Group className='d-flex flex-100 margin15 flex-row' controlId={`${id}`}>\n                            <Form.Check className='flex-10 text-center'\n                                        type='radio' value={verse._id} name={'sameGroup'}\n                                        onChange={(e) => {\n                                            updateSelected(e, res)\n                                        }}/>\n                            <Form.Label id={`${id}`} className={`flex-90 flex-column text-right`} >\n                                <Book {...verse.bookInfo}/>\n                            </Form.Label>\n                        </Form.Group>\n                    </div>\n                })}\n                </div>\n            </Form>\n        </MyModal>\n    )\n}\n\nconst styles = {\n    gray: {\n        color: 'gray',\n        fontSize: '14px',\n    },\n};\nexport default OtherBooksModal;\n","import React, {Component, useEffect, useState} from \"react\";\nimport Spinner from \"react-bootstrap/Spinner\";\n\nexport const Loader = ({callback}) => {\n    return (\n        <React.Fragment>\n            <Spinner animation=\"border\" style={style}/>\n        </React.Fragment>\n    )\n};\n\nconst style = {\n    margin: '10px'\n}\n","import React, {Component, useEffect, useState} from \"react\";\nimport {Button} from \"react-bootstrap\";\n\nexport const LoadMore = ({callback, show}) => {\n    return (\n        <React.Fragment>\n            {show && <Button variant=\"outline-secondary\" style={style} onClick={callback}>\n                הצג עוד תוצאות\n            </Button>}\n        </React.Fragment>\n    )\n};\n\nconst style = {\n    margin: '20px'\n}\n","import React, { Component, useEffect, useState } from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\n\nimport { SPACE, countWeight } from \"../utils\";\nimport { VerseLocation } from \"../components/VerseLocation\";\nimport { TakenBy } from \"../components/TakenBy\";\nimport { AvailableBooks } from \"../components/AvailableBooks\";\n\nimport '../css/verse-display.scss';\n\nexport const VerseDisplay = ({ val, showLength, onSearchInOtherBooks, isCartDisplay=false }) => {\n  return (\n    <div\n      className={`text-right ${isCartDisplay ? '': 'verse-box'}`} >\n      <p className={`mb-0 fontWeight900 ${val.taken && \"disabled-color\"}`}> {val.text} </p>\n      {/* <ol style={{ ...styles.gray, ...styles.list }}> */}\n      <div className=\"gray list\">\n        {/* <li> */}\n        <VerseLocation\n          book={val.book}\n          chapter={val.chapter}\n          verse={val.verse}\n        />\n        <hr className=\"spacer\"/>\n        {/* </li> */}\n        {!isCartDisplay && val.taken && (\n          //   <li>\n          <TakenBy className=\"gray\" donate={val.donate} bless={val.bless} />\n          //   </li>\n        )}\n        {/* <li> */}\n        {/* <AvailableBooks\n          className=\"gray\"\n          availableBooks={val.availableBooks}\n        /> */}\n        {/* </li> */}\n        {val.bookInfo && <li>{val.bookInfo.address}</li>}\n        {showLength && (\n          <>\n             <span>{`סה״כ אותיות: ${countWeight(val.textWithout)}`}</span>\n            <span className=\"pr-3\">{`סה״כ לתשלום: ${countWeight(val.textWithout)} ש״ח`}</span>\n          </>\n        )}\n        {/* </ol> */}\n        {!isCartDisplay && (val.taken && val.availableBooks || val.bookInfo && val.availableBooks > 1) && \n            <div className=\"pt-1\">\n                <span className=\"fontWeight900\" style={{color: \"black\"}}>פסוק זה כבר נרכש</span>{' '}\n                    <Button onClick={onSearchInOtherBooks}\n                        variant=\"secondary\" size=\"sm\">\n                    מצא בספרי תורה אחרים\n                </Button>\n            </div>\n\n            }\n      </div>\n    </div>\n  );\n};\n\n// const styles = {\n//   verse: {\n//     boxShadow: \"0px 0px 7px 0px rgba(0, 0, 0, 0.15)\",\n//     borderRadius: \"7px\",\n//     padding: \"10px\",\n//   },\n//   gray: {\n//     color: \"gray\",\n//     fontSize: \"14px\",\n//   },\n//   list: {\n//     listStyleType: \"none\",\n//   },\n//   spacer:{\n//     margin: \"6px 0\",\n//     color: \"#000000\",\n//     borderColor: \"#000000\"\n//   }\n// };\n","import React, {Component, useEffect, useState} from \"react\";\nimport {Button, Form,} from 'react-bootstrap';\nimport rest from '../rest';\nimport Spinner from 'react-bootstrap/Spinner'\nimport {TakenBy} from \"../components/TakenBy\";\nimport {AvailableBooks} from \"../components/AvailableBooks\";\nimport {VerseLocation} from \"../components/VerseLocation\";\nimport OtherBooksModal from \"../components/OtherBooksModal\";\nimport {Loader} from \"../components/Loader\";\nimport {LoadMore} from \"../components/LoadMore\";\nimport {VerseDisplay} from \"../components/VerseDisplay\";\nimport MyForm from \"../components/Form\";\nimport {getEnterYourNameForm} from \"../config\";\n\nexport const FirstAndLastLetter = ({donate, book, selectedVerses, searchType, callback, actions}) => {\n    const [skip, setSkip] = useState(0);\n    const [verses, setVerses] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [searchLoading, setSearchLoading] = useState(false);\n    const [search, setSearch] = useState('');\n    const [chosenVerses, setChosenVerses] = useState([]);\n    const [replaceVerse, setReplaceVerse] = useState(null);\n    const [error, setError] = useState('');\n    const [hasMoreAnswers, setHasMoreAnswers] = useState(true);\n\n    const freeSearchForm = getEnterYourNameForm();\n    let timeoutRef = null;\n\n    const submit = (data) => {\n        clearTimeout(timeoutRef);\n        setSearchLoading(true);\n        setVerses([]);\n        setHasMoreAnswers(true);\n        setSkip(0)\n        timeoutRef = setTimeout(() => {\n            setSearch(data.search.value);\n        }, 1000);\n    }\n\n    useEffect(() => {\n        actions.setSelectedVerses([]);\n    }, [])\n\n    useEffect(() => {\n        if (!loading) {\n            fetchVerses();\n        }\n    }, [search]);\n\n    const fetchVerses = () => {\n        const name = search.trim();\n        if (name) {\n            setLoading(true);\n            rest.search(searchType, {name, bookId: book?._id, skip})\n                .then(response => {\n                    console.log(response.data);\n                    setVerses(verses.concat(response.data));\n                    setLoading(false);\n                    setSearchLoading(false);\n                    setSkip(() => {\n                        return skip + 1;\n                    })\n                    if (!response.hasMore) {\n                        setHasMoreAnswers(false);\n                    }\n                    if (!response.data.length && !verses.length) {\n                        throw new Error('');\n                    }\n                    setError('');\n                })\n                .catch(err => {\n                    setError('לא נמצאו תוצאות');\n                })\n        }\n    }\n\n    const selectedVerse = (e, val) => {\n        const value = e.target.checked;\n        const prevVerses = chosenVerses;\n        if (value === true) {\n            prevVerses.push(val);\n        } else {\n            const index = prevVerses.findIndex(v => v._id === val._id);\n            prevVerses.splice(index, 1);\n        }\n        setChosenVerses(prevVerses);\n        actions.setSelectedVerses(prevVerses);\n        callback(prevVerses.length);\n    }\n\n    const searchInOtherBooks = (index, val) => {\n        setReplaceVerse(val);\n    }\n\n    const onVerseReplaced = (selected, original) => {\n        console.log('selected', selected);\n        setReplaceVerse(null);\n        if (selected) {\n            selected.availableBooks = original.availableBooks;\n            const prevVerses = verses;\n            const index = prevVerses.findIndex(v => v._id === original._id);\n            if (index !== -1) {\n                prevVerses.splice(index, 1);\n                prevVerses.splice(index, 0, selected);\n            }\n            setVerses(prevVerses);\n            console.log('prevVerses', prevVerses)\n        }\n    }\n\n    return (\n        <div className='d-flex flex-column flex-100 justify-content-center align-content-center'>\n            <MyForm fields={freeSearchForm}\n                    loading={searchLoading}\n                    submitText={\"חפש\"}\n                    callback={submit}\n            />\n            {error && <p>{error}</p>}\n            {verses.map((val, index) => {\n                return (\n                    // <div key={`_${val._id}`} className='flex-row'>\n                    <Form.Group key={`_${val._id}`} className='margin15' controlId={`${val._id}}`}>\n                        <Form.Check className={`verse-checkbox text-center`} type='checkbox' value={val.id}\n                                    onChange={(e) => selectedVerse(e, val)}\n                                    disabled={val.taken}\n                                    label={\n                                         <VerseDisplay val={val} showLength onSearchInOtherBooks={searchInOtherBooks.bind(this, index, val)}/>\n                                    }\n                                    />\n      \n                    </Form.Group>\n                // </div>\n\n                // <div key={`_${val._id}`} className='flex-row'>\n                //     <Form.Group className='d-flex flex-100 margin15 flex-row' controlId={`${val._id}}`}>\n                //         <Form.Check className={`flex-10 text-center`} type='checkbox' value={val.id}\n                //                     onChange={(e) => selectedVerse(e, val)}\n                //                     disabled={val.taken}/>\n                //         <Form.Label id={`_${val._id}}`} \n                //                     className={`flex-90 flex-column text-right ${val.taken && 'disabled-color'}`}>\n                //             <VerseDisplay val={val}/>\n                //             {(val.taken && val.availableBooks || val.bookInfo && val.availableBooks > 1) && <React.Fragment>\n                //                 <Button onClick={searchInOtherBooks.bind(this, index, val)}\n                //                         className='btn-outline-primary'>\n                //                     חפש בספרי תורה אחרים\n                //                 </Button>\n                //             </React.Fragment> || ''}\n                //         </Form.Label>\n                //     </Form.Group>\n                // </div>\n                \n                )\n            })}\n            {loading && <div\n                className='d-flex flex-column flex-100 layout-align-center-center justify-content-center align-content-center'>\n                <Loader/>\n            </div>}\n            {!loading && verses.length && <LoadMore callback={fetchVerses} show={hasMoreAnswers}/> || ''}\n            {replaceVerse && <OtherBooksModal searchType={searchType}\n                 callback={onVerseReplaced.bind(this)}\n                 bookId={replaceVerse.bookId}\n                 textWithout={replaceVerse.textWithout}\n                 originalVerse={replaceVerse}\n            />}\n        </div>\n    )\n}\n\nconst styles = {\n    gray: {\n        color: 'gray',\n        fontSize: '14px',\n    },\n    list: {\n        listStyleType: 'circle'\n    }\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport {Button, Form} from 'react-bootstrap';\nimport rest from '../rest';\nimport Spinner from 'react-bootstrap/Spinner'\nimport {TakenBy} from \"../components/TakenBy\";\nimport {AvailableBooks} from \"../components/AvailableBooks\";\nimport {VerseLocation} from \"../components/VerseLocation\";\nimport OtherBooksModal from \"../components/OtherBooksModal\";\nimport {getFreeSearchForm} from \"../config\";\nimport {default as MyForm} from \"../components/Form\";\nimport {Loader} from \"../components/Loader\";\nimport {LoadMore} from \"../components/LoadMore\";\nimport {VerseDisplay} from \"../components/VerseDisplay\";\n\nexport const FreeSearch = ({donate, book, selectedVerses, searchType, callback, actions}) => {\n    const [skip, setSkip] = useState(0);\n    const [verses, setVerses] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [searchLoading, setSearchLoading] = useState(false);\n    const [search, setSearch] = useState('');\n    const [chosenVerses, setChosenVerses] = useState([]);\n    const [replaceVerse, setReplaceVerse] = useState(null);\n    const [error, setError] = useState('');\n    const [hasMoreAnswers, setHasMoreAnswers] = useState(true);\n\n\n    const freeSearchForm = getFreeSearchForm();\n    let timeoutRef = null;\n\n    useEffect(() => {\n        actions.setSelectedVerses([]);\n    }, [])\n\n    useEffect(() => {\n        if (!loading) {\n            fetchVerses();\n        }\n\n    }, [search]);\n\n    const fetchVerses = () => {\n        const text = search.trim();\n        if (text) {\n            rest.search(searchType, {text, bookId: book?._id, skip})\n                .then(response => {\n                    console.log(response.data);\n                    setVerses(verses.concat(response.data));\n                    setLoading(false);\n                    setSearchLoading(false);\n                    setSkip(() => {\n                        return skip + 1;\n                    })\n                    if (!response.hasMore) {\n                        setHasMoreAnswers(false);\n                    }\n                    if (!response.data.length && !verses.length) {\n                        throw new Error('');\n                    }\n                    setError('');\n                })\n                .catch(err => {\n\n                })\n        } else {\n            setSearchLoading(false);\n        }\n    }\n\n    const fetchVersesWrapper = () => {\n        setLoading(true);\n        fetchVerses();\n    }\n\n    const selectedVerse = (e, val) => {\n        const value = e.target.checked;\n        const prevVerses = chosenVerses;\n        if (value === true) {\n            prevVerses.push(val);\n        } else {\n            const index = prevVerses.findIndex(v => v._id === val._id);\n            prevVerses.splice(index, 1);\n        }\n        setChosenVerses(prevVerses);\n        actions.setSelectedVerses(prevVerses);\n        callback(prevVerses.length);\n    }\n\n    const searchInOtherBooks = (index, val) => {\n        setReplaceVerse(val);\n    }\n\n    const onVerseReplaced = (selected, original) => {\n        console.log('selected', selected);\n        setReplaceVerse(null);\n        if (selected) {\n            selected.availableBooks = original.availableBooks;\n            const prevVerses = verses;\n            const index = prevVerses.findIndex(v => v._id === original._id);\n            if (index !== -1) {\n                prevVerses.splice(index, 1);\n                prevVerses.splice(index, 0, selected);\n            }\n            setVerses(prevVerses);\n            console.log('prevVerses', prevVerses)\n        }\n    }\n\n    const submit = (data) => {\n        clearTimeout(timeoutRef);\n        setSearchLoading(true);\n        setVerses([]);\n        setHasMoreAnswers(true);\n        setSkip(0);\n        timeoutRef = setTimeout(() => {\n            setSearch(data.search.value);\n        }, 1000);\n    }\n\n    return (\n        <div className='d-flex flex-column flex-100 justify-content-center align-content-center'>\n            <MyForm fields={freeSearchForm}\n                  loading={searchLoading}\n                  submitText={\"חפש\"}\n                  callback={submit}\n            />\n            {error && <p>{error}</p>}\n            {verses.map((val, index) => {\n                return (<div key={`_${val._id}`} className='marginTop30px flex-row'>\n                    <Form.Group className='d-flex flex-100 margin15 flex-row' controlId={`${val._id}}`}>\n                        <Form.Check className={`flex-10 text-center`} type='checkbox' value={val.id}\n                                    onChange={(e) => selectedVerse(e, val)}\n                                    disabled={val.taken}/>\n                        <Form.Label id={`_${val._id}}`}\n                                    className={`flex-90 flex-column text-right ${val.taken && 'disabled-color'}`}>\n                            <VerseDisplay val={val} />\n                            {(val.taken && val.availableBooks || val.bookInfo && val.availableBooks > 1) && <React.Fragment>\n                                <Button onClick={searchInOtherBooks.bind(this, index, val)}\n                                        className='btn-outline-primary'>\n                                    חפש בספרי תורה אחרים\n                                </Button>\n                            </React.Fragment> || ''}\n                        </Form.Label>\n                    </Form.Group>\n                </div>)\n            })}\n            {loading && <div\n                className='d-flex flex-column flex-100 layout-align-center-center justify-content-center align-content-center'>\n                <Loader/>\n            </div>}\n            {!loading && verses.length && <LoadMore callback={fetchVersesWrapper} show={hasMoreAnswers}/> || ''}\n            {replaceVerse && <OtherBooksModal searchType={searchType}\n                 callback={onVerseReplaced.bind(this)}\n                 bookId={replaceVerse.bookId}\n                 textWithout={replaceVerse.textWithout}\n                 originalVerse={replaceVerse}\n            />}\n        </div>\n    )\n}\n\nconst styles = {\n    gray: {\n        color: 'gray',\n        fontSize: '14px',\n    },\n    list: {\n        listStyleType: 'circle'\n    }\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport {Button, Form,} from 'react-bootstrap';\nimport rest from '../rest';\nimport Spinner from 'react-bootstrap/Spinner'\nimport {TakenBy} from \"../components/TakenBy\";\nimport {AvailableBooks} from \"../components/AvailableBooks\";\nimport {VerseLocation} from \"../components/VerseLocation\";\nimport OtherBooksModal from \"../components/OtherBooksModal\";\nimport {Loader} from \"../components/Loader\";\nimport {LoadMore} from \"../components/LoadMore\";\nimport {VerseDisplay} from \"../components/VerseDisplay\";\nimport MyForm from \"../components/Form\";\nimport {getEnterYourNameForm} from \"../config\";\n\nexport const VerseYourName = ({donate, book, selectedVerses, searchType, callback, actions}) => {\n    const [skip, setSkip] = useState(0);\n    const [verses, setVerses] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [searchLoading, setSearchLoading] = useState(false);\n    const [search, setSearch] = useState('');\n    const [chosenVerses, setChosenVerses] = useState([]);\n    const [replaceVerse, setReplaceVerse] = useState(null);\n    const [error, setError] = useState('');\n    const [hasMoreAnswers, setHasMoreAnswers] = useState(true);\n\n    const freeSearchForm = getEnterYourNameForm();\n    let timeoutRef = null;\n\n    const submit = (data) => {\n        clearTimeout(timeoutRef);\n        setSearchLoading(true);\n        setVerses([]);\n        setHasMoreAnswers(true);\n        setSkip(0);\n        timeoutRef = setTimeout(() => {\n            setSearch(data.search.value);\n        }, 1000);\n    }\n\n    useEffect(() => {\n        actions.setSelectedVerses([]);\n    }, [])\n\n    useEffect(() => {\n        if (!loading) {\n            fetchVerses();\n        }\n    }, [search]);\n\n    const fetchVerses = () => {\n        const name = search.trim();\n        if (name) {\n            setLoading(true);\n            rest.search(searchType, {name, bookId: book?._id, skip})\n                .then(response => {\n                    console.log(response.data);\n                    \n                    //setVerses(verses.concat(response.data));\n                    setVerses(\n                        [\n                          {\n                            \"_id\": \"0\",\n                            \"book\": 1,\n                            \"chapter\": 47,\n                            \"verse\": 6,\n                            \"part\": 84,\n                            \"text\": \"אֶרֶץ מִצְרַיִם לְפָנֶיךָ הִוא, בְּמֵיטַב הָאָרֶץ, הוֹשֵׁב אֶת־אָבִיךָ וְאֶת־אַחֶיךָ, יֵשְׁבוּ בְּאֶרֶץ גֹּשֶׁן, וְאִם־יָדַעְתָּ, וְיֶשׁ־בָּם אַנְשֵׁי־חַיִל, וְשַׂמְתָּם שָׂרֵי מִקְנֶה עַל־אֲשֶׁר־לִי\",\n                            \"textWithout\": \"ארץ מצרים לפניך הוא, במיטב הארץ, הושב את-אביך ואת-אחיך, ישבו בארץ גשן, ואם-ידעת, ויש-בם אנשי-חיל, ושמתם שרי מקנה על-אשר-לי\",\n                            \"gematriya\": 6819,\n                            \"length\": 91,\n                            \"bookId\": \"636d63ad1ef33ce1e412f8c9\",\n                            \"availableBooks\": 1\n                          },\n                          {\n                            \"_id\": \"1\",\n                            \"book\": 1,\n                            \"chapter\": 47,\n                            \"verse\": 6,\n                            \"part\": 84,\n                            \"text\": \"אֶרֶץ מִצְרַיִם לְפָנֶיךָ הִוא, בְּמֵיטַב הָאָרֶץ, הוֹשֵׁב אֶת־אָבִיךָ וְאֶת־אַחֶיךָ, יֵשְׁבוּ בְּאֶרֶץ גֹּשֶׁן, וְאִם־יָדַעְתָּ, וְיֶשׁ־בָּם אַנְשֵׁי־חַיִל, וְשַׂמְתָּם שָׂרֵי מִקְנֶה עַל־אֲשֶׁר־לִי\",\n                            \"textWithout\": \"ארץ מצרים לפניך הוא, במיטב הארץ, הושב את-אביך ואת-אחיך, ישבו בארץ גשן, ואם-ידעת, ויש-בם אנשי-חיל, ושמתם שרי מקנה על-אשר-לי\",\n                            \"gematriya\": 6819,\n                            \"length\": 91,\n                            \"bookId\": \"636d63ad1ef33ce1e412f8c9\",\n                            \"availableBooks\": 1\n                          },                          {\n                            \"_id\": \"44\",\n                            \"book\": 1,\n                            \"chapter\": 47,\n                            \"verse\": 6,\n                            \"part\": 84,\n                            \"text\": \"אֶרֶץ מִצְרַיִם לְפָנֶיךָ הִוא, בְּמֵיטַב הָאָרֶץ, הוֹשֵׁב אֶת־אָבִיךָ וְאֶת־אַחֶיךָ, יֵשְׁבוּ בְּאֶרֶץ גֹּשֶׁן, וְאִם־יָדַעְתָּ, וְיֶשׁ־בָּם אַנְשֵׁי־חַיִל, וְשַׂמְתָּם שָׂרֵי מִקְנֶה עַל־אֲשֶׁר־לִי\",\n                            \"textWithout\": \"ארץ מצרים לפניך הוא, במיטב הארץ, הושב את-אביך ואת-אחיך, ישבו בארץ גשן, ואם-ידעת, ויש-בם אנשי-חיל, ושמתם שרי מקנה על-אשר-לי\",\n                            \"gematriya\": 6819,\n                            \"length\": 91,\n                            \"bookId\": \"636d63ad1ef33ce1e412f8c9\",\n                            \"availableBooks\": 1\n                          }\n                        ]\n                     );\n                    setLoading(false);\n                    setSearchLoading(false);\n                    setSkip(() => {\n                        return skip + 1;\n                    })\n                    if (!response.hasMore) {\n                        setHasMoreAnswers(false);\n                    }\n                    if (!response.data.length && !verses.length) {\n                        throw new Error('');\n                    }\n                    setError('');\n                })\n                .catch(err => {\n                    setError('לא נמצאו תוצאות');\n                })\n        }\n    }\n\n    const selectedVerse = (e, val) => {\n        const value = e.target.checked;\n        const prevVerses = chosenVerses;\n        if (value === true) {\n            prevVerses.push(val);\n        } else {\n            const index = prevVerses.findIndex(v => v._id === val._id);\n            prevVerses.splice(index, 1);\n        }\n        setChosenVerses(prevVerses);\n        actions.setSelectedVerses(prevVerses);\n        callback(prevVerses.length);\n    }\n\n    const searchInOtherBooks = (index, val) => {\n        setReplaceVerse(val);\n    }\n\n    const onVerseReplaced = (selected, original) => {\n        console.log('selected', selected);\n        setReplaceVerse(null);\n        if (selected) {\n            selected.availableBooks = original.availableBooks;\n            const prevVerses = verses;\n            const index = prevVerses.findIndex(v => v._id === original._id);\n            if (index !== -1) {\n                prevVerses.splice(index, 1);\n                prevVerses.splice(index, 0, selected);\n            }\n            setVerses(prevVerses);\n            console.log('prevVerses', prevVerses)\n        }\n    }\n\n    return (\n        <div className='d-flex flex-column flex-100 justify-content-center align-content-center'>\n            <MyForm fields={freeSearchForm}\n                    loading={searchLoading}\n                    submitText={\"חפש\"}\n                    callback={submit}\n            />\n            {error && <p>{error}</p>}\n            {verses.map((val, index) => {\n                return (\n                // <div key={`_${val._id}`} className='marginTop30px flex-row'>\n                    <Form.Group className='margin15' controlId={`${val._id}}`}>\n                        <Form.Check className={`verse-checkbox text-center`} type='checkbox' value={val.id}\n                                    onChange={(e) => selectedVerse(e, val)}\n                                    disabled={val.taken}\n                                    label={\n                                        <div className={`text-right ${val.taken && 'disabled-color'}`}>\n                                            <VerseDisplay val={val} showLength onSearchInOtherBooks={searchInOtherBooks.bind(this, index, val)}/>\n                                        </div>\n                                    }/>\n                        {/* <Form.Label id={`_${val._id}}`}\n                                    className={`flex-90 flex-column text-right ${val.taken && 'disabled-color'}`}>\n                            <VerseDisplay val={val} />\n                            {(val.taken && val.availableBooks || val.bookInfo && val.availableBooks > 1) && <React.Fragment>\n                                <Button onClick={searchInOtherBooks.bind(this, index, val)}\n                                        className='btn-outline-primary'>\n                                    חפש בספרי תורה אחרים\n                                </Button>\n                            </React.Fragment> || ''}\n                        </Form.Label> */}\n                    </Form.Group>\n                // </div>\n                )\n            })}\n            {loading && <div\n                className='d-flex flex-column flex-100 layout-align-center-center justify-content-center align-content-center'>\n                <Loader/>\n            </div>}\n            {!loading && verses.length && <LoadMore callback={fetchVerses} show={hasMoreAnswers}/> || ''}\n            {replaceVerse && <OtherBooksModal searchType={searchType}\n                 callback={onVerseReplaced.bind(this)}\n                 bookId={replaceVerse.bookId}\n                 textWithout={replaceVerse.textWithout}\n                 originalVerse={replaceVerse}\n            />}\n        </div>\n    )\n}\n\nconst styles = {\n    gray: {\n        color: 'gray',\n        fontSize: '14px',\n    },\n    list: {\n        listStyleType: 'circle'\n    }\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport {Button, Form,} from 'react-bootstrap';\nimport rest from '../rest';\nimport OtherBooksModal from \"../components/OtherBooksModal\";\nimport {gematriyaLetters, SPACE} from \"../utils\";\nimport {Loader} from \"../components/Loader\";\nimport {LoadMore} from \"../components/LoadMore\";\nimport {VerseDisplay} from \"../components/VerseDisplay\";\nimport {freeSearchFormWithButtons} from \"../config\";\nimport MyForm from \"../components/Form\";\n\nexport const Gematria = ({donate, book, selectedVerses, searchType, callback, actions}) => {\n    const [skip, setSkip] = useState(0);\n    const [verses, setVerses] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [searchLoading, setSearchLoading] = useState(false);\n    const [search, setSearch] = useState('');\n    const [chosenVerses, setChosenVerses] = useState([]);\n    const [replaceVerse, setReplaceVerse] = useState(null);\n    const [gematri, setGematri] = useState(0);\n    const [error, setError] = useState('');\n    const [hasMoreAnswers, setHasMoreAnswers] = useState(true);\n    const [radioValue, setRadioValue] = useState('3');\n\n    const freeSearchFormWithButtonsForm = freeSearchFormWithButtons();\n    let timeoutRef = null;\n\n    useEffect(() => {\n        actions.setSelectedVerses([]);\n    }, [])\n\n    useEffect(() => {\n        if (!loading) {\n            setVerses([]);\n            setHasMoreAnswers(true);\n            setSkip(0);\n            fetchVerses();\n        }\n    }, [radioValue, search]);\n\n    const fetchVerses = () => {\n        const name = search.trim();\n        if (name) {\n            setLoading(true);\n            setError('');\n            setGematri(gematriyaLetters(name));\n            rest.search(searchType, {name, bookId: book?._id, skip, radioValue})\n                .then(response => {\n                    console.log(response.data);\n                    setVerses(prev => ([...prev, ...response.data]));\n                    setLoading(false);\n                    setSearchLoading(false);\n                    setSkip(() => {\n                        return skip + 1;\n                    })\n                    if (!response.hasMore) {\n                        setHasMoreAnswers(false);\n                    }\n                    if (!response.data.length && !verses.length) {\n                        throw new Error('');\n                    }\n                })\n                .catch(err => {\n                    setError('לא נמצאו תוצאות');\n                })\n        }\n    }\n\n    const getNewComplex = (e) => {\n        if (!loading) {\n            setRadioValue(e.currentTarget.value);\n        }\n    }\n\n    const selectedVerse = (e, values) => {\n        const value = e.target.checked;\n        const prevVerses = [];\n         if (value === true) {\n            document.querySelectorAll('input[type=\"radio\"]').forEach(v=> v.checked = false);\n            e.currentTarget.checked = true;\n             if (values.find(v => v.taken)) {\n                 actions.updateModal({\n                     show: true,\n                     title: 'שים לב',\n                     body: 'אחד מהפסוקים שבחרת כבר תפוס, אנא בחר ספר תורה אחר שבו תוכל לרכוש את הפסוק',\n                     hideFooter: true,\n                 });\n             } else {\n                 prevVerses.push(...values);\n             }\n         } else {\n             /*for (const val of values) {\n                 for (let i = prevVerses.length; i >= 0; i--) {\n                     const index = prevVerses.findIndex(v => v._id === val._id);\n                     prevVerses.splice(index, 1);\n                     if (index !== -1) {\n                         break;\n                     }\n                 }\n             }*/\n         }\n         setChosenVerses(prevVerses);\n         actions.setSelectedVerses(prevVerses);\n         callback(prevVerses.length);\n    }\n\n    const searchInOtherBooks = (index, valIndex, val) => {\n        setReplaceVerse(val);\n    }\n\n    const onVerseReplaced = (selected, original) => {\n        console.log('selected', selected);\n        setReplaceVerse(null);\n        if (selected) {\n            selected.availableBooks = original.availableBooks;\n            const prevVerses = verses;\n            for (let i = prevVerses.length -1 ; i >= 0; i--) {\n                const index = prevVerses[i].findIndex(v => v._id === original._id);\n                if (index !== -1) {\n                    prevVerses[i].splice(index, 1);\n                    prevVerses[i].splice(index, 0, selected);\n                }\n            }\n            // const index = prevVerses.findIndex(v => v._id === original._id);\n            // if (index !== -1) {\n            //     prevVerses.splice(index, 1);\n            //     prevVerses.splice(index, 0, selected);\n            // }\n            setVerses(prevVerses);\n            console.log('prevVerses', prevVerses)\n        }\n    }\n\n    const submit = (data) => {\n        if (\n            data.search.value !== search ||\n            data.radioValue.value !== radioValue\n        ) {\n            clearTimeout(timeoutRef);\n            setSearchLoading(true);\n            setVerses([]);\n            setHasMoreAnswers(true);\n            setSkip(0);\n            timeoutRef = setTimeout(() => {\n                if (data.search.value !== search) {\n                    setSearch(data.search.value);\n                }\n                if (data.radioValue.value !== radioValue) {\n                    setRadioValue(data.radioValue.value);\n                }\n            }, 1000);\n        }\n    }\n\n    // const getVersesView = (values, index) => {\n    //     return (<Form.Label id={`_${index}}`} className={`flex-90 flex-column text-right`}>\n    //         {\n    //             values.map((val, valIndex) => {\n    //                 return (<div key={`${index}_${valIndex}`} className=\"paddBottom10px\">\n    //                     <VerseDisplay val={val} showLength={true} />\n    //                     {(val.taken && val.availableBooks || val.bookInfo && val.availableBooks > 1) &&\n    //                     <React.Fragment>\n    //                         <Button onClick={searchInOtherBooks.bind(this, index, valIndex, val)}\n    //                                 className='btn-outline-primary'>\n    //                             חפש בספרי תורה אחרים\n    //                         </Button>\n    //                     </React.Fragment> || ''}\n    //                 </div>)\n    //             })\n    //         }\n    //     </Form.Label>)\n    // }\n    const getVersesView = (values, index) => {\n        return (<div className={`text-right`}>\n            {\n                values.map((val, valIndex) => \n                        <VerseDisplay val={val} showLength={true} \n                        onSearchInOtherBooks={searchInOtherBooks.bind(this, index, valIndex, val)} key={`${index}_${valIndex}`}/>\n                )\n            }\n        </div>)\n    }\n\n    return (\n        <div className='d-flex flex-column flex-100 justify-content-center align-content-center'>\n            <h6>\n                שמך בגימטריה:\n                {SPACE}\n                {gematri}\n            </h6>\n            <MyForm fields={freeSearchFormWithButtonsForm}\n                    loading={searchLoading}\n                    submitText={\"חפש\"}\n                    callback={submit}\n            />\n            {error && <p>{error}</p>}\n            {verses.map((values, index) => {\n                return (<div key={`_${index}`} className='marginTop30px'>\n                    <Form.Group className='margin15' controlId={`${index}`}>\n                        <Form.Check className={`verse-checkbox`} type='radio' value={index}\n                                    onChange={(e) => selectedVerse(e, values)}\n                                 label={getVersesView(values, index)}\n                        />\n                        {/* {getVersesView(values, index)} */}\n                    </Form.Group>\n                </div>)\n            })}\n            {loading && <div\n                className='d-flex flex-column flex-100 layout-align-center-center justify-content-center align-content-center'>\n                <Loader/>\n            </div>}\n            {!loading && verses.length && <LoadMore callback={fetchVerses} show={hasMoreAnswers}/> || ''}\n            {replaceVerse && <OtherBooksModal searchType={searchType}\n                                              callback={onVerseReplaced.bind(this)}\n                                              bookId={replaceVerse.bookId}\n                                              textWithout={replaceVerse.textWithout}\n                                              originalVerse={replaceVerse}\n            />}\n        </div>\n    )\n}\n\nconst styles = {\n    gray: {\n        color: 'gray',\n        fontSize: '14px',\n    },\n    list: {\n        listStyleType: 'circle'\n    }\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport {Button, Form} from 'react-bootstrap';\nimport rest, {getToken} from '../rest';\nimport {TakenBy} from \"../components/TakenBy\";\nimport {AvailableBooks} from \"../components/AvailableBooks\";\nimport {VerseLocation} from \"../components/VerseLocation\";\nimport OtherBooksModal from \"../components/OtherBooksModal\";\nimport {getAmountForm} from \"../config\";\nimport {default as MyForm} from \"../components/Form\";\nimport {SPACE} from \"../utils\";\nimport {Loader} from \"../components/Loader\";\nimport {LoadMore} from \"../components/LoadMore\";\nimport ToggleButton from \"react-bootstrap/ToggleButton\";\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\nimport {VerseDisplay} from \"../components/VerseDisplay\";\n\nexport const AmountSearch = ({donate, book, selectedVerses, searchType, callback, actions}) => {\n    const [skip, setSkip] = useState(0);\n    const [verses, setVerses] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [searchLoading, setSearchLoading] = useState(false);\n    const [search, setSearch] = useState(100);\n    const [chosenVerses, setChosenVerses] = useState([]);\n    const [replaceVerse, setReplaceVerse] = useState(null);\n    const [error, setError] = useState('');\n    const [hasMoreAnswers, setHasMoreAnswers] = useState(true);\n    const [radioValue, setRadioValue] = useState('1');\n\n    const amountForm = getAmountForm();\n    let timeoutRef = null;\n    // let axiosSession;\n\n    useEffect(() => {\n        actions.setSelectedVerses([]);\n    }, []);\n\n    useEffect(() => {\n        if (!loading) {\n            setVerses([]);\n            setHasMoreAnswers(true);\n            setSkip(0);\n            fetchVerses();\n        }\n    }, [radioValue, search]);\n\n    const fetchVerses = () => {\n        const amount = Number(search) || 0;\n        if (amount) {\n            rest.search(searchType, {amount, bookId: book?._id, skip, radioValue})\n                .then(response => {\n                    console.log(response.data);\n                    setVerses(prev => ([...prev, ...response.data]));\n                    setLoading(false);\n                    setSearchLoading(false);\n                    if (!response.hasMore) {\n                        setHasMoreAnswers(false);\n                    }\n                    if (!response.data.length && !verses.length) {\n                        throw new Error('');\n                    }\n                    setError('');\n                })\n                .catch(err => {\n\n                })\n        } else {\n            setSearchLoading(false);\n        }\n    }\n\n    const fetchVersesWrapper = () => {\n        setSkip(skip + 1);\n        setLoading(true);\n        fetchVerses();\n    }\n\n    const selectedVerse = (e, values) => {\n        const value = e.target.checked;\n        const prevVerses = [];\n        if (value === true) {\n            document.querySelectorAll('input[type=\"radio\"]').forEach(v=> v.checked = false);\n            e.currentTarget.checked = true;\n            if (values.find(v => v.taken)) {\n                actions.updateModal({\n                    show: true,\n                    title: 'שים לב',\n                    body: 'אחד מהפסוקים שבחרת כבר תפוס, אנא בחר ספר תורה אחר שבו תוכל לרכוש את הפסוק',\n                    hideFooter: true,\n                });\n                e.target.checked = false;\n            } else {\n                prevVerses.push(...values);\n            }\n        } else {\n            /*for (const val of values) {\n                for (let i = prevVerses.length; i >= 0; i--) {\n                    const index = prevVerses.findIndex(v => v._id === val._id);\n                    prevVerses.splice(index, 1);\n                    if (index !== -1) {\n                        break;\n                    }\n                }\n            }*/\n        }\n        setChosenVerses(prevVerses);\n        actions.setSelectedVerses(prevVerses);\n        callback(prevVerses.length);\n    }\n\n    const searchInOtherBooks = (index, valIndex, val) => {\n        setReplaceVerse(val);\n    }\n\n    const onVerseReplaced = (selected, original) => {\n        console.log('selected', selected);\n        setReplaceVerse(null);\n        if (selected) {\n            selected.availableBooks = original.availableBooks;\n            const prevVerses = verses;\n            for (let i = prevVerses.length -1 ; i >= 0; i--) {\n                const index = prevVerses[i].findIndex(v => v._id === original._id);\n                if (index !== -1) {\n                    prevVerses[i].splice(index, 1);\n                    prevVerses[i].splice(index, 0, selected);\n                }\n            }\n            // const index = prevVerses.findIndex(v => v._id === original._id);\n            // if (index !== -1) {\n            //     prevVerses.splice(index, 1);\n            //     prevVerses.splice(index, 0, selected);\n            // }\n            setVerses(prevVerses);\n            console.log('prevVerses', prevVerses)\n        }\n    }\n\n    const submit = (data) => {\n        if (\n            data.search.value !== String(search) ||\n            data.radioValue.value !== radioValue\n        ) {\n            setSearchLoading(true);\n            setVerses([]);\n            setHasMoreAnswers(true);\n            setSkip(0);\n            setTimeout(() => {\n                if (data.search.value !== String(search)) {\n                    setSearch(() => data.search.value);\n                }\n                if (data.radioValue.value !== radioValue) {\n                    setRadioValue(() => data.radioValue.value);\n                }\n            }, 1000)\n        }\n\n    }\n\n    // const getVersesView = (values, index) => {\n    //     return (<Form.Label id={`_${index}}`} className={`flex-90 flex-column text-right`}>\n    //         {\n    //             values.map((val, valIndex) => {\n    //                 return (<div key={`${index}_${valIndex}`} className=\"paddBottom10px\">\n    //                     <VerseDisplay val={val} showLength={true} />\n    //                     {(val.taken && val.availableBooks || val.bookInfo && val.availableBooks > 1) &&\n    //                     <React.Fragment>\n    //                         <Button onClick={searchInOtherBooks.bind(this, index, valIndex, val)}\n    //                                 className='btn-outline-primary'>\n    //                             חפש בספרי תורה אחרים\n    //                         </Button>\n    //                     </React.Fragment> || ''}\n    //                 </div>)\n    //             })\n    //         }\n    //     </Form.Label>)\n    // }\n    const getVersesView = (values, index) => {\n        return (<div className={`text-right`}>\n            {\n                values.map((val, valIndex) => \n                        <VerseDisplay val={val} showLength={true} key={`${index}_${valIndex}`} />\n                )\n            }\n        </div>)\n    }\n\n    return (\n        <div className='d-flex flex-column flex-100 justify-content-center align-content-center'>\n            <MyForm fields={amountForm}\n                  loading={searchLoading}\n                  submitText={\"חפש\"}\n                  callback={submit}\n            />\n            {error && <p>{error}</p>}\n            {verses.map((values, index) => {\n                return (\n                // <div key={`_${index}`} className='marginTop30px flex-row'>\n                    <Form.Group className='margin15 ' controlId={`${index}`}>\n                        <Form.Check className={`verse-checkbox text-center`} type='radio' value={index}\n                                    onChange={(e) => selectedVerse(e, values)}\n                                    label={getVersesView(values, index)}\n\n                        />\n                        {/* {getVersesView(values, index)} */}\n                    </Form.Group>\n                // </div>\n                )\n            })}\n            {loading && <div\n                className='d-flex flex-column flex-100 layout-align-center-center justify-content-center align-content-center'>\n                <Loader/>\n            </div>}\n            {!loading && verses.length && <LoadMore callback={fetchVersesWrapper} show={hasMoreAnswers}/> || ''}\n            {replaceVerse && <OtherBooksModal searchType={searchType}\n                 callback={onVerseReplaced.bind(this)}\n                 bookId={replaceVerse.bookId}\n                 textWithout={replaceVerse.textWithout}\n                 originalVerse={replaceVerse}\n            />}\n        </div>\n    )\n}\n\nconst styles = {\n    gray: {\n        color: 'gray',\n        fontSize: '14px',\n    },\n    list: {\n        listStyleType: 'circle'\n    }\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport {Button, Form} from 'react-bootstrap';\nimport rest from '../rest';\nimport Spinner from 'react-bootstrap/Spinner'\nimport {TakenBy} from \"../components/TakenBy\";\nimport {AvailableBooks} from \"../components/AvailableBooks\";\nimport {VerseLocation} from \"../components/VerseLocation\";\nimport OtherBooksModal from \"../components/OtherBooksModal\";\nimport {SPACE} from \"../utils\";\nimport {Loader} from \"../components/Loader\";\nimport {LoadMore} from \"../components/LoadMore\";\nimport {VerseDisplay} from \"../components/VerseDisplay\";\n\nexport const RandomSearch = ({donate, book, selectedVerses, searchType, callback, actions, reachedToBottom}) => {\n    const [skip, setSkip] = useState(0);\n    const [verses, setVerses] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [search, setSearch] = useState(0);\n    const [chosenVerses, setChosenVerses] = useState([]);\n    const [replaceVerse, setReplaceVerse] = useState(null);\n    const [error, setError] = useState('');\n    const [hasMoreAnswers, setHasMoreAnswers] = useState(true);\n\n    useEffect(() => {\n        actions.setSelectedVerses([]);\n    }, [])\n\n    useEffect(() => {\n        if (reachedToBottom) {\n            fetchVerses();\n        }\n    }, [reachedToBottom]);\n\n    useEffect(() => {\n        if (!loading) {\n            fetchVerses();\n        }\n    }, [search]);\n\n    const fetchVerses = () => {\n        setLoading(true);\n        rest.search(searchType, {bookId: book?._id, skip})\n            .then(response => {\n                console.log(response.data);\n                setVerses(verses.concat(response.data));\n                setLoading(false);\n                setSkip(() => {\n                    return skip + 1;\n                })\n                if (!response.hasMore) {\n                    setHasMoreAnswers(false);\n                }\n                if (!response.data.length && !verses.length) {\n                    throw new Error('');\n                }\n                setError('');\n            })\n            .catch(err => {\n\n            })\n    }\n\n    const selectedVerse = (e, val) => {\n        const value = e.target.checked;\n        const prevVerses = chosenVerses;\n        if (value === true) {\n            prevVerses.push(val);\n        } else {\n            const index = prevVerses.findIndex(v => v._id === val._id);\n            prevVerses.splice(index, 1);\n        }\n        setChosenVerses(prevVerses);\n        actions.setSelectedVerses(prevVerses);\n        callback(prevVerses.length);\n    }\n\n    const searchInOtherBooks = (index, val) => {\n        setReplaceVerse(val);\n    }\n\n    const onVerseReplaced = (selected, original) => {\n        console.log('selected', selected);\n        setReplaceVerse(null);\n        if (selected) {\n            selected.availableBooks = original.availableBooks;\n            const prevVerses = verses;\n            const index = prevVerses.findIndex(v => v._id === original._id);\n            if (index !== -1) {\n                prevVerses.splice(index, 1);\n                prevVerses.splice(index, 0, selected);\n            }\n            setVerses(prevVerses);\n            console.log('prevVerses', prevVerses)\n        }\n    }\n\n    return (\n        <div className='d-flex flex-column flex-100 justify-content-center align-content-center'>\n            {error && <p>{error}</p>}\n            {verses.map((val, index) => {\n                return (\n                    <Form.Group key={`_${val._id}`} className='margin15' controlId={`${val._id}}`}>\n                    <Form.Check className={`verse-checkbox text-center`} type='checkbox' value={val.id}\n                                onChange={(e) => selectedVerse(e, val)}\n                                disabled={val.taken}\n                                label={\n                                     <VerseDisplay val={val} showLength onSearchInOtherBooks={searchInOtherBooks.bind(this, index, val)}/>\n                                }\n                                />\n                </Form.Group>\n\n                // <div key={`_${val._id}`} className='marginTop30px flex-row'>\n                //     <Form.Group className='d-flex flex-100 margin15 flex-row' controlId={`${val._id}}`}>\n                //         <Form.Check className={`flex-10 text-center`} type='checkbox' value={val.id}\n                //                     onChange={(e) => selectedVerse(e, val)}\n                //                     disabled={val.taken}/>\n                //         <Form.Label id={`_${val._id}}`}\n                //                     className={`flex-90 flex-column text-right ${val.taken && 'disabled-color'}`}>\n                //             <VerseDisplay val={val} />\n                //             {(val.taken && val.availableBooks || val.bookInfo && val.availableBooks > 1) && <React.Fragment>\n                //                 <Button onClick={searchInOtherBooks.bind(this, index, val)}\n                //                         className='btn-outline-primary'>\n                //                     חפש בספרי תורה אחרים\n                //                 </Button>\n                //             </React.Fragment> || ''}\n                //         </Form.Label>\n                //     </Form.Group>\n                // </div>\n                \n                \n                )\n            })}\n            {loading && <div\n                className='d-flex flex-column flex-100 layout-align-center-center justify-content-center align-content-center'>\n                <Loader/>\n            </div>}\n            {!loading && verses.length && <LoadMore callback={fetchVerses} show={hasMoreAnswers}/> || ''}\n            {replaceVerse && <OtherBooksModal searchType={searchType}\n                 callback={onVerseReplaced.bind(this)}\n                 bookId={replaceVerse.bookId}\n                 textWithout={replaceVerse.textWithout}\n                 originalVerse={replaceVerse}\n            />}\n        </div>\n    )\n}\n\nconst styles = {\n    gray: {\n        color: 'gray',\n        fontSize: '14px',\n    },\n    list: {\n        listStyleType: 'circle'\n    }\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport {booksMapHeb, SPACE} from \"../utils\";\n\nexport const VersesRange = ({val, withBook}) => {\n    return (\n        <React.Fragment>\n            {withBook && <div>\n                <b>ספר: </b>\n                <span className='font-weight-light'>{booksMapHeb[val.book]}</span>\n            </div>}\n            <div>\n                <b>התחלה: </b>\n                <span className='font-weight-light'>{val.transformed[0]}</span>\n            </div>\n            <div>\n                <b>סיום: </b>\n                <span className='font-weight-light'>{val.transformed[1]}</span>\n            </div>\n        </React.Fragment>\n    )\n};\n\nconst styles = {\n    gray: {\n        color: 'gray',\n        fontSize: '14px',\n    },\n    list: {\n        listStyleType: 'circle'\n    }\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport {Button, Form} from 'react-bootstrap';\nimport rest from '../rest';\nimport OtherBooksModal from \"../components/OtherBooksModal\";\nimport {getByDateForm} from \"../config\";\nimport {default as MyForm} from \"../components/Form\";\nimport {Loader} from \"../components/Loader\";\nimport {LoadMore} from \"../components/LoadMore\";\nimport {gematriyaNumbers} from \"../utils\";\nimport moment from \"moment\";\nimport {VersesRange} from \"../components/VersesRange\";\nimport {booksMap} from \"../utils\";\nimport {HDate, Sedra} from '@hebcal/core';\n\nexport const ByDate = ({donate, book, selectedVerses, searchType, callback, actions}) => {\n    const [verses, setVerses] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [searchLoading, setSearchLoading] = useState(false);\n    const [search, setSearch] = useState('');\n    const [parasha, setParasha] = useState(null);\n    const [chosenVerses, setChosenVerses] = useState([]);\n    const [replaceVerse, setReplaceVerse] = useState(null);\n    const [error, setError] = useState('');\n    const [hasMoreAnswers, setHasMoreAnswers] = useState(true);\n\n\n    const byDateForm = getByDateForm();\n    let timeoutRef = null;\n\n    useEffect(() => {\n        actions.setSelectedVerses([]);\n    }, [])\n\n    useEffect(() => {\n        if (!loading) {\n            fetchVerses();\n        }\n    }, [search]);\n\n    const fetchVerses = () => {\n        const date = search.trim();\n        if (date) {\n            rest.getParashaByDate(date)\n                .then(res => {\n                    if (res.items.length) {\n                        const parasha = res.items.find(v => v.category === 'parashat');\n                        setParasha({\n                            title: parasha.title,\n                            aliya: Object.keys(parasha.leyning).map((v, vi) => {\n                                if (['1', '2', '3', '4', '5', '6', '7'].includes(v)) {\n                                    const bookName = parasha.leyning[v].split(' ')[0];\n                                    const tmp = parasha.leyning[v].split(' ')[1];\n                                    const code = transformAliya(tmp);\n                                    return {\n                                        range: true,\n                                        _id: `${book._id}_${code.start.chapter}:${code.start.verse}-${code.end.chapter}:${code.end.verse}`,\n                                        book: booksMap[bookName],\n                                        code,\n                                        transformed: [`פרק ${gematriyaNumbers(code.start.chapter)} פסוק ${gematriyaNumbers(code.start.verse)}`, `פרק ${gematriyaNumbers(code.end.chapter)} פסוק ${gematriyaNumbers(code.end.verse)}`],\n                                    };\n                                }\n                            }).filter(v => v),\n                        });\n                    }\n                    setLoading(false);\n                    setSearchLoading(false);\n                })\n                .catch(err => {\n\n                })\n        } else {\n            setSearchLoading(false);\n        }\n    }\n\n    const fetchVersesWrapper = () => {\n        setLoading(true);\n        fetchVerses();\n    }\n\n    const selectedVerse = (e, val) => {\n        const value = e.target.checked;\n        const prevVerses = chosenVerses;\n        if (value === true) {\n            prevVerses.push({...val, bookId: book._id});\n        } else {\n            const index = prevVerses.findIndex(v => v._id === val._id);\n            prevVerses.splice(index, 1);\n        }\n        console.log(prevVerses)\n        setChosenVerses(prevVerses);\n        actions.setSelectedVerses(prevVerses);\n        callback(prevVerses.length);\n    }\n\n    const searchInOtherBooks = (index, val) => {\n        setReplaceVerse(val);\n    }\n\n    const onVerseReplaced = (selected, original) => {\n        console.log('selected', selected);\n        setReplaceVerse(null);\n        if (selected) {\n            selected.availableBooks = original.availableBooks;\n            const prevVerses = verses;\n            const index = prevVerses.findIndex(v => v._id === original._id);\n            if (index !== -1) {\n                prevVerses.splice(index, 1);\n                prevVerses.splice(index, 0, selected);\n            }\n            setVerses(prevVerses);\n            console.log('prevVerses', prevVerses)\n        }\n    }\n\n    const submit = (data) => {\n        clearTimeout(timeoutRef);\n        setVerses([]);\n        setSearchLoading(true);\n        setHasMoreAnswers(true);\n        timeoutRef = setTimeout(() => {\n            const tmp = moment(data.date.value, 'YYYY/MM/DD');\n            const hdate = new HDate(new Date(tmp));\n            const date13 = hdate.add(13, 'y');\n            // const sedra = new Sedra(date13.year, true);\n            // console.log(sedra.lookup(date13));\n            const format = moment(date13.greg()).format('YYYY/MM/DD');\n            if (search !== format) {\n                setSearch(format);\n            } else {\n                setSearchLoading(false);\n                setHasMoreAnswers(false);\n            }\n        }, 1000);\n    }\n\n    const transformAliya = (val) => {\n        const pos = val.split('-');\n        const posA = pos[0].split(':').map(Number);\n        const posB = pos[1].split(':').map(Number);\n        return {\n            start: {\n                chapter: posA[0],\n                verse: posA[1],\n            },\n            end: {\n                chapter: posB[0],\n                verse: posB[1],\n            }\n        }\n    }\n\n    return (\n        <div className='d-flex flex-column flex-100 justify-content-center align-content-center'>\n            <MyForm fields={byDateForm}\n                  loading={searchLoading}\n                  submitText={\"חפש\"}\n                  callback={submit}\n            />\n            {error && <p>{error}</p>}\n            <h5>{parasha && parasha.title}</h5>\n            <ol>\n            {parasha && parasha.aliya.map((val, index) => {\n                return (<li key={`_${index}`} className='marginTop30px flex-row'>\n                    <Form.Group className='d-flex flex-100 margin15 flex-row' controlId={`${index}}`}>\n                        <Form.Check className={`flex-10 text-center`} type='checkbox' value={val.id}\n                                    onChange={(e) => selectedVerse(e, val)}\n                                    disabled={val.taken}/>\n                        <Form.Label id={`_${val._id}}`}\n                                    className={`flex-90 flex-column text-right ${val.taken && 'disabled-color'}`}>\n                           <VersesRange val={val}/>\n                        </Form.Label>\n                    </Form.Group>\n                </li>)\n            })}\n            </ol>\n            {loading && <div\n                className='d-flex flex-column flex-100 layout-align-center-center justify-content-center align-content-center'>\n                <Loader/>\n            </div>}\n            {!loading && verses.length && <LoadMore callback={fetchVersesWrapper} show={hasMoreAnswers}/> || ''}\n            {replaceVerse && <OtherBooksModal searchType={searchType}\n                 callback={onVerseReplaced.bind(this)}\n                 bookId={replaceVerse.bookId}\n                 textWithout={replaceVerse.textWithout}\n                 originalVerse={replaceVerse}\n            />}\n        </div>\n    )\n}\n\nconst styles = {\n    gray: {\n        color: 'gray',\n        fontSize: '14px',\n    },\n    list: {\n        listStyleType: 'circle'\n    }\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport {Button, Form} from 'react-bootstrap';\nimport rest, {getToken} from '../rest';\nimport {TakenBy} from \"../components/TakenBy\";\nimport {AvailableBooks} from \"../components/AvailableBooks\";\nimport {VerseLocation} from \"../components/VerseLocation\";\nimport OtherBooksModal from \"../components/OtherBooksModal\";\nimport {getAmountForm} from \"../config\";\nimport {default as MyForm} from \"../components/Form\";\nimport {gematriyaNumbers, SPACE} from \"../utils\";\nimport {Loader} from \"../components/Loader\";\nimport {LoadMore} from \"../components/LoadMore\";\nimport ToggleButton from \"react-bootstrap/ToggleButton\";\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\nimport {VersesRange} from \"../components/VersesRange\";\nconst Tora = require('../aliyot_client');\n\nexport const Aliya = ({donate, book, selectedVerses, searchType, callback, actions}) => {\n    const [verses, setVerses] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [searchLoading, setSearchLoading] = useState(false);\n    const [chosenVerses, setChosenVerses] = useState([]);\n    const [replaceVerse, setReplaceVerse] = useState(null);\n    const [error, setError] = useState('');\n    const [hasMoreAnswers, setHasMoreAnswers] = useState(true);\n    const [selectedAliyaBook, setSelectedAliyaBook] = useState(null);\n    const [parasha, setParasha] = useState(null);\n    const [aliya, setAliya] = useState(null);\n\n    const fetchVersesWrapper = () => {\n        setLoading(true);\n    }\n\n    const selectedVerse = (e, val) => {\n        const value = e.target.checked;\n        const prevVerses = chosenVerses;\n        if (value === true) {\n            prevVerses.push({...val, bookId: book._id});\n        } else {\n            const index = prevVerses.findIndex(v => v._id === val._id);\n            prevVerses.splice(index, 1);\n        }\n        console.log(prevVerses)\n        setChosenVerses(prevVerses);\n        actions.setSelectedVerses(prevVerses);\n        callback(prevVerses.length);\n    }\n\n    const onBookSelected = (event) => {\n        setSelectedAliyaBook(Tora[Number(event.target.value)]);\n        setParasha(null);\n        setAliya(null);\n    }\n    const onParashaSelected = (event) => {\n        setParasha(selectedAliyaBook[event.target.selectedIndex]);\n        const aliyot = Object.values(selectedAliyaBook.parasha[Number(event.target.value)].aliyot).map((val, index) => {\n            return {\n                range: true,\n                _id: `${book._id}_${val.start.chapter}:${val.start.verse}-${val.end.chapter}:${val.end.verse}`,\n                book: selectedAliyaBook.book,\n                code: val,\n                transformed: [`פרק ${gematriyaNumbers(val.start.chapter)} פסוק ${gematriyaNumbers(val.start.verse)}`, `פרק ${gematriyaNumbers(val.end.chapter)} פסוק ${gematriyaNumbers(val.end.verse)}`],\n            };\n        })\n        setAliya(aliyot)\n\n    }\n\n    return (\n        <div className='d-flex flex-column flex-100 justify-content-center align-content-center'>\n\n            <div className=''>\n                <Form.Group controlId='select_book' className='form-group'>\n                    <Form.Label>בחר חומש</Form.Label>\n                    <Form.Control as=\"select\" onChange={(event) => onBookSelected(event)}\n                         name='select_book' defaultValue={'-1'}>\n                        <option key={'-1'}>בחר חומש</option>\n                        {\n                            Tora.map((b, bi) => {\n                                return <option key={bi} value={bi}>{b.name}</option>\n                            })\n                        }\n                    </Form.Control>\n                </Form.Group>\n\n                <Form.Group controlId='select_parasha' className='form-group'>\n                    <Form.Label>בחר פרשה</Form.Label>\n                    <Form.Control as=\"select\" onChange={(event) => onParashaSelected(event)}\n                                  disabled={!selectedAliyaBook}\n                                  name='select_parasha' defaultValue={selectedAliyaBook}>\n                        <option key={'-1'}>בחר פרשה</option>\n                        {\n                            selectedAliyaBook?.parasha.map((b, bi) => {\n                                return <option key={bi} value={bi}>{b.name}</option>\n                            })\n                        }\n                    </Form.Control>\n                </Form.Group>\n            </div>\n\n            {error && <p>{error}</p>}\n\n            <ol>\n            {aliya && aliya.map((val, index) => {\n                return (<li key={`_${index}`} className='marginTop30px flex-row'>\n                    <Form.Group className='d-flex flex-100 margin15 flex-row' controlId={`${index}}`}>\n                        <Form.Check className={`flex-10 text-center`} type='checkbox' value={val.id}\n                                    onChange={(e) => selectedVerse(e, val)}\n                                    disabled={val.taken}/>\n                        <Form.Label id={`_${val._id}}`}\n                                    className={`flex-90 flex-column text-right ${val.taken && 'disabled-color'}`}>\n                            <VersesRange val={val}/>\n                        </Form.Label>\n                    </Form.Group>\n                </li>)\n            })}\n            </ol>\n        </div>\n    )\n}\n\nconst styles = {\n    gray: {\n        color: 'gray',\n        fontSize: '14px',\n    },\n    list: {\n        listStyleType: 'circle'\n    }\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport NextButton from \"../components/NextButton\";\nimport {Hello} from \"../components/Hello\";\nimport {SearchTypes} from \"../config\";\nimport {countWeight} from \"../utils\";\nimport {FirstAndLastLetter} from \"../searches/FirstAndLastLetter\";\nimport {FreeSearch} from \"../searches/FreeSearch\";\nimport {VerseYourName} from \"../searches/VerseYourName\";\nimport {Gematria} from \"../searches/Gematria\";\nimport {AmountSearch} from \"../searches/AmountSearch\";\nimport {RandomSearch} from \"../searches/RandomSearch\";\nimport MyList from \"../components/List\";\nimport {ByDate} from \"../searches/ByDate\";\nimport {Aliya} from \"../searches/Aliya\";\nimport rest from '../rest';\n\nexport const Step4 = ({nextStep, app, location, actions}) => {\n    const [searchType, setSearchType] = useState(-1);\n    const [versesSelected, setVersesSelected] = useState(0);\n    const [reachedToBottom, setReachedToBottom] = useState(false);\n    const [amount, setAmount] = useState(0);\n\n    useEffect(() => {\n        const params = new URLSearchParams(location.search);\n        setSearchType(params.get('searchType'));\n    }, []);\n    useEffect(() => {\n        if (!app.donate.name) {\n            console.log('bad access');\n        }\n    }, [])\n    useEffect(() => {\n        getTotalAmount();\n    }, [versesSelected])\n\n    const getSelectedSearchType = () => {\n        switch (searchType) {\n            case SearchTypes.firstAndLastLetter: {\n                return <FirstAndLastLetter searchType={SearchTypes.firstAndLastLetter} donate={app.donate}\n                                           book={app.selectedBook} callback={canContinue} actions={actions}\n                                           reachedToBottom={reachedToBottom}/>\n            }\n            case SearchTypes.freeSearch: {\n                return <FreeSearch searchType={SearchTypes.freeSearch} donate={app.donate} book={app.selectedBook}\n                                   callback={canContinue} actions={actions} reachedToBottom={reachedToBottom}/>\n            }\n            case SearchTypes.verseYourName: {\n                return <VerseYourName searchType={SearchTypes.verseYourName} donate={app.donate} book={app.selectedBook}\n                                      callback={canContinue} actions={actions} reachedToBottom={reachedToBottom}/>\n            }\n            case SearchTypes.gematria: {\n                return <Gematria searchType={SearchTypes.gematria} donate={app.donate} book={app.selectedBook}\n                                 callback={canContinue} actions={actions} reachedToBottom={reachedToBottom}/>\n            }\n            case SearchTypes.amount: {\n                return <AmountSearch searchType={SearchTypes.amount} donate={app.donate} book={app.selectedBook}\n                                     callback={canContinue} actions={actions} reachedToBottom={reachedToBottom}/>\n            }\n            case SearchTypes.random: {\n                return <RandomSearch searchType={SearchTypes.random} donate={app.donate} book={app.selectedBook}\n                                     callback={canContinue} actions={actions} reachedToBottom={reachedToBottom}/>\n            }\n            case SearchTypes.byDate: {\n                return <ByDate searchType={SearchTypes.byDate} donate={app.donate} book={app.selectedBook}\n                                     callback={canContinue} actions={actions} reachedToBottom={reachedToBottom}/>\n            }\n            case SearchTypes.aliya: {\n                return <Aliya searchType={SearchTypes.aliya} donate={app.donate} book={app.selectedBook}\n                                     callback={canContinue} actions={actions} reachedToBottom={reachedToBottom}/>\n            }\n            default:\n                return <div>חיפוש לא קיים</div>\n        }\n    }\n\n    const canContinue = (can) => {\n        setVersesSelected(can);\n    }\n\n    const nextStepButton = () => {\n        if (versesSelected) {\n            nextStep();\n        }\n    }\n\n    const getTotalAmount = () => {\n        rest.getSelectedVersesPriceAndAmount(app.selectedVerses)\n            .then(res => {\n                setAmount(res.price);\n            })\n        // let amount = 0;\n        // app.selectedVerses.map(val => {\n            // amount += countWeight(val.textWithout)\n        // });\n        // return amount;\n    }\n\n    const reachedBottom = (status) => {\n        setReachedToBottom(status);\n    }\n\n    return (\n        <div\n            className='step4 flex-column flex-100 padd10 justify-content-center align-content-center align-items-center text-center height-inherit'>\n            <div\n                className='d-flex flex-wrap justify-content-around justify-content-center align-content-center align-items-center'>\n                {/*<MyList callback={reachedBottom}>*/}\n                    {getSelectedSearchType()}\n                {/*</MyList>*/}\n            </div>\n            <div className=\"stickyFooter totalToPay width100\">\n                <div className='d-flex flex-row layout-align-space-around align-items-center'>\n                    <div\n                        className='d-flex flex-column justify-content-center align-content-center align-items-center'>\n                        <div>\n                            סה\"כ אותיות:\n                        </div>\n                        {<div>{amount}</div>}\n                    </div>\n                    <div className='d-flex flex-column justify-content-center align-content-center align-items-center'>\n                        <div>סה\"כ לתשלום:</div>\n                        {<div>₪{amount}</div>}\n                    </div>\n                    <NextButton disabled={versesSelected === 0} clicked={nextStepButton} text={'לחץ למצווה'}/>\n                </div>\n            </div>\n        </div>\n    )\n};\n","import React, {Component, useEffect, useState} from \"react\";\nimport NextButton from \"../components/NextButton\";\nimport {Hello} from \"../components/Hello\";\nimport {Button, Form, Navbar} from \"react-bootstrap\";\nimport {countWeight} from \"../utils\";\nimport rest from \"../rest\";\nimport {VersesRange} from \"../components/VersesRange\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport * as ICONS from \"@fortawesome/free-solid-svg-icons\";\nimport ShoppingCartIcon from \"../assets/shopping-cart.svg\"\nimport { VerseLocation } from \"../components/VerseLocation\";\nimport { VerseDisplay } from \"../components/VerseDisplay\";\n\nexport const Step5 = ({nextStep, app, actions}) => {\n    // const [blessFor, setBlessFor] = useState({});\n    const [selectedVerses, setSelectedVerses] = useState([]);\n    const [toUpdate, setToUpdate] = useState([]);\n\n    useEffect(() => {\n        setSelectedVerses(app.selectedVerses);\n    }, [selectedVerses])\n\n    useEffect(() => {\n        Promise.all(selectedVerses && selectedVerses.filter(v => v.range).map(v => {\n            return rest.getSelectedVersesPriceAndAmount([v], app.selectedBook)\n                .then(res => {\n                    v.price = res.price;\n                    return res.price;\n                })\n        })).then((results) => {\n            console.log(results);\n            if (results && results.length) {\n                setToUpdate(results);\n            }\n        })\n    }, [selectedVerses])\n\n    const updateSelected = (e, v, val) => {\n        const name = e.target.name;\n        const value = e.target.checked;\n        if (!val.bless) {\n            val.bless = [];\n        }\n        if (value === true) {\n            val.bless.push(v);\n        } else {\n            const index = val.bless.findIndex(t => t.name === v.name);\n            val.bless.splice(index, 1);\n        }\n        actions.setSelectedVerses(selectedVerses);\n    }\n\n    const nextStepButton = () => {\n        const canContinue = selectedVerses.find(v => !v.bless?.length);\n        if (!canContinue && selectedVerses.length) {\n            const selectedIds = selectedVerses.map(v => v._id);\n            if (app.cart.find(v => selectedIds.includes(v._id))) {\n                actions.updateModal({\n                    show: true,\n                    title: 'שים לב',\n                    body: 'המוצר כבר נמצא בסל',\n                    hideFooter: true,\n                });\n            } else {\n                actions.addToCart(selectedVerses);\n                rest.checkAvailability(\n                    app.selectedBook._id,\n                    selectedVerses.filter(v => !v.range).map(v => v._id),\n                    selectedVerses.filter(v => v.range),\n                    true,\n                )\n                    .then(response => {\n                        if (response.success) {\n                            nextStep();\n                        } else if (response.data) {\n\n                        }\n                    })\n                    .catch(err => {\n\n                    })\n            }\n        }\n    }\n\n    const removeItem = (index) => {\n        const text = \"האם אתה בטוח?\";\n        if (window.confirm(text) == true) {\n            selectedVerses.splice(index, 1);\n            actions.setSelectedVerses(selectedVerses);\n            toUpdate.splice(index, 1);\n        }\n    }\n\n    const addToCart = () => {\n        const canContinue = selectedVerses.find(v => !v.bless?.length);\n        if (!canContinue) {\n            const selectedIds = selectedVerses.map(v => v._id);\n            if (app.cart.find(v => selectedIds.includes(v._id))) {\n                alert('המוצר כבר נמצא בסל');\n            } else {\n                actions.addToCart(selectedVerses);\n                window.history.back();\n            }\n        }\n    }\n\n    const getBlessElem = (val) => {\n        return <div className='mt-1 text-right'>\n            <h6>\n                התרומה מיועדת ל:\n            </h6>\n            <div\n                className='d-flex flex-row flex-wrap'>\n                {[\n                    {name: 'פרנסה'},\n                    {name: 'עילוי שם'},\n                    {name: 'רפואה שלימה'},\n                    {name: 'הצלחה'},\n                    {name: 'זיווג הגון'},\n                    {name: 'לכל הישועות'},\n                ].map((v, vi) => {\n                    return (\n                        <Form.Group key={vi} className='ml-3' controlId={`${val._id}_${vi}`}>\n                            <Form.Check className='text-center myCheckbox custom-checkbox'\n                                        checked={val.bless?.find(t => t.name === v.name) ?? ''}\n                                        label={v.name} type='checkbox' value={v.name}\n                                        name={v.name}\n                                        onChange={(e) => updateSelected(e, v, val)}/>\n                        </Form.Group>)\n                })}\n            </div>\n        </div>\n    }\n    return (\n        <div\n            className='step5 d-flex flex-column flex-100 padd20 justify-content-start align-content-center align-items-center text-center height-inherit'>\n            {/* <Hello donate={app.donate}/> */}\n            <img src={ShoppingCartIcon} alt=\"Shopping Cart Icon\" width=\"45px\"/>\n            <h2>סיכום הזמנתכם:</h2>\n            <ol className='width100 p-0 list-unstyled'>\n                {selectedVerses && selectedVerses.map((val, index) => {\n                    return <li key={index} className=\"verse-box\">\n                        {/* <Form.Group controlId={'verse'} key={val._id}>\n                            <Form.Label className='d-flex flex-row align-content-center align-items-center justify-content-between'>\n                                <span className=\"fontWeight900\">אנא בדקו שזהו הפסוק שבחר לבכם:</span>\n                                <FontAwesomeIcon onClick={() => removeItem(val._id)} className='pointer marginLeft5px' icon={ICONS.faTrash}/>\n                            </Form.Label>\n                            <hr className=\"spacer\"/>\n                            {!val.range && <Form.Control className='text-center' as='textarea' placeholder={'הפסוק שנבחר'}\n                                          value={val.text} name='verse' disabled={true}/>}\n                            {val.range && <VersesRange val={val} withBook={true}/>}\n                        </Form.Group>\n                        {!val.range && <div className='d-flex flex-row layout-align-space-around align-items-center'>\n                            <div\n                                className='d-flex flex-column justify-content-center align-content-center align-items-center'>\n                                <div>\n                                    סה\"כ אותיות:\n                                </div>\n                                {<div>{countWeight(val.textWithout)}</div>}\n                            </div>\n                            <div\n                                className='d-flex flex-column justify-content-center align-content-center align-items-center'>\n                                <div>סה\"כ לתשלום:</div>\n                                {<div>₪{countWeight(val.textWithout)}</div>}\n                            </div>\n                        </div>}\n                        {getBlessElem(val)}\n                        <hr/> */}\n                        \n\n                        {/* <Form.Group controlId={'verse'} key={val._id}> */}\n                            <div className='d-flex flex-row align-content-center align-items-center justify-content-between'>\n                                <span className=\"fontWeight900\">אנא בדקו שזהו הפסוק שבחר לבכם:</span>\n                                <FontAwesomeIcon onClick={() => removeItem(val._id)} className='pointer marginLeft5px' icon={ICONS.faTrash}/>\n                            </div>\n                            <hr className=\"spacer\"/>\n                            {!val.range && <VerseDisplay val={val} showLength isCartDisplay={true}/>}\n                            {val.range && <VersesRange val={val} withBook={true}/>}\n                            <hr className=\"spacer\"/>\n                        {/* </Form.Group> */}\n                        {getBlessElem(val)}\n                        {/* <hr/> */}\n\n                    </li>\n                })}\n            </ol>\n            <h2 className=\"pb-4\">{`סה״כ לתשלום ${'---'} ש״ח`}</h2>\n\n            <div className=\"d-flex flex-column width100 \">\n                <NextButton clicked={addToCart} text={'המשך חיפוש'} variant=\"primary\" block styles={{}}/>\n                <NextButton clicked={nextStepButton} text={'תשלום'} variant=\"secondary\" block styles={{}}/>\n            </div>\n        </div>\n    )\n};\n","import React from \"react\";\nimport { Button, ProgressBar } from \"react-bootstrap\";\nimport \"../css/book-select.scss\";\nimport { Progressbar } from \"./Progressbar\";\n\nexport const BookSelect = ({ book, selectBtnLabel = \"בחירה\", onSelectBook, categoryName }) => {\n\n  return (\n    <div className=\"mt-3 d-flex  mx-4 book-select\">\n      <Progressbar\n        width={30}\n        height={30}\n        value={(book.versesAmount / book.totalVerses) * 100}\n        className='pr-2'\n      />\n      <div className=\"d-flex flex-column fontWeight900 details\">\n        <span>{categoryName} {book.description}</span>\n        <span className=\"address\">{book.address}</span>\n      </div>\n      <Button variant=\"secondary mr-auto\" onClick={() => onSelectBook(book)} >{selectBtnLabel}</Button>\n    </div>\n  );\n};\n","import React, { Component, useEffect, useState } from \"react\";\nimport NextButton from \"../components/NextButton\";\nimport { Hello } from \"../components/Hello\";\nimport { Button, Form } from \"react-bootstrap\";\nimport { Book } from \"../components/Book\";\nimport rest from \"../rest\";\nimport { BookSelect } from \"../components/BookSelect\";\nimport { BooksCategoriesKeys, BooksCategoriesSingularValues } from \"../config\";\n\nexport const Step6 = ({ nextStep, app, actions, location }) => {\n  const [books, setBooks] = useState([]);\n  const [selectedBook, setSelectedBook] = useState(null);\n\n  //TODO: get type by prop/state\n  const category = new URLSearchParams(location.search).get('category') ?? BooksCategoriesKeys.synagogues\n  useEffect(() => {\n    rest\n      // .getBooksByCategory(category)\n      .getAllBooks()\n      .then((res) => {\n       // setBooks(res.data);\n       //TODO: test\n       setBooks(Array(12).fill(res.data[0]));\n      })\n      .catch(() => {})\n      .finally(() => {});\n  }, []);\n\n  useEffect(() => {\n    setSelectedBook(app.selectedBook);\n  }, []);\n\n  const updateSelected = (e, val) => {\n    const name = e.target.name;\n    const value = e.target.checked;\n    setSelectedBook(val);\n  };\n\n  const nextStepButton = () => {\n    if (selectedBook && selectedBook._id) {\n      actions.setSelectedBook(selectedBook);\n      nextStep();\n    }\n  };\n\n  const handleBookSelect = (book) => {\n    actions.setSelectedBook(book);\n    nextStep();\n  };\n  const categoryName = BooksCategoriesSingularValues[category];\n\n  return (\n    <div className=\"step6 flex-column flex-100 justify-content-center align-content-center align-items-center text-center height-inherit\">\n      <div className=\"position-relative\">\n        <img src={`/assets/${category}.png`} alt=\"Type\" width=\"100%\" />\n        <h2 className=\"image-text\">{categoryName}</h2>\n      </div>\n      <h2 className=\"paddTop20px\">בחרו {categoryName}</h2>\n      <p>בחרו {categoryName} בו תרצו לתרום פסוק לספר התורה</p>\n      <div className=\"text-right\">\n        {books.map((val, index) => {\n          return (\n            // <div key={`_${index}`} className='marginTop30px flex-row'>\n            //     <Form.Group className='d-flex flex-100 margin15 flex-row' controlId={`${index}`}>\n            //         <Form.Check className='flex-10 text-center' checked={selectedBook && selectedBook._id === val._id}\n            //                     type='radio' value={val._id} name={'sameGroup'}\n            //                     onChange={(e) => updateSelected(e, val)}/>\n            //         <Form.Label id={`${index}`} className={`flex-90 flex-column text-right`}>\n            //             <Book {...val}/>\n            //         </Form.Label>\n            //     </Form.Group>\n            // </div>\n            <BookSelect\n              key={`_${index}`}\n              book={val}\n              onSelectBook={handleBookSelect}\n              categoryName={categoryName}\n            />\n          );\n        })}\n      </div>\n      {/* <div className=\"width100 marginTop30px\">\n        <NextButton clicked={nextStepButton} text={\"לחץ למצווה\"} />\n      </div> */}\n    </div>\n  );\n};\n","//שימו לב!! שיטת הפוסטמסג' לא עובדת בשרת מקומי (localhost). חובה להעלות את הקוד שלכם לדומיין שלכם.\n\nwindow.onerror = function (msg, url, line, col, error) {\n    // alert(\"שגיאת תוכנה. פנה לתמיכה טכנית. שגיאה: \" + msg)\n}\n\n//זהירות! את השורת קוד הזו יש להפעיל רק פעם אחת בעת פתיחת הדף\nwindow.onload = function () {\n    // if (window.addEventListener) { window.addEventListener(\"message\", ReadPostMessage, false); } else { window.attachEvent(\"onmessage\", ReadPostMessage); }\n    // document.getElementById('NedarimFrame').onload = function () { console.log('StartNedarim'); PostNedarim({'Name':'GetHeight'}) }\n    // document.getElementById('NedarimFrame').src = \"https://matara.pro/nedarimplus/iframe?language=he\";\n}\nexport function loadPaymentScripts() {\n    if (window.addEventListener) { window.addEventListener(\"message\", ReadPostMessage, false); } else { window.attachEvent(\"onmessage\", ReadPostMessage); }\n    document.getElementById('NedarimFrame').onload = function () { /*console.log('StartNedarim'); */PostNedarim({'Name':'GetHeight'}) }\n    document.getElementById('NedarimFrame').src = \"https://matara.pro/nedarimplus/iframe?language=he&Captcha=1\";\n    document.getElementById('PayBtDiv').style.display = 'block';\n\n\n}\n///////////////////////////////\n\nexport function PostNedarim(Data) { var iframeWin = document.getElementById('NedarimFrame').contentWindow; iframeWin.postMessage(Data, \"*\"); };\nfunction ReadPostMessage(event) {\n    // console.log(event.data);\n    switch (event.data.Name) {\n        case 'Height':\n            //Here you get the height of iframe | event.data.Value\n            document.getElementById('NedarimFrame').style.height = (parseInt(event.data.Value - 150) + 15) + \"px\";\n            document.getElementById('WaitNedarimFrame').style.display = 'none';\n            break;\n\n        case 'TransactionResponse':\n            // document.getElementById('Result').innerHTML = '<b>TransactionResponse:<br/>' + JSON.stringify(event.data.Value) + '</b><br/>see full data in console';\n            console.log(event.data.Value)\n            if (event.data.Value.Status == 'Error') {\n                document.getElementById('ErrorDiv').innerHTML = event.data.Value.Message\n                document.getElementById('WaitPay').style.display = 'none';\n                document.getElementById('PayBtDiv').style.display = 'block';\n            } else {\n                document.getElementById('WaitPay').style.display = 'none';\n                document.getElementById('OkDiv').style.display = 'block';\n            }\n    }\n}\nfunction PayBtClick() {\n    document.getElementById('Result').innerHTML = ''\n    document.getElementById('PayBtDiv').style.display = 'none';\n    document.getElementById('OkDiv').style.display = 'none';\n    document.getElementById('WaitPay').style.display = 'block';\n    document.getElementById('ErrorDiv').innerHTML = '';\n    PostNedarim({\n        'Name': 'FinishTransaction2',\n        'Value': {\n            'Mosad': document.getElementById('MosadId').value,\n            'ApiValid': document.getElementById('ApiValid').value,\n            'PaymentType': document.getElementById(\"PaymentType\").value,\n            'Currency': '1',\n\n            'Zeout': '',\n            'FirstName': document.getElementById('ClientName').value,\n            'LastName': '',\n            'Street': document.getElementById('Street').value,\n            'City': document.getElementById('City').value,\n            'Phone': '',\n            'Mail': '',\n\n            'Amount': document.getElementById('Amount').value,\n            'Tashlumim': '1',\n\n            'Groupe': '',\n            'Comment': 'בדיקת אייפרם 2',\n\n            'Param1': 'פרמטר 1',\n            'Param2': '',\n            'ForceUpdateMatching': '1', //מיועד לקמפיין אם מעוניינים שהמידע יידחף ליעד, למרות שזה לא נהוג באייפרם\n\n            'CallBack': '', //מיועד לקבלת WEBHOOK לאחר כל עסקה / סירוב\n            'CallBackMailError': '', //מיועד לקבלת התראה על תקלת בשליחת קאלבק למייל של המפתח במקום למייל של אנשי הקשר של המוסד\n\n            'Tokef': document.getElementById('Tokef').value //אם אתם מנהלים את התוקף בדף שלכם (מיועד למי שרוצה להפריד בין חודש לשנה ורוצה לעצב מותאם אישית)\n\n        }\n    });\n}\n","import React, {Component, useEffect, useState} from \"react\";\nimport {Button,} from 'react-bootstrap';\nimport rest from \"../rest\";\nimport {v4 as uuidv4} from 'uuid';\nimport {loadPaymentScripts, PostNedarim} from '../payment.script';\nimport {Loader} from \"../components/Loader\";\n\n// todo: disable the payment after 5 min by server queue\n/**\n * save the verses with unique ID in the pending_payments and return the price to the payment provider\n * create a long polling with the generated ID to check if it's done\n */\n\nconst MosadId = process.env.REACT_APP_MOSADID;\nconst ApiValid = process.env.REACT_APP_APIVALID;\nlet domain = 'https://1b10-93-173-224-240.ngrok.io';\n\nif (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n} else {\n    domain = window.DOMAIN;\n}\n\nexport const Step7 = ({nextStep, actions, app}) => {\n    const [amount, setAmount] = useState(0);\n    const [selectedVerses, setSelectedVerses] = useState([]);\n    const uniqueId = uuidv4();\n\n    useEffect(() => {\n        setSelectedVerses(app.cart);\n    }, []);\n\n    useEffect(() => {\n        setSelectedVerses(app.cart);\n    }, [app.cart]);\n\n    useEffect(() => {\n        getAmount();\n    }, [selectedVerses]);\n\n    useEffect(() => {\n        setTimeout(() => {\n            loadPaymentScripts();\n        }, 2500);\n    }, [amount]);\n\n    useEffect(() => {\n        rest.updateBuyingVerses({\n            donate: app.donate,\n            selectedBook: app.selectedBook,\n            verses: selectedVerses.filter(v => !v.range),\n            ranges: selectedVerses.filter(v => v.range),\n            checkout: uniqueId,\n        })\n            .then(response => {\n                checkPaymentStatus(uniqueId)\n            })\n    }, [amount]);\n\n    const checkPaymentStatus = (id) => {\n        rest.checkIFPaymentIsDone(id)\n            .then((response) => {\n                if (response && response.success) {\n                    if (window.gtag) {\n                        window.gtag('event', 'purchase', {\n                            name: app.donate.name,\n                            phone: app.donate.phone,\n                            email: app.donate.email,\n                            amount,\n                            uniqueId,\n                        });\n                    }\n                    payed();\n                } else {\n                    setTimeout(() => {\n                        checkPaymentStatus(id);\n                    }, 1000 * 10);\n                }\n            })\n    }\n    const payed = () => {\n        nextStep();\n    }\n\n    const getAmount = () => {\n        rest.checkAvailability(\n            app.selectedBook._id,\n            selectedVerses.filter(v => !v.range).map(v => v._id),\n            selectedVerses.filter(v => v.range),\n            true,\n        )\n            .then(response => {\n                if (response.success) {\n                    rest.getSelectedVersesPriceAndAmount(selectedVerses/*, uniqueId*/)\n                        .then(res => {\n                            setAmount(res.price);\n                        })\n                } else {\n                    setAmount(0);\n                }\n            })\n            .catch(err => {\n                console.log(err.message)\n            })\n    }\n\n    const PayBtClick = () => {\n        if (!amount || amount === 0) {\n            alert('תם הזמן, נא רענן את הדף ונסה שנית');\n            return;\n        }\n        document.getElementById('Result').innerHTML = ''\n        document.getElementById('PayBtDiv').style.display = 'none';\n        document.getElementById('OkDiv').style.display = 'none';\n        document.getElementById('WaitPay').style.display = 'block';\n        document.getElementById('ErrorDiv').innerHTML = '';\n        PostNedarim({\n            'Name': 'FinishTransaction2',\n            'Value': {\n                'Mosad': MosadId,\n                'ApiValid': ApiValid,\n                'PaymentType': 'Ragil',\n                'Currency': '1',\n\n                'Zeout':  document.getElementById('Zeout').value,\n                'FirstName': app.donate.name,\n                'LastName': app.donate.lastName,\n                'Street': app.donate.address,\n                'City': '',\n                'Phone': app.donate.phone,\n                'Mail': app.donate.email,\n\n                'Amount': amount,\n                'Tashlumim': '1',\n\n                'Groupe': '',\n                'Comment': uniqueId,\n\n                'Param1': uniqueId,\n                'Param2': '',\n                'ForceUpdateMatching': '1', //מיועד לקמפיין אם מעוניינים שהמידע יידחף ליעד, למרות שזה לא נהוג באייפרם\n\n                'CallBack': domain + '/payment', //מיועד לקבלת WEBHOOK לאחר כל עסקה / סירוב\n                'CallBackMailError': 'toraletter@gmail.com', //מיועד לקבלת התראה על תקלת בשליחת קאלבק למייל של המפתח במקום למייל של אנשי הקשר של המוסד\n\n                // 'Tokef': document.getElementById('Tokef').value //אם אתם מנהלים את התוקף בדף שלכם (מיועד למי שרוצה להפריד בין חודש לשנה ורוצה לעצב מותאם אישית)\n\n            }\n        });\n    }\n\n    return (\n        <div\n            className='step7 d-flex flex-column flex-100 padd10 justify-content-center align-content-center align-items-center  text-center height-inherit'>\n            <h1 className=\"paddBottom10px\">\n                דף תשלום\n            </h1>\n            <div className='width100' style={{marginBottom: '150px'}}>\n                {amount !== 0 && <React.Fragment>\n                    <div\n                     style={{\n                         \"verticalAlign\": \"top\",\n                         \"textAlign\": \"right\",\n                         \"margin\": \"15px 0px 15px 0px\",\n                         \"minWidth\":\"100%\",\n                         \"-webkitBoxSizing\": \"border-box\",\n                     }}>\n                    <span\n                          style={{\n                              \"textAlign\": \"right\",\n                              \"minWidth\": \"100%\",\n                              \"marginRight\": \"1px\",\n                              \"color\": \"#808080\",\n                          }}>סכום:</span>\n                    <br/>\n                    <input disabled={true} type=\"number\" name=\"Amount\" style={{\n                        color: 'black',\n                        width: '-webkit-fill-available',\n                        height: '23.5px',\n                    }} value={amount} className=\"TextBox\"/>\n                </div>\n                    <div\n                        style={{\n                            \"verticalAlign\": \"top\",\n                            \"textAlign\": \"right\",\n                            \"margin\": \"15px 0px 15px 0px\",\n                            \"minWidth\":\"100%\",\n                            \"-webkitBoxSizing\": \"border-box\",\n                        }}>\n                    <span\n                        style={{\n                            \"textAlign\": \"right\",\n                            \"minWidth\": \"100%\",\n                            \"marginRight\": \"1px\",\n                            \"color\": \"#808080\",\n                        }}>תעודת זהות:</span>\n                        <br/>\n                        <input type=\"tel\" id='Zeout' name=\"Zeout\" style={{\n                            color: 'black',\n                            width: '-webkit-fill-available',\n                            height: '23.5px',\n                        }} className=\"TextBox\"/>\n                    </div>\n                </React.Fragment>}\n                <iframe id=\"NedarimFrame\" className={`w-100 ${amount !== 0 ? 'hasBorder' : ''}`} frameBorder='none'  src=\"about:blank\"/>\n                <div id=\"WaitNedarimFrame\">\n                    <Loader/>\n                    <br/>Connecting to PCI Server...\n                </div>\n\n                <div id=\"OkDiv\"\n                     style={{display: 'none'}}\n                >\n                    העסקה בוצעה בהצלחה\n                </div>\n\n                <div id=\"PayBtDiv\" style={{display: 'none'}}>\n                    <Button id=\"PayBt\" className=\"btn\" onClick={PayBtClick}>\n                        ביצוע תשלום\n                    </Button>\n                    <div id=\"ErrorDiv\" className='paddTop10px'></div>\n                </div>\n                <div\n                    style={{display: 'none'}}\n                    id=\"WaitPay\">\n                    <Loader/>\n                    <br/>מבצע חיוב, נא להמתין...\n                </div>\n\n                <div id=\"Result\"></div>\n            </div>\n        </div>\n    )\n};\n","import React, {Component, useEffect} from \"react\";\nimport rest from \"../rest\";\n\nexport const Step8 = ({history, app, actions}) => {\n    useEffect(() => {\n        const donate = app.donate;\n        const verses = app.selectedVerses;\n        const selectedBook = app.selectedBook._id;\n        if (verses.length) {\n            setTimeout(() => {\n                actions.clearAll();\n                actions.resetAppData();\n            }, 5000);\n        }\n    }, []);\n\n    return (\n        <div\n            className='step0 d-flex flex-column flex-100 padd10 justify-content-center align-content-center align-items-center  text-center height-inherit'>\n            <h1 className=\"paddBottom10px\">\n                תודה רבה על תרומתך\n            </h1>\n        </div>\n    )\n};\n","import React, {Component} from \"react\";\nimport {bindActionCreators} from 'redux';\nimport '../css/home.scss';\nimport * as app_actions from '../store/app/actions';\nimport {Step0} from \"../steps/Step0\";\nimport {Step1New} from \"../steps/Step1New\";\nimport {Step1} from \"../steps/Step1\";\nimport {Step2} from \"../steps/Step2\";\nimport {Step3} from \"../steps/Step3\";\nimport {Step4} from \"../steps/Step4\";\nimport {Step5} from \"../steps/Step5\";\nimport {Step6} from \"../steps/Step6\";\nimport {Step7} from \"../steps/Step7\";\nimport {Step8} from \"../steps/Step8\";\n\nimport {connect} from \"react-redux\";\n\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            currStep: 0,\n        };\n    }\n\n    componentWillMount() {\n    }\n\n    componentDidMount() {\n        const step = new URLSearchParams(this.props.location.search).get(\"step\");\n        if (step) {\n            this.setState({currStep: Number(step)});\n        }\n    }\n\n    componentWillUnmount() {\n\n    }\n\n    nextStep(data = {}) {\n        let {history} = this.props;\n        const step = this.state.currStep + 1;\n        let search = `?step=${step}`;\n        if (data.hasOwnProperty('searchType')) {\n            search += `&searchType=${data.searchType}`;\n        }\n        const category = data.category ?? new URLSearchParams(this.props.location.search).get('category');\n        if (category) {\n            search += `&category=${category}`;\n        }\n        history.push({\n            pathname: `/${step}`,\n            search: search,\n            state: {step, searchType: data.searchType},\n        });\n    }\n\n    renderSteps() {\n        const step = this.state.currStep;\n        switch(step) {\n            case 0: return <Step0 nextStep={this.nextStep.bind(this)} {...this.props}/>;\n            case 1: return <Step1New nextStep={this.nextStep.bind(this)} {...this.props}/>;\n            case 2: return <Step1 nextStep={this.nextStep.bind(this)} {...this.props}/>;\n            case 3: return <Step6 nextStep={this.nextStep.bind(this)} {...this.props}/>;\n            case 4: return <Step3 nextStep={this.nextStep.bind(this)} {...this.props}/>;\n            case 5: return <Step4 nextStep={this.nextStep.bind(this)} {...this.props}/>;\n            case 6: return <Step2 nextStep={this.nextStep.bind(this)} {...this.props}/>;\n            case 7: return <Step5 nextStep={this.nextStep.bind(this)} {...this.props}/>;\n            case 8: return <Step7 nextStep={this.nextStep.bind(this)} {...this.props}/>;\n            case 9: return <Step8 nextStep={this.nextStep.bind(this)} {...this.props}/>;\n            default: return <div></div>\n        }\n    }\n\n    render() {\n        return (\n            <div className={'page flex-100 d-flex'}>\n                {\n                    this.renderSteps()\n                }\n            </div>\n        )\n    }\n}\n\n\nfunction mapStateToProps(state) {\n    return {\n        app: state.app,\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    const creators = app_actions;\n\n    return {\n        actions: bindActionCreators(creators, dispatch),\n        dispatch\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","import React, { Component } from \"react\";\nimport {bindActionCreators} from 'redux';\nimport * as app_actions from '../store/app/actions';\nimport \"../css/Login.css\";\nimport Form from '../components/Form'\nimport {getLoginForm} from '../config';\nimport rest from '../rest';\nimport {connect} from \"react-redux\";\nimport $ from 'jquery';\n\nclass Login extends Component {\n    constructor (props) {\n        super(props);\n        this.state = {\n            loading: false\n        }\n    }\n\n    submit(fields){\n        this.setState({loading: true});\n        let toS = {\n            user:fields.user.value,\n            password:fields.password.value,\n        }\n        rest.login(toS)\n            .then((data)=>{\n                return {token: data.token};\n            })\n            .then(this.props.actions.login)\n            .then(()=>{\n                let { history } = this.props;\n                history.replace({pathname: '/management'});\n            })\n            .catch((err)=>{\n                console.error(err.message);\n            })\n            .finally(()=>{\n                this.setState({loading: false});\n            })\n    }\n\n    render () {\n        return (\n            <div className={'page flex-100'}>\n                <h3 className=\"loginTitle display-flex flex justify-content-center align-content-center width100 padd15px\">\n                    ממשק מנהל\n                </h3>\n                <div className='flex-100 padd15'>\n                <Form fields={getLoginForm()} callback={this.submit.bind(this)} loading={this.state.loading}\n                      forgetPass={true} history={this.props.history} hidePolicy={true} submitText={\"התחבר\"}\n                />\n                </div>\n            </div>\n        )\n    }\n}\n\n\nfunction mapStateToProps(state) {\n    return {\n        app: state.app,\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    const creators = app_actions; // [].concat.apply([],actions).filter(value => typeof value === 'function');\n\n    return {\n        actions: bindActionCreators(creators, dispatch),\n        dispatch\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n\n","import React, {Component} from \"react\";\nimport '../css/Management.scss'\nimport rest from '../rest';\nimport {bindActionCreators} from 'redux';\nimport * as app_actions from '../store/app/actions';\nimport {connect} from \"react-redux\";\nimport * as ActionButton from \"react-floating-action-button\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport * as ICONS from \"@fortawesome/free-solid-svg-icons\";\nimport MyModal from \"../components/Modal\";\nimport Form from \"../components/Form\";\nimport {getBookForm, uploadImage} from \"../config\";\nimport {Book} from '../components/Book';\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\nimport Button from \"react-bootstrap/Button\";\n\nclass Management extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            books: [],\n            showBookModal: false,\n            showBookModalLoading: false,\n        }\n    }\n\n    componentWillMount() {\n        this.getBooks();\n    }\n\n    getBooks() {\n        rest.getManagementBooks()\n            .then((res) => {\n                this.setState({books: res.data});\n            })\n            .catch(() => {\n            })\n            .finally(() => {\n                this.setState({loading: false});\n            })\n    }\n\n    addBookAction() {\n        this.bookForm = getBookForm();\n        this.bookFormCallback = this.addBook.bind(this);\n        this.toggleBookModal();\n    }\n\n    toggleBookModal() {\n        this.setState({showBookModal: !this.state.showBookModal, showBookModalLoading: false});\n    }\n\n    toggleUploadImageModal() {\n        this.setState({showUploadImageModal: !this.state.showUploadImageModal, uploadImageModalLoading: false});\n    }\n\n    addBook(data) {\n        const toSend = new FormData();\n        Object.keys(data).forEach(k => {\n            if (k === 'image_url' && data[k].value) {\n                toSend.append(k, data[k].value[0]);\n            } else {\n                toSend.append(k, data[k].value);\n            }\n        });\n        this.setState({showBookModalLoading: true});\n        rest.addBook(toSend)\n            .then((data) => {\n                this.toggleBookModal();\n                this.getBooks();\n            })\n            .catch(() => {\n                this.setState({showBookModalLoading: false});\n            })\n            .finally(() => {\n            })\n    }\n\n    deleteBook(book) {\n        rest.deleteBook(book._id)\n            .then((data) => {\n                this.getBooks();\n            })\n            .catch(() => {\n            })\n            .finally(() => {\n            })\n    }\n\n    restoreBook(book) {\n        rest.restoreBook(book._id)\n            .then((data) => {\n                this.getBooks();\n            })\n            .catch(() => {\n            })\n            .finally(() => {\n            })\n    }\n    removeBookPermanently(book) {\n        const text = \"האם אתה בטוח?\";\n        if (window.confirm(text) == true) {\n            rest.removeBookPermanently(book._id)\n                .then((data) => {\n                    this.getBooks();\n                })\n                .catch(() => {\n                })\n                .finally(() => {\n                })\n        }\n    }\n\n    updateBookAction(book) {\n        this.bookForm = getBookForm();\n        this.bookFormCallback = this.updateBook.bind(this, book._id);\n        Object.keys(this.bookForm).forEach(k => {\n            this.bookForm[k].value = book[k];\n        })\n        this.toggleBookModal();\n    }\n\n    uploadImageAction(book) {\n        this.bookForm = uploadImage();\n        this.bookFormCallback = this.uploadImage.bind(this, book._id);\n        Object.keys(this.bookForm).forEach(k => {\n            this.bookForm[k].value = book[k];\n        })\n        this.toggleUploadImageModal();\n    }\n\n    updateBook(bookId, data) {\n        const toSend = new FormData();\n        Object.keys(data).forEach(k => {\n            if (k !== 'image_url'){\n                toSend.append(k, data[k].value);\n            }\n        });\n        this.setState({uploadImageModalLoading: true});\n        rest.updateBook(bookId, toSend)\n            .then((data) => {\n                this.toggleBookModal();\n                this.getBooks();\n            })\n            .catch(() => {\n                this.setState({uploadImageModalLoading: false});\n            })\n            .finally(() => {\n            })\n    }\n\n    uploadImage(bookId, data) {\n        const toSend = new FormData();\n        Object.keys(data).forEach(k => {\n            if (k === 'image_url' && data[k].value && data[k].value[0]) {\n                toSend.append(k, data[k].value[0]);\n            }\n        });\n        this.setState({showBookModalLoading: true});\n        rest.updateBook(bookId, toSend)\n            .then((data) => {\n                this.toggleUploadImageModal();\n                this.getBooks();\n            })\n            .catch(() => {\n                this.setState({showBookModalLoading: false});\n            })\n            .finally(() => {\n\n            })\n    }\n\n    downloadXlsx(book) {\n        rest.downloadXlsx(book._id)\n            .then((data) => {\n                console.log(data);\n                const url = window.URL.createObjectURL(new Blob([data]));\n                const link = document.createElement('a');\n                link.href = url;\n                link.setAttribute('download', `${book._id}.xlsx`); //or any other extension\n                document.body.appendChild(link);\n                link.click();\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n            .finally(() => {\n\n            })\n    }\n\n    render() {\n        return (\n            <div className={'page management flex-100'}>\n                {this.state.books.map((book, index) => {\n                    return (\n                        <div key={index}\n                             className='d-flex flex-column flex-100 justify-content-center align-content-center margin15'>\n                            <Book {...book} isManagement={true} />\n                            <ButtonGroup className='marginTop30px'>\n                                {!book.deleted && <Button onClick={this.deleteBook.bind(this, book)}>מחק</Button>}\n                                {book.deleted && <Button onClick={this.restoreBook.bind(this, book)}>שחזר</Button>}\n                                {book.deleted && <Button onClick={this.removeBookPermanently.bind(this, book)}>הסר לצמיתות</Button>}\n                                {!book.deleted && <Button onClick={this.updateBookAction.bind(this, book)}>ערוך</Button>}\n                                <Button onClick={this.uploadImageAction.bind(this, book)}>העלאת תמונה</Button>\n                            </ButtonGroup>\n                            <ButtonGroup className='marginTop30px'>\n                                <Button onClick={this.downloadXlsx.bind(this, book)}>הורד אקסל</Button>\n                            </ButtonGroup>\n                        </div>\n                    )\n                })}\n                <MyModal show={this.state.showBookModal} onHide={this.toggleBookModal.bind(this)} hideFooter={true}\n                         title={'ערוך ספר'}>\n                    <Form fields={this.bookForm}\n                          loading={this.state.showBookModalLoading}\n                          submitText={\"שמור\"}\n                          callback={this.bookFormCallback}/>\n                </MyModal>\n\n                <MyModal show={this.state.showUploadImageModal} onHide={this.toggleUploadImageModal.bind(this)}\n                         hideFooter={true}\n                         title={'העלאת תמונה'}>\n                    <Form fields={this.bookForm}\n                          preview={true}\n                          loading={this.state.uploadImageModalLoading}\n                          submitText={\"שמור\"}\n                          callback={this.bookFormCallback}/>\n                </MyModal>\n\n                <ActionButton.Container className={`custom_fab-container`}>\n                    <ActionButton.Link\n                        tooltip=\"הוסף ספר\"\n                        children={\n                            <div onClick={this.addBookAction.bind(this)}><FontAwesomeIcon icon={ICONS.faBook}/></div>\n                        }\n                    />\n                    <ActionButton.Button\n                        className=\"fab-item btn btn-link btn-lg text-white\"\n                        tooltip=\"\"\n                        icon=\"fa fa-plus\"\n                        rotate={true}\n                    />\n                </ActionButton.Container>\n            </div>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        app: state.app,\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    const creators = app_actions; // [].concat.apply([],actions).filter(value => typeof value === 'function');\n\n    return {\n        actions: bindActionCreators(creators, dispatch),\n        dispatch\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Management);\n","import React, { Component } from \"react\";\nimport '../css/404.scss';\n\nclass Register extends Component {\n    constructor (props) {\n        super(props);\n        this.state = {\n\n        }\n\n    }\n\n    render () {\n        return (\n            <div className='page404 flex-100 flex-column padd10 justify-content-center align-content-center align-items-center text-center height-inherit' style={{width: '95%'}}>\n               <h1>404</h1>\n                <br/>\n               <h3>הדף לא נמצא</h3>\n            </div>\n        )\n    }\n}\nexport default Register;\n","import React, {Component, useEffect, useState} from \"react\";\nimport {VersesRange} from \"../components/VersesRange\";\nimport * as ICONS from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport rest from \"../rest\";\n\nexport const Cart = ({verses, actions}) => {\n    const [selectedVerses, setSelectedVerses] = useState([]);\n    useEffect(() => {\n        setSelectedVerses(verses);\n    }, []);\n\n    useEffect(() => {\n        updatePrice();\n    }, [selectedVerses]);\n    useEffect(() => {\n        if (!selectedVerses.length) {\n            actions.updateModal({\n                update: true,\n                hideFooter: true,\n                buttons: []\n            });\n        }\n    }, [selectedVerses]);\n\n    const updatePrice = () => {\n        rest.getSelectedVersesPriceAndAmount(selectedVerses)\n            .then(res => {\n                const price = res.price || 0;\n                if (price !== 0) {\n                    actions.updateModal({\n                        update: true,\n                        hideFooter: false,\n                        buttons: [\n                            {\n                                name: `\n                        המשך לרכישה\n                        (${price})\n                    `,\n                                callback: () => {\n                                    window.location.href = '/7?step=7';\n                                }\n                            },\n                            {\n                                name: 'נקה הכל',\n                                callback: () => {\n                                    actions.clearCart();\n                                    setSelectedVerses([]);\n                                }\n                            }\n                        ]\n                    })\n                }\n            })\n            .catch(v => 0);\n\n    }\n\n    const removeItem = (id) => {\n        const text = \"האם אתה בטוח?\";\n        if (window.confirm(text) == true) {\n            const index = selectedVerses.findIndex(v => v._id === id);\n            if (index !== -1) {\n                const tmp = [...selectedVerses];\n                tmp.splice(index, 1);\n                setSelectedVerses(() => tmp);\n            }\n            actions.removeFromCart(id);\n        }\n    }\n\n    return (\n        <React.Fragment>\n            {!selectedVerses.length && <h3 className='d-flex'>\n                לא נבחרו פסוקים\n            </h3>}\n            <ol>\n                {selectedVerses.map((val, index) => {\n                    return <li key={val._id}>\n                        <div className='marginBottom30px'>\n                            <div className='pointer marginBottom5px' onClick={() => removeItem(val._id)} >\n                                <FontAwesomeIcon className='marginLeft5px marginRight5px' icon={ICONS.faTrash}/>\n                                <span>\n                                    הסר מהעגלה\n                                </span>\n                            </div>\n                            {!val.range && <p>{val.text}</p>}\n                            {val.range && <VersesRange val={val} withBook={true}/>}\n                            <p>- {val.bless.map(v => v.name).join(', ')}</p>\n                        </div>\n                    </li>\n                })}\n            </ol>\n        </React.Fragment>\n    )\n};\n","import React from 'react';\nimport {bindActionCreators} from 'redux';\nimport * as app_actions from './store/app/actions';\nimport Home from \"./pages/Home\";\nimport Login from './pages/Login';\nimport Management from './pages/Management';\nimport NotFound from './pages/NotFound';\nimport {connect} from 'react-redux';\nimport { HashRouter, BrowserRouter, Switch, Route, Redirect, Link} from \"react-router-dom\";\nimport 'font-awesome/css/font-awesome.min.css';\nimport './css/App.css';\nimport {isMobileView} from \"./utils\";\nimport store from './store';\nimport Modal from './components/Modal';\nimport {ButtonToolbar, ButtonGroup, Button, Navbar, Nav, NavDropdown, Container, Row, Col, Image} from 'react-bootstrap';\nimport $ from 'jquery';\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport * as ICONS from \"@fortawesome/free-solid-svg-icons\";\nimport {Cart} from \"./components/Cart\";\nimport Badge from \"react-bootstrap/Badge\";\nimport rest from \"./rest\";\nimport HeaderIcon from \"./assets/header-icon.svg\"\n\n/*let { history } = this.props;\nhistory.push({\n    pathname: '/results',\n    query: payload,\n    questions: data.questions\n});\nthis.props.location.questions*/\n\nfunction select(state) {\n    return state.app.token;\n}\n\nlet currentValue;\nfunction handleChange() {\n    let previousValue = currentValue\n    currentValue = select(store.getState())\n    // console.log('token changed',previousValue, currentValue)\n}\n\nconst unsubscribe = store.subscribe(handleChange)\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n    <Route render={(props) =>\n        {\n            return (\n                rest.app.token\n                ? <Component {...props} {...rest.computedMatch} />\n                : <Redirect to={{pathname: '/',}} />\n            )\n        }\n\n    } />\n)\n\n;(function() {\n    var pushState = window.history.pushState;\n    var replaceState = window.history.replaceState;\n\n    window.history.pushState = function() {\n        pushState.apply(window.history, arguments);\n        window.dispatchEvent(new Event('pushstate'));\n        window.dispatchEvent(new Event('locationchange'));\n    };\n\n    window.history.replaceState = function() {\n        replaceState.apply(window.history, arguments);\n        window.dispatchEvent(new Event('replacestate'));\n        window.dispatchEvent(new Event('locationchange'));\n    };\n\n    window.addEventListener('popstate', function() {\n        window.dispatchEvent(new Event('locationchange'))\n    });\n})();\n\nclass App extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            showModal:false,\n            collapsed: true,\n            location: '/',\n        };\n    }\n\n    componentWillMount() {\n        this.onDimensionsChanged();\n    }\n\n    componentDidMount() {\n        window.addEventListener('locationchange', (e) => {\n            this.setState({location: window.location.pathname});\n            if (window.gtag) {\n                window.gtag('event', 'screen_view', {\n                    'app_name': 'tora-letter',\n                    'screen_name': window.location.pathname\n                });\n            }\n        });\n    }\n\n    onDimensionsChanged(){\n        this.props.actions.setMobileView(isMobileView())\n        if (window.innerHeight < 600) {\n            $('body').addClass('smallHeight');\n        } else {\n            $('body').removeClass('smallHeight');\n        }\n    }\n\n    goToLogin(){\n        setTimeout(this.closeNavbar.bind(this),250)\n        window.location = '/login';\n    }\n\n    logout(){\n        setTimeout(this.closeNavbar.bind(this),250)\n        this.props.actions.logout();\n    }\n\n    handleSelect(eventKey){\n        setTimeout(this.closeNavbar.bind(this),250)\n        let { history } = this.refs.browserRef;\n        history.push({\n            pathname: eventKey,\n        });\n    }\n\n    toggleNavbar() {\n        this.setState({\n            collapsed: !this.state.collapsed\n        });\n    }\n\n    closeNavbar() {\n        if (this.state.collapsed === false) {\n            this.toggleNavbar();\n        }\n    }\n\n    onClickTopBar() {\n        if (this.props.app.token) {\n            window.location = '/login';\n        } else {\n            window.history.go(-(window.history.length - 1));\n            window.location = '/'\n        }\n    }\n\n    async openCart() {\n\n        this.props.actions.updateModal({\n            show: true,\n            title: 'הפסוקים שלי',\n            body: <Cart verses={this.props.app.cart} actions={this.props.actions}/>,\n        })\n    }\n\n    render () {\n        return (\n            <React.Fragment>\n                <Navbar className='header' sticky=\"top\" bg=\"light\" expand=\"md\" expanded={!this.state.collapsed}>\n                    {this.state.location !== '/' && <Navbar.Brand className='pointer' onClick={()=>window.history.back()}>\n                        <FontAwesomeIcon icon={ICONS.faArrowRight}/>\n                    </Navbar.Brand>}\n                    <Navbar.Toggle ref={\"navbartoggle\"} aria-controls=\"basic-navbar-nav\"\n                                   children={\n                                       <FontAwesomeIcon icon={ICONS.faBars}/>\n                                   }\n                                   onClick={this.toggleNavbar.bind(this)}/>\n                    <Navbar.Brand className='pointer' onClick={this.onClickTopBar.bind(this)}>\n                       <img src={HeaderIcon} alt=\"Header Icon\" width=\"150px\"/>\n                    </Navbar.Brand>\n\n                    <Navbar.Collapse ref={\"navbarcollapse\"} id=\"basic-navbar-nav\">\n                        <Nav className=\"ml-auto\" variant=\"pills\" defaultActiveKey={window.location.pathname} onSelect={this.handleSelect.bind(this)}>\n                        </Nav>\n                        <Nav className=\"mr-auto\">\n                            {false && !this.props.app.token && <Button variant=\"outline-light\" onClick={this.goToLogin.bind(this)}>התחבר</Button>}\n                            {this.props.app.token && <Button variant=\"outline-light\" onClick={this.logout.bind(this)}>התנתק</Button>}\n                            <div className='pointer' onClick={this.openCart.bind(this)}>\n                                <Badge text=\"white\" style={{color: 'white'}}>({this.props.app.cart.length})</Badge>\n                                <FontAwesomeIcon className='marginLeft5px' icon={ICONS.faShoppingCart} color={'white'}></FontAwesomeIcon>\n                            </div>\n                        </Nav>\n\n                    </Navbar.Collapse>\n                </Navbar>\n\n                {<Modal show={this.props.app.modal && this.props.app.modal.show}\n                        onHide={this.props.actions.resetModal}\n                        onClose={this.props.actions.resetModal}\n                        title={this.props.app.modal && this.props.app.modal.title}\n                        body={this.props.app.modal && this.props.app.modal.body}\n                        buttons={this.props.app.modal && this.props.app.modal.buttons}/>}\n\n                <BrowserRouter ref={'browserRef'} className={`App flex-100 layout layout-align-center-center`}>\n                  <Switch>\n                      <Route exact path=\"/\" key=\"default\" component={Home} />\n                      <Route path=\"/1\" key=\"1\" component={Home} />\n                      <Route path=\"/2\" key=\"2\" component={Home} />\n                      <Route path=\"/3\" key=\"3\" component={Home} />\n                      <Route path=\"/4\" key=\"4\" component={Home} />\n                      <Route path=\"/5\" key=\"5\" component={Home} />\n                      <Route path=\"/6\" key=\"6\" component={Home} />\n                      <Route path=\"/7\" key=\"7\" component={Home} />\n                      <Route path=\"/8\" key=\"8\" component={Home} />\n                      <Route exact path=\"/login\" component={Login}/>\n                      <PrivateRoute path=\"/management\" component={Management} {...this.props}/>\n                      <Route component={NotFound} />\n                 </Switch>\n                </BrowserRouter>\n    \n                <Navbar fixed='bottom' bg=\"light\" className='footer'>\n                {this.state.location !== '/' && <Navbar.Brand className='pointer' onClick={()=>window.history.back()}>\n                        <FontAwesomeIcon icon={ICONS.faArrowRight}/>\n                    </Navbar.Brand>}\n                    <Nav>\n                            {false && !this.props.app.token && <Button variant=\"outline-light\" onClick={this.goToLogin.bind(this)}>התחבר</Button>}\n                            {this.props.app.token && <Button variant=\"outline-light\" onClick={this.logout.bind(this)}>התנתק</Button>}\n                            <div className='pointer' onClick={this.openCart.bind(this)}>\n                                <Badge text=\"white\" style={{color: 'white'}}>({this.props.app.cart.length})</Badge>\n                                <FontAwesomeIcon className='marginLeft5px' icon={ICONS.faShoppingCart} color={'white'}></FontAwesomeIcon>\n                            </div>\n                    </Nav>\n                    <Navbar.Brand className='pointer' onClick={this.onClickTopBar.bind(this)}>\n                        <FontAwesomeIcon icon={ICONS.faHome}/>\n                    </Navbar.Brand>\n                </Navbar>\n\n            </React.Fragment>\n        )\n    };\n}\n\nfunction mapStateToProps(state) {\n    return {\n        app: state.app,\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    const creators = app_actions; // [].concat.apply([],actions).filter(value => typeof value === 'function');\n\n    return {\n        actions: bindActionCreators(creators, dispatch),\n        dispatch\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './css/bootstrap-custom.scss';\nimport './css/index.scss';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport * as app_actions from './store/app/actions';\nconst store = require('./store').default;\n\nstore.dispatch(app_actions.init());\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>\n    , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}